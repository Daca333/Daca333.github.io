"use strict";(self.webpackChunkangular_tour_of_heroes=self.webpackChunkangular_tour_of_heroes||[]).push([[179],{6304:(qe,pe,T)=>{T.d(pe,{Dh:()=>_e,GT:()=>se,cc:()=>ie,hO:()=>Ae,on:()=>N,pX:()=>Y,xv:()=>oe});var u=T(8926),z=T(120),B=T(2793);qe=T.hmd(qe);const G=["ngOnDestroy"],Y=(be,Ge,we,Te={})=>new Proxy(be,{get:(Ee,xe)=>we.runOutsideAngular(()=>{var Se;if(be[xe])return!(null===(Se=Te?.spy)||void 0===Se)&&Se.get&&Te.spy.get(xe,be[xe]),be[xe];if(G.indexOf(xe)>-1)return()=>{};const q=Ge.toPromise().then(Q=>{const J=Q&&Q[xe];return"function"==typeof J?J.bind(Q):J&&J.then?J.then(Ce=>we.run(()=>Ce)):we.run(()=>J)});return new Proxy(()=>{},{get:(Q,J)=>q[J],apply:(Q,J,Ce)=>q.then(Ct=>{var Ht;const nn=Ct&&Ct(...Ce);return!(null===(Ht=Te?.spy)||void 0===Ht)&&Ht.apply&&Te.spy.apply(xe,Ce,nn),nn})})})}),se=(be,Ge)=>{Ge.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(Te=>{Object.defineProperty(be.prototype,Te,Object.getOwnPropertyDescriptor(we.prototype||we,Te))})})};class ce{constructor(Ge){return Ge}}const _e=new u.OlP("angularfire2.app.options"),oe=new u.OlP("angularfire2.app.name");function N(be,Ge,we){const Ee="object"==typeof we&&we||{};Ee.name=Ee.name||"string"==typeof we&&we||"[DEFAULT]";const Se=z.Z.apps.filter(q=>q&&q.name===Ee.name)[0]||Ge.runOutsideAngular(()=>z.Z.initializeApp(be,Ee));try{JSON.stringify(be)!==JSON.stringify(Se.options)&&k("error",`${Se.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(Se)}const k=(be,...Ge)=>{(0,u.X6Q)()&&typeof console<"u"&&console[be](...Ge)},ee={provide:ce,useFactory:N,deps:[_e,u.R0b,[new u.FiY,oe]]};let Ae=(()=>{class be{constructor(we){z.Z.registerVersion("angularfire",B.q4.full,"core"),z.Z.registerVersion("angularfire",B.q4.full,"app-compat"),z.Z.registerVersion("angular",u.q4F.full,we.toString())}static initializeApp(we,Te){return{ngModule:be,providers:[{provide:_e,useValue:we},{provide:oe,useValue:Te}]}}}return be.\u0275fac=function(we){return new(we||be)(u.LFG(u.Lbi))},be.\u0275mod=u.oAB({type:be}),be.\u0275inj=u.cJS({providers:[ee]}),be})();function ie(be,Ge,we,Te,Ee){const[,xe,Se]=globalThis.\u0275AngularfireInstanceCache.find(q=>q[0]===be)||[];if(xe)return function Ne(be,Ge){try{return be.toString()===Ge.toString()}catch{return be===Ge}}(Ee,Se)||(Fe("error",`${Ge} was already initialized on the ${we} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:Ee,was:Se})),xe;{const q=Te();return globalThis.\u0275AngularfireInstanceCache.push([be,q,Ee]),q}}const Le=!!qe.hot,Fe=(be,...Ge)=>{(0,u.X6Q)()&&typeof console<"u"&&console[be](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(qe,pe,T)=>{T.d(pe,{q4:()=>Vu,iC:()=>Xg,HU:()=>Hu,vb:()=>Qg,JM:()=>ju});var u=T(8926),z=T(4097),B=T(5861),G=T(4303),Y=T(9058),se=T(4537),ce=T(7879);const _e=(v,b)=>b.some(C=>v instanceof C);let oe,N;const Ae=new WeakMap,ie=new WeakMap,Ne=new WeakMap,Le=new WeakMap,Fe=new WeakMap;let we={get(v,b,C){if(v instanceof IDBTransaction){if("done"===b)return ie.get(v);if("objectStoreNames"===b)return v.objectStoreNames||Ne.get(v);if("store"===b)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return Se(v[b])},set:(v,b,C)=>(v[b]=C,!0),has:(v,b)=>v instanceof IDBTransaction&&("done"===b||"store"===b)||b in v};function xe(v){return"function"==typeof v?function Ee(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return N||(N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...b){return v.apply(q(this),b),Se(Ae.get(this))}:function(...b){return Se(v.apply(q(this),b))}:function(b,...C){const S=v.call(q(this),b,...C);return Ne.set(S,b.sort?b.sort():[b]),Se(S)}}(v):(v instanceof IDBTransaction&&function Ge(v){if(ie.has(v))return;const b=new Promise((C,S)=>{const L=()=>{v.removeEventListener("complete",H),v.removeEventListener("error",re),v.removeEventListener("abort",re)},H=()=>{C(),L()},re=()=>{S(v.error||new DOMException("AbortError","AbortError")),L()};v.addEventListener("complete",H),v.addEventListener("error",re),v.addEventListener("abort",re)});ie.set(v,b)}(v),_e(v,function k(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,we):v)}function Se(v){if(v instanceof IDBRequest)return function be(v){const b=new Promise((C,S)=>{const L=()=>{v.removeEventListener("success",H),v.removeEventListener("error",re)},H=()=>{C(Se(v.result)),L()},re=()=>{S(v.error),L()};v.addEventListener("success",H),v.addEventListener("error",re)});return b.then(C=>{C instanceof IDBCursor&&Ae.set(C,v)}).catch(()=>{}),Fe.set(b,v),b}(v);if(Le.has(v))return Le.get(v);const b=xe(v);return b!==v&&(Le.set(v,b),Fe.set(b,v)),b}const q=v=>Fe.get(v),Ce=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],Ht=new Map;function nn(v,b){if(!(v instanceof IDBDatabase)||b in v||"string"!=typeof b)return;if(Ht.get(b))return Ht.get(b);const C=b.replace(/FromIndex$/,""),S=b!==C,L=Ct.includes(C);if(!(C in(S?IDBIndex:IDBObjectStore).prototype)||!L&&!Ce.includes(C))return;const H=function(){var re=(0,B.Z)(function*(Oe,...Pe){const He=this.transaction(Oe,L?"readwrite":"readonly");let nt=He.store;return S&&(nt=nt.index(Pe.shift())),(yield Promise.all([nt[C](...Pe),L&&He.done]))[0]});return function(Pe){return re.apply(this,arguments)}}();return Ht.set(b,H),H}!function Te(v){we=v(we)}(v=>({...v,get:(b,C,S)=>nn(b,C)||v.get(b,C,S),has:(b,C)=>!!nn(b,C)||v.has(b,C)}));const $t="@firebase/installations",zt="0.6.4",rn=1e4,oi=`w:${zt}`,K="FIS_v2",ne="https://firebaseinstallations.googleapis.com/v1",ae=36e5,$e=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(v){return v instanceof Y.ZR&&v.code.includes("request-failed")}function dn({projectId:v}){return`${ne}/projects/${v}/installations`}function tt(v){return{token:v.token,requestStatus:2,expiresIn:qn(v.expiresIn),creationTime:Date.now()}}function ct(v,b){return Re.apply(this,arguments)}function Re(){return(Re=(0,B.Z)(function*(v,b){const S=(yield b.json()).error;return $e.create("request-failed",{requestName:v,serverCode:S.code,serverMessage:S.message,serverStatus:S.status})})).apply(this,arguments)}function Kt({apiKey:v}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v})}function Sn(v){return rt.apply(this,arguments)}function rt(){return(rt=(0,B.Z)(function*(v){const b=yield v();return b.status>=500&&b.status<600?v():b})).apply(this,arguments)}function qn(v){return Number(v.replace("s","000"))}function Vn(){return(Vn=(0,B.Z)(function*({appConfig:v,heartbeatServiceProvider:b},{fid:C}){const S=dn(v),L=Kt(v),H=b.getImmediate({optional:!0});if(H){const He=yield H.getHeartbeatsHeader();He&&L.append("x-firebase-client",He)}const Oe={method:"POST",headers:L,body:JSON.stringify({fid:C,authVersion:K,appId:v.appId,sdkVersion:oi})},Pe=yield Sn(()=>fetch(S,Oe));if(Pe.ok){const He=yield Pe.json();return{fid:He.fid||C,registrationStatus:2,refreshToken:He.refreshToken,authToken:tt(He.authToken)}}throw yield ct("Create Installation",Pe)})).apply(this,arguments)}function Rr(v){return new Promise(b=>{setTimeout(b,v)})}const dr=/^[cdef][\w-]{21}$/,bn="";function ot(){try{const v=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(v),v[0]=112+v[0]%16;const C=function mt(v){return function Or(v){return btoa(String.fromCharCode(...v)).replace(/\+/g,"-").replace(/\//g,"_")}(v).substr(0,22)}(v);return dr.test(C)?C:bn}catch{return bn}}function ai(v){return`${v.appName}!${v.appId}`}const et=new Map;function pn(v,b){const C=ai(v);fr(C,b),function Gt(v,b){const C=function Lt(){return!Ft&&"BroadcastChannel"in self&&(Ft=new BroadcastChannel("[Firebase] FID Change"),Ft.onmessage=v=>{fr(v.data.key,v.data.fid)}),Ft}();C&&C.postMessage({key:v,fid:b}),function fo(){0===et.size&&Ft&&(Ft.close(),Ft=null)}()}(C,b)}function fr(v,b){const C=et.get(v);if(C)for(const S of C)S(b)}let Ft=null;const Ri="firebase-installations-database",Pr=1,An="firebase-installations-store";let Qi=null;function ue(){return Qi||(Qi=function Q(v,b,{blocked:C,upgrade:S,blocking:L,terminated:H}={}){const re=indexedDB.open(v,b),Oe=Se(re);return S&&re.addEventListener("upgradeneeded",Pe=>{S(Se(re.result),Pe.oldVersion,Pe.newVersion,Se(re.transaction))}),C&&re.addEventListener("blocked",()=>C()),Oe.then(Pe=>{H&&Pe.addEventListener("close",()=>H()),L&&Pe.addEventListener("versionchange",()=>L())}).catch(()=>{}),Oe}(Ri,Pr,{upgrade:(v,b)=>{0===b&&v.createObjectStore(An)}})),Qi}function U(v,b){return de.apply(this,arguments)}function de(){return(de=(0,B.Z)(function*(v,b){const C=ai(v),L=(yield ue()).transaction(An,"readwrite"),H=L.objectStore(An),re=yield H.get(C);return yield H.put(b,C),yield L.done,(!re||re.fid!==b.fid)&&pn(v,b.fid),b})).apply(this,arguments)}function ke(v){return We.apply(this,arguments)}function We(){return(We=(0,B.Z)(function*(v){const b=ai(v),S=(yield ue()).transaction(An,"readwrite");yield S.objectStore(An).delete(b),yield S.done})).apply(this,arguments)}function Xe(v,b){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,B.Z)(function*(v,b){const C=ai(v),L=(yield ue()).transaction(An,"readwrite"),H=L.objectStore(An),re=yield H.get(C),Oe=b(re);return void 0===Oe?yield H.delete(C):yield H.put(Oe,C),yield L.done,Oe&&(!re||re.fid!==Oe.fid)&&pn(v,Oe.fid),Oe})).apply(this,arguments)}function P(v){return O.apply(this,arguments)}function O(){return O=(0,B.Z)(function*(v){let b;const C=yield Xe(v.appConfig,S=>{const L=function j(v){return ln(v||{fid:ot(),registrationStatus:0})}(S),H=function ge(v,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject($e.create("app-offline"))};const C={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},S=function te(v,b){return Ze.apply(this,arguments)}(v,C);return{installationEntry:C,registrationPromise:S}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:ht(v)}:{installationEntry:b}}(v,L);return b=H.registrationPromise,H.installationEntry});return C.fid===bn?{installationEntry:yield b}:{installationEntry:C,registrationPromise:b}}),O.apply(this,arguments)}function Ze(){return Ze=(0,B.Z)(function*(v,b){try{const C=yield function si(v,b){return Vn.apply(this,arguments)}(v,b);return U(v.appConfig,C)}catch(C){throw xt(C)&&409===C.customData.serverCode?yield ke(v.appConfig):yield U(v.appConfig,{fid:b.fid,registrationStatus:0}),C}}),Ze.apply(this,arguments)}function ht(v){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,B.Z)(function*(v){let b=yield li(v.appConfig);for(;1===b.registrationStatus;)yield Rr(100),b=yield li(v.appConfig);if(0===b.registrationStatus){const{installationEntry:C,registrationPromise:S}=yield P(v);return S||C}return b})).apply(this,arguments)}function li(v){return Xe(v,b=>{if(!b)throw $e.create("installation-not-found");return ln(b)})}function ln(v){return function Oi(v){return 1===v.registrationStatus&&v.registrationTime+rn<Date.now()}(v)?{fid:v.fid,registrationStatus:0}:v}function ci(){return(ci=(0,B.Z)(function*({appConfig:v,heartbeatServiceProvider:b},C){const S=function Ot(v,{fid:b}){return`${dn(v)}/${b}/authTokens:generate`}(v,C),L=function Tn(v,{refreshToken:b}){const C=Kt(v);return C.append("Authorization",function Yn(v){return`${K} ${v}`}(b)),C}(v,C),H=b.getImmediate({optional:!0});if(H){const He=yield H.getHeartbeatsHeader();He&&L.append("x-firebase-client",He)}const Oe={method:"POST",headers:L,body:JSON.stringify({installation:{sdkVersion:oi,appId:v.appId}})},Pe=yield Sn(()=>fetch(S,Oe));if(Pe.ok)return tt(yield Pe.json());throw yield ct("Generate Auth Token",Pe)})).apply(this,arguments)}function ho(v){return na.apply(this,arguments)}function na(){return na=(0,B.Z)(function*(v,b=!1){let C;const S=yield Xe(v.appConfig,H=>{if(!Go(H))throw $e.create("not-registered");const re=H.authToken;if(!b&&function hr(v){return 2===v.requestStatus&&!function Ji(v){const b=Date.now();return b<v.creationTime||v.creationTime+v.expiresIn<b+ae}(v)}(re))return H;if(1===re.requestStatus)return C=function ia(v,b){return ra.apply(this,arguments)}(v,b),H;{if(!navigator.onLine)throw $e.create("app-offline");const Oe=function kt(v){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},v),{authToken:b})}(H);return C=function yg(v,b){return Xi.apply(this,arguments)}(v,Oe),Oe}});return C?yield C:S.authToken}),na.apply(this,arguments)}function ra(){return(ra=(0,B.Z)(function*(v,b){let C=yield Gf(v.appConfig);for(;1===C.authToken.requestStatus;)yield Rr(100),C=yield Gf(v.appConfig);const S=C.authToken;return 0===S.requestStatus?ho(v,b):S})).apply(this,arguments)}function Gf(v){return Xe(v,b=>{if(!Go(b))throw $e.create("not-registered");return function uu(v){return 1===v.requestStatus&&v.requestTime+rn<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function Xi(){return Xi=(0,B.Z)(function*(v,b){try{const C=yield function at(v,b){return ci.apply(this,arguments)}(v,b),S=Object.assign(Object.assign({},b),{authToken:C});return yield U(v.appConfig,S),C}catch(C){if(!xt(C)||401!==C.customData.serverCode&&404!==C.customData.serverCode){const S=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield U(v.appConfig,S)}else yield ke(v.appConfig);throw C}}),Xi.apply(this,arguments)}function Go(v){return void 0!==v&&2===v.registrationStatus}function Wo(){return(Wo=(0,B.Z)(function*(v){const b=v,{installationEntry:C,registrationPromise:S}=yield P(b);return S?S.catch(console.error):ho(b).catch(console.error),C.fid})).apply(this,arguments)}function er(){return er=(0,B.Z)(function*(v,b=!1){const C=v;return yield function oa(v){return sa.apply(this,arguments)}(C),(yield ho(C,b)).token}),er.apply(this,arguments)}function sa(){return(sa=(0,B.Z)(function*(v){const{registrationPromise:b}=yield P(v);b&&(yield b)})).apply(this,arguments)}function _s(v){return $e.create("missing-app-config-values",{valueName:v})}const qf="installations",pr=v=>{const b=v.getProvider("app").getImmediate(),C=function pu(v){if(!v||!v.options)throw _s("App Configuration");if(!v.name)throw _s("App Name");const b=["projectId","apiKey","appId"];for(const C of b)if(!v.options[C])throw _s(C);return{appName:v.name,projectId:v.options.projectId,apiKey:v.options.apiKey,appId:v.options.appId}}(b);return{app:b,appConfig:C,heartbeatServiceProvider:(0,G.qX)(b,"heartbeat"),_delete:()=>Promise.resolve()}},Yf=v=>{const b=v.getProvider("app").getImmediate(),C=(0,G.qX)(b,qf).getImmediate();return{getId:()=>function du(v){return Wo.apply(this,arguments)}(C),getToken:L=>function fu(v){return er.apply(this,arguments)}(C,L)}};(function Eg(){(0,G.Xd)(new se.wA(qf,pr,"PUBLIC")),(0,G.Xd)(new se.wA("installations-internal",Yf,"PRIVATE"))})(),(0,G.KN)($t,zt),(0,G.KN)($t,zt,"esm2017");const Kf="@firebase/remote-config",ui=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Sg{constructor(b,C,S,L){this.client=b,this.storage=C,this.storageCache=S,this.logger=L}isCachedDataFresh(b,C){if(!C)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const S=Date.now()-C,L=S<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${S}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${L}.`),L}fetch(b){var C=this;return(0,B.Z)(function*(){const[S,L]=yield Promise.all([C.storage.getLastSuccessfulFetchTimestampMillis(),C.storage.getLastSuccessfulFetchResponse()]);if(L&&C.isCachedDataFresh(b.cacheMaxAgeMillis,S))return L;b.eTag=L&&L.eTag;const H=yield C.client.fetch(b),re=[C.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===H.status&&re.push(C.storage.setLastSuccessfulFetchResponse(H)),yield Promise.all(re),H})()}}function Ag(v=navigator){return v.languages&&v.languages[0]||v.language}class on{constructor(b,C,S,L,H,re){this.firebaseInstallations=b,this.sdkVersion=C,this.namespace=S,this.projectId=L,this.apiKey=H,this.appId=re}fetch(b){var C=this;return(0,B.Z)(function*(){const[S,L]=yield Promise.all([C.firebaseInstallations.getId(),C.firebaseInstallations.getToken()]),re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${C.projectId}/namespaces/${C.namespace}:fetch?key=${C.apiKey}`,Oe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},Pe={sdk_version:C.sdkVersion,app_instance_id:S,app_instance_id_token:L,app_id:C.appId,language_code:Ag()},He={method:"POST",headers:Oe,body:JSON.stringify(Pe)},nt=fetch(re,He),lt=new Promise((Ui,sr)=>{b.signal.addEventListener(()=>{const sn=new Error("The operation was aborted.");sn.name="AbortError",sr(sn)})});let rr;try{yield Promise.race([nt,lt]),rr=yield nt}catch(Ui){let sr="fetch-client-network";throw"AbortError"===Ui?.name&&(sr="fetch-timeout"),ui.create(sr,{originalErrorMessage:Ui?.message})}let On=rr.status;const $u=rr.headers.get("ETag")||void 0;let Pa,or;if(200===rr.status){let Ui;try{Ui=yield rr.json()}catch(sr){throw ui.create("fetch-client-parse",{originalErrorMessage:sr?.message})}Pa=Ui.entries,or=Ui.state}if("INSTANCE_STATE_UNSPECIFIED"===or?On=500:"NO_CHANGE"===or?On=304:("NO_TEMPLATE"===or||"EMPTY_CONFIG"===or)&&(Pa={}),304!==On&&200!==On)throw ui.create("fetch-status",{httpStatus:On});return{status:On,eTag:$u,config:Pa}})()}}class cn{constructor(b,C){this.client=b,this.storage=C}fetch(b){var C=this;return(0,B.Z)(function*(){const S=(yield C.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return C.attemptFetch(b,S)})()}attemptFetch(b,{throttleEndTimeMillis:C,backoffCount:S}){var L=this;return(0,B.Z)(function*(){yield function Ve(v,b){return new Promise((C,S)=>{const L=Math.max(b-Date.now(),0),H=setTimeout(C,L);v.addEventListener(()=>{clearTimeout(H),S(ui.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,C);try{const H=yield L.client.fetch(b);return yield L.storage.deleteThrottleMetadata(),H}catch(H){if(!function gt(v){if(!(v instanceof Y.ZR&&v.customData))return!1;const b=Number(v.customData.httpStatus);return 429===b||500===b||503===b||504===b}(H))throw H;const re={throttleEndTimeMillis:Date.now()+(0,Y.$s)(S),backoffCount:S+1};return yield L.storage.setThrottleMetadata(re),L.attemptFetch(b,re)}})()}}class Hn{constructor(b,C,S,L,H){this.app=b,this._client=C,this._storageCache=S,this._storage=L,this._logger=H,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nr(v,b){const C=v.target.error||void 0;return ui.create(b,{originalErrorMessage:C&&C?.message})}const Wt="app_namespace_store";class Tl{constructor(b,C,S,L=function pt(){return new Promise((v,b)=>{try{const C=indexedDB.open("firebase_remote_config",1);C.onerror=S=>{b(Nr(S,"storage-open"))},C.onsuccess=S=>{v(S.target.result)},C.onupgradeneeded=S=>{0===S.oldVersion&&S.target.result.createObjectStore(Wt,{keyPath:"compositeKey"})}}catch(C){b(ui.create("storage-open",{originalErrorMessage:C?.message}))}})}()){this.appId=b,this.appName=C,this.namespace=S,this.openDbPromise=L}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var C=this;return(0,B.Z)(function*(){const S=yield C.openDbPromise;return new Promise((L,H)=>{const Oe=S.transaction([Wt],"readonly").objectStore(Wt),Pe=C.createCompositeKey(b);try{const He=Oe.get(Pe);He.onerror=nt=>{H(Nr(nt,"storage-get"))},He.onsuccess=nt=>{const lt=nt.target.result;L(lt?lt.value:void 0)}}catch(He){H(ui.create("storage-get",{originalErrorMessage:He?.message}))}})})()}set(b,C){var S=this;return(0,B.Z)(function*(){const L=yield S.openDbPromise;return new Promise((H,re)=>{const Pe=L.transaction([Wt],"readwrite").objectStore(Wt),He=S.createCompositeKey(b);try{const nt=Pe.put({compositeKey:He,value:C});nt.onerror=lt=>{re(Nr(lt,"storage-set"))},nt.onsuccess=()=>{H()}}catch(nt){re(ui.create("storage-set",{originalErrorMessage:nt?.message}))}})})()}delete(b){var C=this;return(0,B.Z)(function*(){const S=yield C.openDbPromise;return new Promise((L,H)=>{const Oe=S.transaction([Wt],"readwrite").objectStore(Wt),Pe=C.createCompositeKey(b);try{const He=Oe.delete(Pe);He.onerror=nt=>{H(Nr(nt,"storage-delete"))},He.onsuccess=()=>{L()}}catch(He){H(ui.create("storage-delete",{originalErrorMessage:He?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class Mg{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,B.Z)(function*(){const C=b.storage.getLastFetchStatus(),S=b.storage.getLastSuccessfulFetchTimestampMillis(),L=b.storage.getActiveConfig(),H=yield C;H&&(b.lastFetchStatus=H);const re=yield S;re&&(b.lastSuccessfulFetchTimestampMillis=re);const Oe=yield L;Oe&&(b.activeConfig=Oe)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function ca(){return ki.apply(this,arguments)}function ki(){return(ki=(0,B.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}!function ys(){(0,G.Xd)(new se.wA("remote-config",function v(b,{instanceIdentifier:C}){const S=b.getProvider("app").getImmediate(),L=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ui.create("registration-window");if(!(0,Y.hl)())throw ui.create("indexed-db-unavailable");const{projectId:H,apiKey:re,appId:Oe}=S.options;if(!H)throw ui.create("registration-project-id");if(!re)throw ui.create("registration-api-key");if(!Oe)throw ui.create("registration-app-id");const Pe=new Tl(Oe,S.name,C=C||"firebase"),He=new Mg(Pe),nt=new ce.Yd(Kf);nt.logLevel=ce.in.ERROR;const lt=new on(L,G.Jn,C,H,re,Oe),rr=new cn(lt,Pe),On=new Sg(rr,Pe,He,nt),$u=new Hn(S,On,He,Pe,nt);return function th(v){const b=(0,Y.m9)(v);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}($u),$u},"PUBLIC").setMultipleInstances(!0)),(0,G.KN)(Kf,"0.4.4"),(0,G.KN)(Kf,"0.4.4","esm2017")}();const Sl=(v,b)=>b.some(C=>v instanceof C);let ua,_o;const bs=new WeakMap,_t=new WeakMap,Rg=new WeakMap,Al=new WeakMap,Ml=new WeakMap;let qo={get(v,b,C){if(v instanceof IDBTransaction){if("done"===b)return _t.get(v);if("objectStoreNames"===b)return v.objectStoreNames||Rg.get(v);if("store"===b)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return mn(v[b])},set:(v,b,C)=>(v[b]=C,!0),has:(v,b)=>v instanceof IDBTransaction&&("done"===b||"store"===b)||b in v};function r0(v){return"function"==typeof v?function kn(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function da(){return _o||(_o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...b){return v.apply($n(this),b),mn(bs.get(this))}:function(...b){return mn(v.apply($n(this),b))}:function(b,...C){const S=v.call($n(this),b,...C);return Rg.set(S,b.sort?b.sort():[b]),mn(S)}}(v):(v instanceof IDBTransaction&&function _u(v){if(_t.has(v))return;const b=new Promise((C,S)=>{const L=()=>{v.removeEventListener("complete",H),v.removeEventListener("error",re),v.removeEventListener("abort",re)},H=()=>{C(),L()},re=()=>{S(v.error||new DOMException("AbortError","AbortError")),L()};v.addEventListener("complete",H),v.addEventListener("error",re),v.addEventListener("abort",re)});_t.set(v,b)}(v),Sl(v,function kr(){return ua||(ua=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,qo):v)}function mn(v){if(v instanceof IDBRequest)return function mr(v){const b=new Promise((C,S)=>{const L=()=>{v.removeEventListener("success",H),v.removeEventListener("error",re)},H=()=>{C(mn(v.result)),L()},re=()=>{S(v.error),L()};v.addEventListener("success",H),v.addEventListener("error",re)});return b.then(C=>{C instanceof IDBCursor&&bs.set(C,v)}).catch(()=>{}),Ml.set(b,v),b}(v);if(Al.has(v))return Al.get(v);const b=r0(v);return b!==v&&(Al.set(v,b),Ml.set(b,v)),b}const $n=v=>Ml.get(v);function Rl(v,b,{blocked:C,upgrade:S,blocking:L,terminated:H}={}){const re=indexedDB.open(v,b),Oe=mn(re);return S&&re.addEventListener("upgradeneeded",Pe=>{S(mn(re.result),Pe.oldVersion,Pe.newVersion,mn(re.transaction))}),C&&re.addEventListener("blocked",()=>C()),Oe.then(Pe=>{H&&Pe.addEventListener("close",()=>H()),L&&Pe.addEventListener("versionchange",()=>L())}).catch(()=>{}),Oe}function Fr(v,{blocked:b}={}){const C=indexedDB.deleteDatabase(v);return b&&C.addEventListener("blocked",()=>b()),mn(C).then(()=>{})}const Ol=["get","getKey","getAll","getAllKeys","count"],gr=["put","add","delete","clear"],Pl=new Map;function ih(v,b){if(!(v instanceof IDBDatabase)||b in v||"string"!=typeof b)return;if(Pl.get(b))return Pl.get(b);const C=b.replace(/FromIndex$/,""),S=b!==C,L=gr.includes(C);if(!(C in(S?IDBIndex:IDBObjectStore).prototype)||!L&&!Ol.includes(C))return;const H=function(){var re=(0,B.Z)(function*(Oe,...Pe){const He=this.transaction(Oe,L?"readwrite":"readonly");let nt=He.store;return S&&(nt=nt.index(Pe.shift())),(yield Promise.all([nt[C](...Pe),L&&He.done]))[0]});return function(Pe){return re.apply(this,arguments)}}();return Pl.set(b,H),H}!function fa(v){qo=v(qo)}(v=>({...v,get:(b,C,S)=>ih(b,C)||v.get(b,C,S),has:(b,C)=>!!ih(b,C)||v.has(b,C)}));const Og="/firebase-messaging-sw.js",o0="/firebase-cloud-messaging-push-scope",Pg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",s0="https://fcmregistrations.googleapis.com/v1",fn="google.c.a.c_id",Wx="google.c.a.c_l",Zx="google.c.a.ts";var rh=function(v){return v.PUSH_RECEIVED="push-received",v.NOTIFICATION_CLICKED="notification-clicked",v}(rh||{});function Yo(v){const b=new Uint8Array(v);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kx(v){const C=(v+"=".repeat((4-v.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),S=atob(C),L=new Uint8Array(S.length);for(let H=0;H<S.length;++H)L[H]=S.charCodeAt(H);return L}const oh="fcm_token_details_db",Qx=5,a0="fcm_token_object_Store";function ha(){return ha=(0,B.Z)(function*(v){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(H=>H.name).includes(oh))return null;let b=null;return(yield Rl(oh,Qx,{upgrade:(S=(0,B.Z)(function*(L,H,re,Oe){var Pe;if(H<2||!L.objectStoreNames.contains(a0))return;const He=Oe.objectStore(a0),nt=yield He.index("fcmSenderId").get(v);if(yield He.clear(),nt)if(2===H){const lt=nt;if(!lt.auth||!lt.p256dh||!lt.endpoint)return;b={token:lt.fcmToken,createTime:null!==(Pe=lt.createTime)&&void 0!==Pe?Pe:Date.now(),subscriptionOptions:{auth:lt.auth,p256dh:lt.p256dh,endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:"string"==typeof lt.vapidKey?lt.vapidKey:Yo(lt.vapidKey)}}}else if(3===H){const lt=nt;b={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Yo(lt.auth),p256dh:Yo(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Yo(lt.vapidKey)}}}else if(4===H){const lt=nt;b={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Yo(lt.auth),p256dh:Yo(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Yo(lt.vapidKey)}}}}),function(H,re,Oe,Pe){return S.apply(this,arguments)})})).close(),yield Fr(oh),yield Fr("fcm_vapid_details_db"),yield Fr("undefined"),function sh(v){if(!v||!v.subscriptionOptions)return!1;const{subscriptionOptions:b}=v;return"number"==typeof v.createTime&&v.createTime>0&&"string"==typeof v.token&&v.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}(b)?b:null;var S}),ha.apply(this,arguments)}const l0="firebase-messaging-database",ah=1,_r="firebase-messaging-store";let vo=null;function Lr(){return vo||(vo=Rl(l0,ah,{upgrade:(v,b)=>{0===b&&v.createObjectStore(_r)}})),vo}function lh(v){return vu.apply(this,arguments)}function vu(){return vu=(0,B.Z)(function*(v){const b=yu(v),S=yield(yield Lr()).transaction(_r).objectStore(_r).get(b);if(S)return S;{const L=yield function Xx(v){return ha.apply(this,arguments)}(v.appConfig.senderId);if(L)return yield Mn(v,L),L}}),vu.apply(this,arguments)}function Mn(v,b){return pa.apply(this,arguments)}function pa(){return(pa=(0,B.Z)(function*(v,b){const C=yu(v),L=(yield Lr()).transaction(_r,"readwrite");return yield L.objectStore(_r).put(b,C),yield L.done,b})).apply(this,arguments)}function ma(){return(ma=(0,B.Z)(function*(v){const b=yu(v),S=(yield Lr()).transaction(_r,"readwrite");yield S.objectStore(_r).delete(b),yield S.done})).apply(this,arguments)}function yu({appConfig:v}){return v.appId}const Fn=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ch(v,b){return bu.apply(this,arguments)}function bu(){return(bu=(0,B.Z)(function*(v,b){const C=yield ws(v),S=Es(b),L={method:"POST",headers:C,body:JSON.stringify(S)};let H;try{H=yield(yield fetch(wu(v.appConfig),L)).json()}catch(re){throw Fn.create("token-subscribe-failed",{errorInfo:re?.toString()})}if(H.error)throw Fn.create("token-subscribe-failed",{errorInfo:H.error.message});if(!H.token)throw Fn.create("token-subscribe-no-token");return H.token})).apply(this,arguments)}function Nl(){return(Nl=(0,B.Z)(function*(v,b){const C=yield ws(v),S=Es(b.subscriptionOptions),L={method:"PATCH",headers:C,body:JSON.stringify(S)};let H;try{H=yield(yield fetch(`${wu(v.appConfig)}/${b.token}`,L)).json()}catch(re){throw Fn.create("token-update-failed",{errorInfo:re?.toString()})}if(H.error)throw Fn.create("token-update-failed",{errorInfo:H.error.message});if(!H.token)throw Fn.create("token-update-no-token");return H.token})).apply(this,arguments)}function dh(v,b){return kl.apply(this,arguments)}function kl(){return(kl=(0,B.Z)(function*(v,b){const S={method:"DELETE",headers:yield ws(v)};try{const H=yield(yield fetch(`${wu(v.appConfig)}/${b}`,S)).json();if(H.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:H.error.message})}catch(L){throw Fn.create("token-unsubscribe-failed",{errorInfo:L?.toString()})}})).apply(this,arguments)}function wu({projectId:v}){return`${s0}/projects/${v}/registrations`}function ws(v){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,B.Z)(function*({appConfig:v,installations:b}){const C=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v.apiKey,"x-goog-firebase-installations-auth":`FIS ${C}`})})).apply(this,arguments)}function Es({p256dh:v,auth:b,endpoint:C,vapidKey:S}){const L={web:{endpoint:C,auth:b,p256dh:v}};return S!==Pg&&(L.web.applicationPubKey=S),L}const kg=6048e5;function Fg(){return Fg=(0,B.Z)(function*(v){const b=yield function Ll(v,b){return Ul.apply(this,arguments)}(v.swRegistration,v.vapidKey),C={vapidKey:v.vapidKey,swScope:v.swRegistration.scope,endpoint:b.endpoint,auth:Yo(b.getKey("auth")),p256dh:Yo(b.getKey("p256dh"))},S=yield lh(v.firebaseDependencies);if(S){if(function d0(v,b){return b.vapidKey===v.vapidKey&&b.endpoint===v.endpoint&&b.auth===v.auth&&b.p256dh===v.p256dh}(S.subscriptionOptions,C))return Date.now()>=S.createTime+kg?function u0(v,b){return Lg.apply(this,arguments)}(v,{token:S.token,createTime:Date.now(),subscriptionOptions:C}):S.token;try{yield dh(v.firebaseDependencies,S.token)}catch(L){console.warn(L)}return hh(v.firebaseDependencies,C)}return hh(v.firebaseDependencies,C)}),Fg.apply(this,arguments)}function fh(){return fh=(0,B.Z)(function*(v){const b=yield lh(v.firebaseDependencies);b&&(yield dh(v.firebaseDependencies,b.token),yield function Fi(v){return ma.apply(this,arguments)}(v.firebaseDependencies));const C=yield v.swRegistration.pushManager.getSubscription();return!C||C.unsubscribe()}),fh.apply(this,arguments)}function Lg(){return Lg=(0,B.Z)(function*(v,b){try{const C=yield function uh(v,b){return Nl.apply(this,arguments)}(v.firebaseDependencies,b),S=Object.assign(Object.assign({},b),{token:C,createTime:Date.now()});return yield Mn(v.firebaseDependencies,S),C}catch(C){throw yield function c0(v){return fh.apply(this,arguments)}(v),C}}),Lg.apply(this,arguments)}function hh(v,b){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,B.Z)(function*(v,b){const S={token:yield ch(v,b),createTime:Date.now(),subscriptionOptions:b};return yield Mn(v,S),S.token})).apply(this,arguments)}function Ul(){return(Ul=(0,B.Z)(function*(v,b){return(yield v.pushManager.getSubscription())||v.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kx(b)})})).apply(this,arguments)}function Eu(v){const b={from:v.from,collapseKey:v.collapse_key,messageId:v.fcmMessageId};return function ga(v,b){if(!b.notification)return;v.notification={};const C=b.notification.title;C&&(v.notification.title=C);const S=b.notification.body;S&&(v.notification.body=S);const L=b.notification.image;L&&(v.notification.image=L);const H=b.notification.icon;H&&(v.notification.icon=H)}(b,v),function ph(v,b){b.data&&(v.data=b.data)}(b,v),function _a(v,b){var C,S,L,H,re;if(!(b.fcmOptions||null!==(C=b.notification)&&void 0!==C&&C.click_action))return;v.fcmOptions={};const Oe=null!==(L=null===(S=b.fcmOptions)||void 0===S?void 0:S.link)&&void 0!==L?L:null===(H=b.notification)||void 0===H?void 0:H.click_action;Oe&&(v.fcmOptions.link=Oe);const Pe=null===(re=b.fcmOptions)||void 0===re?void 0:re.analytics_label;Pe&&(v.fcmOptions.analyticsLabel=Pe)}(b,v),b}function mh(v,b){const C=[];for(let S=0;S<v.length;S++)C.push(v.charAt(S)),S<b.length&&C.push(b.charAt(S));return C.join("")}function va(v){return Fn.create("missing-app-config-values",{valueName:v})}mh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gh{constructor(b,C,S){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const L=function Bg(v){if(!v||!v.options)throw va("App Configuration Object");if(!v.name)throw va("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:C}=v;for(const S of b)if(!C[S])throw va(S);return{appName:v.name,projectId:C.projectId,apiKey:C.apiKey,appId:C.appId,senderId:C.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:L,installations:C,analyticsProvider:S}}_delete(){return Promise.resolve()}}function ya(){return(ya=(0,B.Z)(function*(v){try{v.swRegistration=yield navigator.serviceWorker.register(Og,{scope:o0}),v.swRegistration.update().catch(()=>{})}catch(b){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function ba(){return(ba=(0,B.Z)(function*(v,b){if(!b&&!v.swRegistration&&(yield function Bl(v){return ya.apply(this,arguments)}(v)),b||!v.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");v.swRegistration=b}})).apply(this,arguments)}function Ea(){return(Ea=(0,B.Z)(function*(v,b){b?v.vapidKey=b:v.vapidKey||(v.vapidKey=Pg)})).apply(this,arguments)}function Cu(){return Cu=(0,B.Z)(function*(v,b){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield function wa(v,b){return Ea.apply(this,arguments)}(v,b?.vapidKey),yield function Vg(v,b){return ba.apply(this,arguments)}(v,b?.serviceWorkerRegistration),function Jx(v){return Fg.apply(this,arguments)}(v)}),Cu.apply(this,arguments)}function Vl(){return(Vl=(0,B.Z)(function*(v,b,C){const S=function jg(v){switch(v){case rh.NOTIFICATION_CLICKED:return"notification_open";case rh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(b);(yield v.firebaseDependencies.analyticsProvider.get()).logEvent(S,{message_id:C[fn],message_name:C[Wx],message_time:C[Zx],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jl(){return jl=(0,B.Z)(function*(v,b){const C=b.data;if(!C.isFirebaseMessaging)return;v.onMessageHandler&&C.messageType===rh.PUSH_RECEIVED&&("function"==typeof v.onMessageHandler?v.onMessageHandler(Eu(C)):v.onMessageHandler.next(Eu(C)));const S=C.data;(function Ug(v){return"object"==typeof v&&!!v&&fn in v})(S)&&"1"===S["google.c.a.e"]&&(yield function vh(v,b,C){return Vl.apply(this,arguments)}(v,C.messageType,S))}),jl.apply(this,arguments)}const bi="@firebase/messaging",yh=v=>{const b=new gh(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),v.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",C=>function xu(v,b){return jl.apply(this,arguments)}(b,C)),b},Jt=v=>{const b=v.getProvider("messaging").getImmediate();return{getToken:S=>function _h(v,b){return Cu.apply(this,arguments)}(b,S)}};function xa(){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,B.Z)(function*(){try{yield(0,Y.eu)()}catch{return!1}return typeof window<"u"&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hl(){(0,G.Xd)(new se.wA("messaging",yh,"PUBLIC")),(0,G.Xd)(new se.wA("messaging-internal",Jt,"PRIVATE")),(0,G.KN)(bi,"0.12.4"),(0,G.KN)(bi,"0.12.4","esm2017")}();const xs="analytics",h0="firebase_id",wh="origin",Eh=6e4,Ch="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zl="https://www.googletagmanager.com/gtag/js",ze=new ce.Yd("@firebase/analytics"),Kn=new Y.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ih(v){if(!v.startsWith(zl)){const b=Kn.create("invalid-gtag-resource",{gtagURL:v});return ze.warn(b.message),""}return v}function Du(v){return Promise.all(v.map(b=>b.catch(C=>C)))}function Gl(){return(Gl=(0,B.Z)(function*(v,b,C,S,L,H){const re=S[L];try{if(re)yield b[re];else{const Pe=(yield Du(C)).find(He=>He.measurementId===L);Pe&&(yield b[Pe.appId])}}catch(Oe){ze.error(Oe)}v("config",L,H)})).apply(this,arguments)}function vr(){return(vr=(0,B.Z)(function*(v,b,C,S,L){try{let H=[];if(L&&L.send_to){let re=L.send_to;Array.isArray(re)||(re=[re]);const Oe=yield Du(C);for(const Pe of re){const He=Oe.find(lt=>lt.measurementId===Pe),nt=He&&b[He.appId];if(!nt){H=[];break}H.push(nt)}}0===H.length&&(H=Object.values(b)),yield Promise.all(H),v("event",S,L||{})}catch(H){ze.error(H)}})).apply(this,arguments)}const Tu=30,Sh=new class zn{constructor(b={},C=1e3){this.throttleMetadata=b,this.intervalMillis=C}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,C){this.throttleMetadata[b]=C}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function Da(v){return new Headers({Accept:"application/json","x-goog-api-key":v})}function Wl(){return(Wl=(0,B.Z)(function*(v){var b;const{appId:C,apiKey:S}=v,L={method:"GET",headers:Da(S)},H=Ch.replace("{app-id}",C),re=yield fetch(H,L);if(200!==re.status&&304!==re.status){let Oe="";try{const Pe=yield re.json();null!==(b=Pe.error)&&void 0!==b&&b.message&&(Oe=Pe.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:re.status,responseMessage:Oe})}return re.json()})).apply(this,arguments)}function Mh(){return(Mh=(0,B.Z)(function*(v,b=Sh,C){const{appId:S,apiKey:L,measurementId:H}=v.options;if(!S)throw Kn.create("no-app-id");if(!L){if(H)return{measurementId:H,appId:S};throw Kn.create("no-api-key")}const re=b.getThrottleMetadata(S)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Oe=new Au;return setTimeout((0,B.Z)(function*(){Oe.abort()}),void 0!==C?C:Eh),m0({appId:S,apiKey:L,measurementId:H},re,Oe,b)})).apply(this,arguments)}function m0(v,b,C){return Su.apply(this,arguments)}function Su(){return Su=(0,B.Z)(function*(v,{throttleEndTimeMillis:b,backoffCount:C},S,L=Sh){var H;const{appId:re,measurementId:Oe}=v;try{yield function Ln(v,b){return new Promise((C,S)=>{const L=Math.max(b-Date.now(),0),H=setTimeout(C,L);v.addEventListener(()=>{clearTimeout(H),S(Kn.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(S,b)}catch(Pe){if(Oe)return ze.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${Pe?.message}]`),{appId:re,measurementId:Oe};throw Pe}try{const Pe=yield function Ur(v){return Wl.apply(this,arguments)}(v);return L.deleteThrottleMetadata(re),Pe}catch(Pe){const He=Pe;if(!function Br(v){if(!(v instanceof Y.ZR&&v.customData))return!1;const b=Number(v.customData.httpStatus);return 429===b||500===b||503===b||504===b}(He)){if(L.deleteThrottleMetadata(re),Oe)return ze.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${He?.message}]`),{appId:re,measurementId:Oe};throw Pe}const nt=503===Number(null===(H=He?.customData)||void 0===H?void 0:H.httpStatus)?(0,Y.$s)(C,L.intervalMillis,Tu):(0,Y.$s)(C,L.intervalMillis),lt={throttleEndTimeMillis:Date.now()+nt,backoffCount:C+1};return L.setThrottleMetadata(re,lt),ze.debug(`Calling attemptFetch again in ${nt} millis`),m0(v,lt,S,L)}}),Su.apply(this,arguments)}class Au{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let Vr,ql;function Rh(){return(Rh=(0,B.Z)(function*(v,b,C,S,L){if(L&&L.global)v("event",C,S);else{const H=yield b;v("event",C,Object.assign(Object.assign({},S),{send_to:H}))}})).apply(this,arguments)}function jr(){return(jr=(0,B.Z)(function*(){if(!(0,Y.hl)())return ze.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eu)()}catch(v){return ze.warn(Kn.create("indexeddb-unavailable",{errorInfo:v?.toString()}).message),!1}return!0})).apply(this,arguments)}function vt(){return vt=(0,B.Z)(function*(v,b,C,S,L,H,re){var Oe;const Pe=function Ah(v){return Mh.apply(this,arguments)}(v);Pe.then(On=>{C[On.measurementId]=On.appId,v.options.measurementId&&On.measurementId!==v.options.measurementId&&ze.warn(`The measurement ID in the local Firebase config (${v.options.measurementId}) does not match the measurement ID fetched from the server (${On.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(On=>ze.error(On)),b.push(Pe);const He=function Sa(){return jr.apply(this,arguments)}().then(On=>{if(On)return S.getId()}),[nt,lt]=yield Promise.all([Pe,He]);(function Tt(v){const b=window.document.getElementsByTagName("script");for(const C of Object.values(b))if(C.src&&C.src.includes(zl)&&C.src.includes(v))return C;return null})(H)||function Dh(v,b){const C=function p0(v,b){let C;return window.trustedTypes&&(C=window.trustedTypes.createPolicy(v,b)),C}("firebase-js-sdk-policy",{createScriptURL:Ih}),S=document.createElement("script"),L=`${zl}?l=${v}&id=${b}`;S.src=C?C?.createScriptURL(L):L,S.async=!0,document.head.appendChild(S)}(H,nt.measurementId),ql&&(L("consent","default",ql),function Yl(v){ql=v}(void 0)),L("js",new Date);const rr=null!==(Oe=re?.config)&&void 0!==Oe?Oe:{};return rr[wh]="firebase",rr.update=!0,null!=lt&&(rr[h0]=lt),L("config",nt.measurementId,rr),Vr&&(L("set",Vr),function Ru(v){Vr=v}(void 0)),nt.measurementId}),vt.apply(this,arguments)}class Qn{constructor(b){this.app=b}_delete(){return delete Gn[this.app.options.appId],Promise.resolve()}}let Gn={},en=[];const Ou={};let bo,En,Aa="dataLayer",Kl=!1;function Wg(v,b,C){!function wo(){const v=[];if((0,Y.ru)()&&v.push("This is a browser extension environment."),(0,Y.zI)()||v.push("Cookies are not available."),v.length>0){const b=v.map((S,L)=>`(${L+1}) ${S}`).join(" "),C=Kn.create("invalid-analytics-context",{errorInfo:b});ze.warn(C.message)}}();const S=v.options.appId;if(!S)throw Kn.create("no-app-id");if(!v.options.apiKey){if(!v.options.measurementId)throw Kn.create("no-api-key");ze.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${v.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gn[S])throw Kn.create("already-exists",{id:S});if(!Kl){!function Ia(v){let b=[];Array.isArray(window[v])?b=window[v]:window[v]=b}(Aa);const{wrappedGtag:H,gtagCore:re}=function ve(v,b,C,S,L){let H=function(...re){window[S].push(arguments)};return window[L]&&"function"==typeof window[L]&&(H=window[L]),window[L]=function $g(v,b,C,S){function H(){return H=(0,B.Z)(function*(re,...Oe){try{if("event"===re){const[Pe,He]=Oe;yield function Th(v,b,C,S,L){return vr.apply(this,arguments)}(v,b,C,Pe,He)}else if("config"===re){const[Pe,He]=Oe;yield function Hg(v,b,C,S,L,H){return Gl.apply(this,arguments)}(v,b,C,S,Pe,He)}else if("consent"===re){const[Pe]=Oe;v("consent","update",Pe)}else if("get"===re){const[Pe,He,nt]=Oe;v("get",Pe,He,nt)}else if("set"===re){const[Pe]=Oe;v("set",Pe)}else v(re,...Oe)}catch(Pe){ze.error(Pe)}}),H.apply(this,arguments)}return function L(re){return H.apply(this,arguments)}}(H,v,b,C),{gtagCore:H,wrappedGtag:window[L]}}(Gn,en,Ou,Aa,"gtag");En=H,bo=re,Kl=!0}return Gn[S]=function wi(v,b,C,S,L,H,re){return vt.apply(this,arguments)}(v,en,Ou,b,bo,Aa,C),new Qn(v)}function nr(){return Is.apply(this,arguments)}function Is(){return(Is=(0,B.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}const Fu="@firebase/analytics";!function qg(){(0,G.Xd)(new se.wA(xs,(b,{options:C})=>Wg(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),C),"PUBLIC")),(0,G.Xd)(new se.wA("analytics-internal",function v(b){try{const C=b.getProvider(xs).getImmediate();return{logEvent:(S,L,H)=>function Xl(v,b,C,S){v=(0,Y.m9)(v),function yo(v,b,C,S,L){return Rh.apply(this,arguments)}(En,Gn[v.app.options.appId],b,C,S).catch(L=>ze.error(L))}(C,S,L,H)}}catch(C){throw Kn.create("interop-component-reg-failed",{reason:C})}},"PRIVATE")),(0,G.KN)(Fu,"0.10.0"),(0,G.KN)(Fu,"0.10.0","esm2017")}();var Uu=T(1954),Ds=T(2631);const Ts=new class kh extends Ds.v{}(class Jl extends Uu.o{constructor(b,C){super(b,C),this.scheduler=b,this.work=C}schedule(b,C=0){return C>0?super.schedule(b,C):(this.delay=C,this.state=b,this.scheduler.flush(this),this)}execute(b,C){return C>0||this.closed?super.execute(b,C):this._execute(b,C)}requestAsyncId(b,C,S=0){return null!=S&&S>0||null==S&&this.delay>0?super.requestAsyncId(b,C,S):(b.flush(this),0)}});var Ra=T(6321),Yg=T(9397),ec=T(5137),Bu=T(3093);const Vu=new u.GfV("7.6.1"),Ei="__angularfire_symbol__analyticsIsSupportedValue",tc="__angularfire_symbol__analyticsIsSupported",Xo="__angularfire_symbol__remoteConfigIsSupportedValue",Jo="__angularfire_symbol__remoteConfigIsSupported",es="__angularfire_symbol__messagingIsSupportedValue",ts="__angularfire_symbol__messagingIsSupported";function ju(v,b,C){if(b){if(1===b.length)return b[0];const H=b.filter(re=>re.app===C);if(1===H.length)return H[0]}return C.container.getProvider(v).getImmediate({optional:!0})}globalThis[tc]||(globalThis[tc]=nr().then(v=>globalThis[Ei]=v).catch(()=>globalThis[Ei]=!1)),globalThis[ts]||(globalThis[ts]=xa().then(v=>globalThis[es]=v).catch(()=>globalThis[es]=!1)),globalThis[Jo]||(globalThis[Jo]=ca().then(v=>globalThis[Xo]=v).catch(()=>globalThis[Xo]=!1));const Qg=(v,b)=>{const C=b?[b]:(0,z.C6)(),S=[];return C.forEach(L=>{L.container.getProvider(v).instances.forEach(re=>{S.includes(re)||S.push(re)})}),S};function Oa(){}class Hr{constructor(b,C=Ts){this.zone=b,this.delegate=C}now(){return this.delegate.now()}schedule(b,C,S){const L=this.zone;return this.delegate.schedule(function(re){L.runGuarded(()=>{b.apply(this,[re])})},C,S)}}class wr{constructor(b){this.zone=b,this.task=null}call(b,C){const S=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oa,{},Oa,Oa)),C.pipe((0,Yg.b)({next:S,complete:S,error:S})).subscribe(b).add(S)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hu=(()=>{class v{constructor(C){this.ngZone=C,this.outsideAngular=C.runOutsideAngular(()=>new Hr(Zone.current)),this.insideAngular=C.run(()=>new Hr(Zone.current,Ra.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return v.\u0275fac=function(C){return new(C||v)(u.LFG(u.R0b))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function ir(){const v=globalThis.\u0275AngularFireScheduler;if(!v)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return v}function Xg(v){return ir(),function Jg(v){return function(C){return(C=C.lift(new wr(v.ngZone))).pipe((0,ec.R)(v.outsideAngular),(0,Bu.Q)(v.insideAngular))}}(ir())(v)}},9058:(qe,pe,T)=>{T.d(pe,{$s:()=>ke,BH:()=>xe,DV:()=>qn,GJ:()=>Sn,L:()=>oe,LL:()=>Me,P0:()=>we,Pz:()=>Ee,Sg:()=>Se,UG:()=>J,UI:()=>si,US:()=>se,Wl:()=>tt,Yr:()=>rn,ZB:()=>ee,ZR:()=>Ie,aH:()=>Te,b$:()=>Ht,cI:()=>dn,dS:()=>Ri,eu:()=>ne,g5:()=>B,gK:()=>Gt,gQ:()=>mt,h$:()=>_e,hl:()=>K,hu:()=>z,jU:()=>Ce,m9:()=>Qt,ne:()=>ai,p$:()=>k,pd:()=>ot,q4:()=>Ge,r3:()=>rt,ru:()=>Ct,tV:()=>N,uI:()=>Q,ug:()=>Pr,vZ:()=>Vn,w1:()=>$t,w9:()=>Tn,xO:()=>dr,xb:()=>Yn,z$:()=>q,zI:()=>ae,zd:()=>bn});const u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},z=function(P,O){if(!P)throw B(O)},B=function(P){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+P)},G=function(P){const O=[];let j=0;for(let ge=0;ge<P.length;ge++){let te=P.charCodeAt(ge);te<128?O[j++]=te:te<2048?(O[j++]=te>>6|192,O[j++]=63&te|128):55296==(64512&te)&&ge+1<P.length&&56320==(64512&P.charCodeAt(ge+1))?(te=65536+((1023&te)<<10)+(1023&P.charCodeAt(++ge)),O[j++]=te>>18|240,O[j++]=te>>12&63|128,O[j++]=te>>6&63|128,O[j++]=63&te|128):(O[j++]=te>>12|224,O[j++]=te>>6&63|128,O[j++]=63&te|128)}return O},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,O){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let te=0;te<P.length;te+=3){const Ze=P[te],ht=te+1<P.length,Rt=ht?P[te+1]:0,li=te+2<P.length,ln=li?P[te+2]:0;let ci=(15&Rt)<<2|ln>>6,Ot=63&ln;li||(Ot=64,ht||(ci=64)),ge.push(j[Ze>>2],j[(3&Ze)<<4|Rt>>4],j[ci],j[Ot])}return ge.join("")},encodeString(P,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(P):this.encodeByteArray(G(P),O)},decodeString(P,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(P):function(P){const O=[];let j=0,ge=0;for(;j<P.length;){const te=P[j++];if(te<128)O[ge++]=String.fromCharCode(te);else if(te>191&&te<224){const Ze=P[j++];O[ge++]=String.fromCharCode((31&te)<<6|63&Ze)}else if(te>239&&te<365){const li=((7&te)<<18|(63&P[j++])<<12|(63&P[j++])<<6|63&P[j++])-65536;O[ge++]=String.fromCharCode(55296+(li>>10)),O[ge++]=String.fromCharCode(56320+(1023&li))}else{const Ze=P[j++],ht=P[j++];O[ge++]=String.fromCharCode((15&te)<<12|(63&Ze)<<6|63&ht)}}return O.join("")}(this.decodeStringToByteArray(P,O))},decodeStringToByteArray(P,O){this.init_();const j=O?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let te=0;te<P.length;){const Ze=j[P.charAt(te++)],Rt=te<P.length?j[P.charAt(te)]:0;++te;const ln=te<P.length?j[P.charAt(te)]:64;++te;const at=te<P.length?j[P.charAt(te)]:64;if(++te,null==Ze||null==Rt||null==ln||null==at)throw new ce;ge.push(Ze<<2|Rt>>4),64!==ln&&(ge.push(Rt<<4&240|ln>>2),64!==at&&ge.push(ln<<6&192|at))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _e=function(P){const O=G(P);return se.encodeByteArray(O,!0)},oe=function(P){return _e(P).replace(/\./g,"")},N=function(P){try{return se.decodeString(P,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function k(P){return ee(void 0,P)}function ee(P,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return O}for(const j in O)!O.hasOwnProperty(j)||!Ae(j)||(P[j]=ee(P[j],O[j]));return P}function Ae(P){return"__proto__"!==P}const be=()=>{try{return function ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=P&&N(P[1]);return O&&JSON.parse(O)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},Ge=P=>{var O,j;return null===(j=null===(O=be())||void 0===O?void 0:O.emulatorHosts)||void 0===j?void 0:j[P]},we=P=>{const O=Ge(P);if(!O)return;const j=O.lastIndexOf(":");if(j<=0||j+1===O.length)throw new Error(`Invalid host ${O} with no separate hostname and port!`);const ge=parseInt(O.substring(j+1),10);return"["===O[0]?[O.substring(1,j-1),ge]:[O.substring(0,j),ge]},Te=()=>{var P;return null===(P=be())||void 0===P?void 0:P.config},Ee=P=>{var O;return null===(O=be())||void 0===O?void 0:O[`_${P}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,j)=>{this.resolve=O,this.reject=j})}wrapCallback(O){return(j,ge)=>{j?this.reject(j):this.resolve(ge),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(j):O(j,ge))}}}function Se(P,O){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=O||"demo-project",te=P.iat||0,Ze=P.sub||P.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:te,exp:te+3600,auth_time:te,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},P);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(ht)),""].join(".")}function q(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())}function J(){var P;const O=null===(P=be())||void 0===P?void 0:P.forceEnvironment;if("node"===O)return!0;if("browser"===O)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Ct(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $t(){const P=q();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function rn(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN}function K(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((P,O)=>{try{let j=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(ge);te.onsuccess=()=>{te.result.close(),j||self.indexedDB.deleteDatabase(ge),P(!0)},te.onupgradeneeded=()=>{j=!1},te.onerror=()=>{var Ze;O((null===(Ze=te.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(j){O(j)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ie extends Error{constructor(O,j,ge){super(j),this.code=O,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(O,j,ge){this.service=O,this.serviceName=j,this.errors=ge}create(O,...j){const ge=j[0]||{},te=`${this.service}/${O}`,Ze=this.errors[O],ht=Ze?function $e(P,O){return P.replace(xt,(j,ge)=>{const te=O[ge];return null!=te?String(te):`<${ge}?>`})}(Ze,ge):"Error";return new Ie(te,`${this.serviceName}: ${ht} (${te}).`,ge)}}const xt=/\{\$([^}]+)}/g;function dn(P){return JSON.parse(P)}function tt(P){return JSON.stringify(P)}const ct=function(P){let O={},j={},ge={},te="";try{const Ze=P.split(".");O=dn(N(Ze[0])||""),j=dn(N(Ze[1])||""),te=Ze[2],ge=j.d||{},delete j.d}catch{}return{header:O,claims:j,data:ge,signature:te}},Tn=function(P){const j=ct(P).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},Sn=function(P){const O=ct(P).claims;return"object"==typeof O&&!0===O.admin};function rt(P,O){return Object.prototype.hasOwnProperty.call(P,O)}function qn(P,O){if(Object.prototype.hasOwnProperty.call(P,O))return P[O]}function Yn(P){for(const O in P)if(Object.prototype.hasOwnProperty.call(P,O))return!1;return!0}function si(P,O,j){const ge={};for(const te in P)Object.prototype.hasOwnProperty.call(P,te)&&(ge[te]=O.call(j,P[te],te,P));return ge}function Vn(P,O){if(P===O)return!0;const j=Object.keys(P),ge=Object.keys(O);for(const te of j){if(!ge.includes(te))return!1;const Ze=P[te],ht=O[te];if(Rr(Ze)&&Rr(ht)){if(!Vn(Ze,ht))return!1}else if(Ze!==ht)return!1}for(const te of ge)if(!j.includes(te))return!1;return!0}function Rr(P){return null!==P&&"object"==typeof P}function dr(P){const O=[];for(const[j,ge]of Object.entries(P))Array.isArray(ge)?ge.forEach(te=>{O.push(encodeURIComponent(j)+"="+encodeURIComponent(te))}):O.push(encodeURIComponent(j)+"="+encodeURIComponent(ge));return O.length?"&"+O.join("&"):""}function bn(P){const O={};return P.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[te,Ze]=ge.split("=");O[decodeURIComponent(te)]=decodeURIComponent(Ze)}}),O}function ot(P){const O=P.indexOf("?");if(!O)return"";const j=P.indexOf("#",O);return P.substring(O,j>0?j:void 0)}class mt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let O=1;O<this.blockSize;++O)this.pad_[O]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(O,j){j||(j=0);const ge=this.W_;if("string"==typeof O)for(let at=0;at<16;at++)ge[at]=O.charCodeAt(j)<<24|O.charCodeAt(j+1)<<16|O.charCodeAt(j+2)<<8|O.charCodeAt(j+3),j+=4;else for(let at=0;at<16;at++)ge[at]=O[j]<<24|O[j+1]<<16|O[j+2]<<8|O[j+3],j+=4;for(let at=16;at<80;at++){const ci=ge[at-3]^ge[at-8]^ge[at-14]^ge[at-16];ge[at]=4294967295&(ci<<1|ci>>>31)}let ln,Oi,te=this.chain_[0],Ze=this.chain_[1],ht=this.chain_[2],Rt=this.chain_[3],li=this.chain_[4];for(let at=0;at<80;at++){at<40?at<20?(ln=Rt^Ze&(ht^Rt),Oi=1518500249):(ln=Ze^ht^Rt,Oi=1859775393):at<60?(ln=Ze&ht|Rt&(Ze|ht),Oi=2400959708):(ln=Ze^ht^Rt,Oi=3395469782);const ci=(te<<5|te>>>27)+ln+li+Oi+ge[at]&4294967295;li=Rt,Rt=ht,ht=4294967295&(Ze<<30|Ze>>>2),Ze=te,te=ci}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+Ze&4294967295,this.chain_[2]=this.chain_[2]+ht&4294967295,this.chain_[3]=this.chain_[3]+Rt&4294967295,this.chain_[4]=this.chain_[4]+li&4294967295}update(O,j){if(null==O)return;void 0===j&&(j=O.length);const ge=j-this.blockSize;let te=0;const Ze=this.buf_;let ht=this.inbuf_;for(;te<j;){if(0===ht)for(;te<=ge;)this.compress_(O,te),te+=this.blockSize;if("string"==typeof O){for(;te<j;)if(Ze[ht]=O.charCodeAt(te),++ht,++te,ht===this.blockSize){this.compress_(Ze),ht=0;break}}else for(;te<j;)if(Ze[ht]=O[te],++ht,++te,ht===this.blockSize){this.compress_(Ze),ht=0;break}}this.inbuf_=ht,this.total_+=j}digest(){const O=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&j,j/=256;this.compress_(this.buf_);let ge=0;for(let te=0;te<5;te++)for(let Ze=24;Ze>=0;Ze-=8)O[ge]=this.chain_[te]>>Ze&255,++ge;return O}}function ai(P,O){const j=new et(P,O);return j.subscribe.bind(j)}class et{constructor(O,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{O(this)}).catch(ge=>{this.error(ge)})}next(O){this.forEachObserver(j=>{j.next(O)})}error(O){this.forEachObserver(j=>{j.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,j,ge){let te;if(void 0===O&&void 0===j&&void 0===ge)throw new Error("Missing Observer.");te=function yi(P,O){if("object"!=typeof P||null===P)return!1;for(const j of O)if(j in P&&"function"==typeof P[j])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:j,complete:ge},void 0===te.next&&(te.next=It),void 0===te.error&&(te.error=It),void 0===te.complete&&(te.complete=It);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),Ze}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,O)}sendOne(O,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{j(this.observers[O])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function It(){}function Gt(P,O){return`${P} failed: ${O} argument `}const Ri=function(P){const O=[];let j=0;for(let ge=0;ge<P.length;ge++){let te=P.charCodeAt(ge);if(te>=55296&&te<=56319){const Ze=te-55296;ge++,z(ge<P.length,"Surrogate pair missing trail surrogate."),te=65536+(Ze<<10)+(P.charCodeAt(ge)-56320)}te<128?O[j++]=te:te<2048?(O[j++]=te>>6|192,O[j++]=63&te|128):te<65536?(O[j++]=te>>12|224,O[j++]=te>>6&63|128,O[j++]=63&te|128):(O[j++]=te>>18|240,O[j++]=te>>12&63|128,O[j++]=te>>6&63|128,O[j++]=63&te|128)}return O},Pr=function(P){let O=0;for(let j=0;j<P.length;j++){const ge=P.charCodeAt(j);ge<128?O++:ge<2048?O+=2:ge>=55296&&ge<=56319?(O+=4,j++):O+=3}return O},Qi=1e3,ue=2,U=144e5,de=.5;function ke(P,O=Qi,j=ue){const ge=O*Math.pow(j,P),te=Math.round(de*ge*(Math.random()-.5)*2);return Math.min(U,ge+te)}function Qt(P){return P&&P._delegate?P._delegate:P}},3830:(qe,pe,T)=>{var u=T(8926);let z=null;function B(){return z}class Y{}const se=new u.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(oe)},providedIn:"platform"})}return n})();const _e=new u.OlP("Location Initialized");let oe=(()=>{class n extends ce{constructor(){super(),this._doc=(0,u.f3M)(se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function N(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function k(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ee(n){return n&&"?"!==n[0]?"?"+n:n}let Ae=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ne)},providedIn:"root"})}return n})();const ie=new u.OlP("appBaseHref");let Ne=(()=>{class n extends Ae{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return N(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ee(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const f=this.prepareExternalUrl(o+ee(l));this._platformLocation.pushState(e,i,f)}replaceState(e,i,o,l){const f=this.prepareExternalUrl(o+ee(l));this._platformLocation.replaceState(e,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(ce),u.LFG(ie,8))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Le=(()=>{class n extends Ae{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=N(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,l){let f=this.prepareExternalUrl(o+ee(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,i,f)}replaceState(e,i,o,l){let f=this.prepareExternalUrl(o+ee(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(ce),u.LFG(ie,8))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})(),Fe=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Te(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(k(we(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ee(i))}normalize(e){return n.stripTrailingSlash(function Ge(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,we(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ee(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ee(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}static#e=this.normalizeQueryParams=ee;static#t=this.joinWithSlash=N;static#n=this.stripTrailingSlash=k;static#i=this.\u0275fac=function(i){return new(i||n)(u.LFG(Ae))};static#r=this.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return new Fe((0,u.LFG)(Ae))}()},providedIn:"root"})}return n})();function we(n){return n.replace(/\/index.html$/,"")}var q=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(q||{}),Q=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Q||{}),J=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(J||{}),Ce=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Ce||{});function ne(n,t){return rt((0,u.cg1)(n)[u.wAp.DateFormat],t)}function ae(n,t){return rt((0,u.cg1)(n)[u.wAp.TimeFormat],t)}function le(n,t){return rt((0,u.cg1)(n)[u.wAp.DateTimeFormat],t)}function Ie(n,t){const e=(0,u.cg1)(n),i=e[u.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Ce.CurrencyDecimal)return e[u.wAp.NumberSymbols][Ce.Decimal];if(t===Ce.CurrencyGroup)return e[u.wAp.NumberSymbols][Ce.Group]}return i}function Re(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function qn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Rr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Or={},dr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var bn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(bn||{}),ot=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(ot||{}),mt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(mt||{});function ai(n,t,e,i){let o=function O(n){if(ge(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,l=1,f=1]=n.split("-").map(p=>+p);return et(o,l-1,f)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Rr))return function j(n){const t=new Date(0);let e=0,i=0;const o=n[8]?t.setUTCFullYear:t.setFullYear,l=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const f=Number(n[4]||0)-e,p=Number(n[5]||0)-i,g=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(t,f,p,g,w),t}(i)}const t=new Date(n);if(!ge(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=pn(e,t)||t;let p,f=[];for(;t;){if(p=dr.exec(t),!p){f.push(t);break}{f=f.concat(p.slice(1));const x=f.pop();if(!x)break;t=x}}let g=o.getTimezoneOffset();i&&(g=Xe(i,g),o=function P(n,t,e){const i=e?-1:1,o=n.getTimezoneOffset();return function Qt(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Xe(t,o)-o))}(o,i,!0));let w="";return f.forEach(x=>{const D=function We(n){if(ke[n])return ke[n];let t;switch(n){case"G":case"GG":case"GGG":t=Lt(mt.Eras,Q.Abbreviated);break;case"GGGG":t=Lt(mt.Eras,Q.Wide);break;case"GGGGG":t=Lt(mt.Eras,Q.Narrow);break;case"y":t=Gt(ot.FullYear,1,0,!1,!0);break;case"yy":t=Gt(ot.FullYear,2,0,!0,!0);break;case"yyy":t=Gt(ot.FullYear,3,0,!1,!0);break;case"yyyy":t=Gt(ot.FullYear,4,0,!1,!0);break;case"Y":t=de(1);break;case"YY":t=de(2,!0);break;case"YYY":t=de(3);break;case"YYYY":t=de(4);break;case"M":case"L":t=Gt(ot.Month,1,1);break;case"MM":case"LL":t=Gt(ot.Month,2,1);break;case"MMM":t=Lt(mt.Months,Q.Abbreviated);break;case"MMMM":t=Lt(mt.Months,Q.Wide);break;case"MMMMM":t=Lt(mt.Months,Q.Narrow);break;case"LLL":t=Lt(mt.Months,Q.Abbreviated,q.Standalone);break;case"LLLL":t=Lt(mt.Months,Q.Wide,q.Standalone);break;case"LLLLL":t=Lt(mt.Months,Q.Narrow,q.Standalone);break;case"w":t=U(1);break;case"ww":t=U(2);break;case"W":t=U(1,!0);break;case"d":t=Gt(ot.Date,1);break;case"dd":t=Gt(ot.Date,2);break;case"c":case"cc":t=Gt(ot.Day,1);break;case"ccc":t=Lt(mt.Days,Q.Abbreviated,q.Standalone);break;case"cccc":t=Lt(mt.Days,Q.Wide,q.Standalone);break;case"ccccc":t=Lt(mt.Days,Q.Narrow,q.Standalone);break;case"cccccc":t=Lt(mt.Days,Q.Short,q.Standalone);break;case"E":case"EE":case"EEE":t=Lt(mt.Days,Q.Abbreviated);break;case"EEEE":t=Lt(mt.Days,Q.Wide);break;case"EEEEE":t=Lt(mt.Days,Q.Narrow);break;case"EEEEEE":t=Lt(mt.Days,Q.Short);break;case"a":case"aa":case"aaa":t=Lt(mt.DayPeriods,Q.Abbreviated);break;case"aaaa":t=Lt(mt.DayPeriods,Q.Wide);break;case"aaaaa":t=Lt(mt.DayPeriods,Q.Narrow);break;case"b":case"bb":case"bbb":t=Lt(mt.DayPeriods,Q.Abbreviated,q.Standalone,!0);break;case"bbbb":t=Lt(mt.DayPeriods,Q.Wide,q.Standalone,!0);break;case"bbbbb":t=Lt(mt.DayPeriods,Q.Narrow,q.Standalone,!0);break;case"B":case"BB":case"BBB":t=Lt(mt.DayPeriods,Q.Abbreviated,q.Format,!0);break;case"BBBB":t=Lt(mt.DayPeriods,Q.Wide,q.Format,!0);break;case"BBBBB":t=Lt(mt.DayPeriods,Q.Narrow,q.Format,!0);break;case"h":t=Gt(ot.Hours,1,-12);break;case"hh":t=Gt(ot.Hours,2,-12);break;case"H":t=Gt(ot.Hours,1);break;case"HH":t=Gt(ot.Hours,2);break;case"m":t=Gt(ot.Minutes,1);break;case"mm":t=Gt(ot.Minutes,2);break;case"s":t=Gt(ot.Seconds,1);break;case"ss":t=Gt(ot.Seconds,2);break;case"S":t=Gt(ot.FractionalSeconds,1);break;case"SS":t=Gt(ot.FractionalSeconds,2);break;case"SSS":t=Gt(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ri(bn.Short);break;case"ZZZZZ":t=Ri(bn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ri(bn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ri(bn.Long);break;default:return null}return ke[n]=t,t}(x);w+=D?D(o,e,g):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function et(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function pn(n,t){const e=function Ht(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(Or[e]=Or[e]||{},Or[e][t])return Or[e][t];let i="";switch(t){case"shortDate":i=ne(n,J.Short);break;case"mediumDate":i=ne(n,J.Medium);break;case"longDate":i=ne(n,J.Long);break;case"fullDate":i=ne(n,J.Full);break;case"shortTime":i=ae(n,J.Short);break;case"mediumTime":i=ae(n,J.Medium);break;case"longTime":i=ae(n,J.Long);break;case"fullTime":i=ae(n,J.Full);break;case"short":const o=pn(n,"shortTime"),l=pn(n,"shortDate");i=yi(le(n,J.Short),[o,l]);break;case"medium":const f=pn(n,"mediumTime"),p=pn(n,"mediumDate");i=yi(le(n,J.Medium),[f,p]);break;case"long":const g=pn(n,"longTime"),w=pn(n,"longDate");i=yi(le(n,J.Long),[g,w]);break;case"full":const x=pn(n,"fullTime"),D=pn(n,"fullDate");i=yi(le(n,J.Full),[x,D])}return i&&(Or[e][t]=i),i}function yi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function It(n,t,e="-",i,o){let l="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,l=e));let f=String(n);for(;f.length<t;)f="0"+f;return i&&(f=f.slice(f.length-t)),l+f}function Gt(n,t,e=0,i=!1,o=!1){return function(l,f){let p=function Ft(n,t){switch(n){case ot.FullYear:return t.getFullYear();case ot.Month:return t.getMonth();case ot.Date:return t.getDate();case ot.Hours:return t.getHours();case ot.Minutes:return t.getMinutes();case ot.Seconds:return t.getSeconds();case ot.FractionalSeconds:return t.getMilliseconds();case ot.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((e>0||p>-e)&&(p+=e),n===ot.Hours)0===p&&-12===e&&(p=12);else if(n===ot.FractionalSeconds)return function fr(n,t){return It(n,3).substring(0,t)}(p,t);const g=Ie(f,Ce.MinusSign);return It(p,t,g,i,o)}}function Lt(n,t,e=q.Format,i=!1){return function(o,l){return function fo(n,t,e,i,o,l){switch(e){case mt.Months:return function zt(n,t,e){const i=(0,u.cg1)(n),l=rt([i[u.wAp.MonthsFormat],i[u.wAp.MonthsStandalone]],t);return rt(l,e)}(t,o,i)[n.getMonth()];case mt.Days:return function $t(n,t,e){const i=(0,u.cg1)(n),l=rt([i[u.wAp.DaysFormat],i[u.wAp.DaysStandalone]],t);return rt(l,e)}(t,o,i)[n.getDay()];case mt.DayPeriods:const f=n.getHours(),p=n.getMinutes();if(l){const w=function Kt(n){const t=(0,u.cg1)(n);return Re(t),(t[u.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?qn(i):[qn(i[0]),qn(i[1])])}(t),x=function Tn(n,t,e){const i=(0,u.cg1)(n);Re(i);const l=rt([i[u.wAp.ExtraData][0],i[u.wAp.ExtraData][1]],t)||[];return rt(l,e)||[]}(t,o,i),D=w.findIndex(R=>{if(Array.isArray(R)){const[W,X]=R,me=f>=W.hours&&p>=W.minutes,je=f<X.hours||f===X.hours&&p<X.minutes;if(W.hours<X.hours){if(me&&je)return!0}else if(me||je)return!0}else if(R.hours===f&&R.minutes===p)return!0;return!1});if(-1!==D)return x[D]}return function nn(n,t,e){const i=(0,u.cg1)(n),l=rt([i[u.wAp.DayPeriodsFormat],i[u.wAp.DayPeriodsStandalone]],t);return rt(l,e)}(t,o,i)[f<12?0:1];case mt.Eras:return function rn(n,t){return rt((0,u.cg1)(n)[u.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,l,n,t,e,i)}}function Ri(n){return function(t,e,i){const o=-1*i,l=Ie(e,Ce.MinusSign),f=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case bn.Short:return(o>=0?"+":"")+It(f,2,l)+It(Math.abs(o%60),2,l);case bn.ShortGMT:return"GMT"+(o>=0?"+":"")+It(f,1,l);case bn.Long:return"GMT"+(o>=0?"+":"")+It(f,2,l)+":"+It(Math.abs(o%60),2,l);case bn.Extended:return 0===i?"Z":(o>=0?"+":"")+It(f,2,l)+":"+It(Math.abs(o%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}const Pr=0,An=4;function ue(n){return et(n.getFullYear(),n.getMonth(),n.getDate()+(An-n.getDay()))}function U(n,t=!1){return function(e,i){let o;if(t){const l=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,f=e.getDate();o=1+Math.floor((f+l)/7)}else{const l=ue(e),f=function Qi(n){const t=et(n,Pr,1).getDay();return et(n,0,1+(t<=An?An:An+7)-t)}(l.getFullYear()),p=l.getTime()-f.getTime();o=1+Math.round(p/6048e5)}return It(o,n,Ie(i,Ce.MinusSign))}}function de(n,t=!1){return function(e,i){return It(ue(e).getFullYear(),n,Ie(i,Ce.MinusSign),t)}}const ke={};function Xe(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ge(n){return n instanceof Date&&!isNaN(n.valueOf())}class Wf{constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gs=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,f)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new Wf(o.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)i.remove(null===l?void 0:l);else if(null!==l){const p=i.get(l);i.move(p,f),hu(p,o)}});for(let o=0,l=i.length;o<l;o++){const p=i.get(o).context;p.index=o,p.count=l,p.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{hu(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function hu(n,t){n.context.$implicit=t.item}let po=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new bg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Zf("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Zf("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(u.s_b),u.Y36(u.Rgc))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class bg{constructor(){this.$implicit=null,this.ngIf=null}}function Zf(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}const Il=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),th=new u.OlP("DATE_PIPE_DEFAULT_OPTIONS");let gu=(()=>{class n{constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,l){if(null==e||""===e||e!=e)return null;try{return ai(e,i??this.defaultOptions?.dateFormat??"mediumDate",l||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(f){throw function Pi(n,t){return new u.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(u.soG,16),u.Y36(Il,24),u.Y36(th,24))};static#t=this.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),fi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})();const vs="browser";function go(n){return"server"===n}let ys=(()=>{class n{static#e=this.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new wn((0,u.LFG)(se),window)})}return n})();class wn{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Zo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const l=o.shadowRoot;if(l){const f=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(f)return f}o=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class d0 extends Y{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Eu extends d0{static makeCurrent(){!function G(n){z||(z=n)}(new Eu)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ph(){return ga=ga||document.querySelector("base"),ga?ga.getAttribute("href"):null}();return null==e?null:function Ug(n){_a=_a||document.createElement("a"),_a.setAttribute("href",n);const t=_a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function du(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let _a,ga=null,Bg=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const va=new u.OlP("EventManagerPlugins");let gh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(l=>l.supports(e)),!i)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(va),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();class Bl{constructor(t){this._doc=t}}const ya="ng-app-id";let Vg=(()=>{class n{constructor(e,i,o,l={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=go(l),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${ya}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){const o=this.styleRef;if(o.has(e)){const l=o.get(e);return l.usage+=i,l.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const o=this.styleNodesInDOM,l=o?.get(i);if(l?.parentNode===e)return o.delete(i),l.removeAttribute(ya),l;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=i,this.platformIsServer&&f.setAttribute(ya,this.appId),f}}addStyleToHost(e,i){const o=this.getStyleElement(e,i);e.appendChild(o);const l=this.styleRef,f=l.get(i)?.elements;f?f.push(o):l.set(i,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(se),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const ba={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wa=/%COMP%/g,Vl=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function jl(n,t){return t.map(e=>e.replace(wa,n))}let bi=(()=>{class n{constructor(e,i,o,l,f,p,g,w=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=l,this.doc=f,this.platformId=p,this.ngZone=g,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=go(p),this.defaultRenderer=new Ca(e,f,g,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===u.ifc.ShadowDom&&(i={...i,encapsulation:u.ifc.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof bh?o.applyToHost(e):o instanceof Rn&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let l=o.get(i.id);if(!l){const f=this.doc,p=this.ngZone,g=this.eventManager,w=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case u.ifc.Emulated:l=new bh(g,w,i,this.appId,x,f,p,D);break;case u.ifc.ShadowDom:return new xa(g,w,e,i,f,p,this.nonce,D);default:l=new Rn(g,w,i,x,f,p,D)}o.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(gh),u.LFG(Vg),u.LFG(u.AFp),u.LFG(Vl),u.LFG(se),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();class Ca{constructor(t,e,i,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ba[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Hl(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Hl(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new u.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const l=ba[o];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=ba[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,i,o&u.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=B().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Hl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class xa extends Ca{constructor(t,e,i,o,l,f,p,g){super(t,l,f,g),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=jl(o.id,o.styles);for(const x of w){const D=document.createElement("style");p&&D.setAttribute("nonce",p),D.textContent=x,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rn extends Ca{constructor(t,e,i,o,l,f,p,g){super(t,l,f,p),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=g?jl(g,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class bh extends Rn{constructor(t,e,i,o,l,f,p,g){const w=o+"-"+i.id;super(t,e,i,l,f,p,g,w),this.contentAttr=function jg(n){return"_ngcontent-%COMP%".replace(wa,n)}(w),this.hostAttr=function xu(n){return"_nghost-%COMP%".replace(wa,n)}(w)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let $l=(()=>{class n extends Bl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(se))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const Qo=["alt","control","meta","shift"],Li={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f0={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Iu=(()=>{class n extends Bl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),f=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,l.domEventName,f))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let f="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),f="code."),Qo.forEach(w=>{const x=i.indexOf(w);x>-1&&(i.splice(x,1),f+=w+".")}),f+=l,0!=i.length||0===l.length)return null;const g={};return g.domEventName=o,g.fullKey=f,g}static matchEventFullKeyCode(e,i){let o=Li[e.key]||e.key,l="";return i.indexOf("code.")>-1&&(o=e.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Qo.forEach(f=>{f!==o&&(0,f0[f])(e)&&(l+=f+".")}),l+=o,l===i)}static eventCallback(e,i,o){return l=>{n.matchEventFullKeyCode(l,e)&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(se))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const ze=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:vs},{provide:u.g9A,useValue:function wh(){Eu.makeCurrent()},multi:!0},{provide:se,useFactory:function Ch(){return(0,u.RDi)(document),document},deps:[]}]),xh=new u.OlP(""),Kn=[{provide:u.rWj,useClass:class mh{addToWindow(t){u.dqk.getAngularTestability=(i,o=!0)=>{const l=t.findTestabilityInTree(i,o);if(null==l)throw new u.vHH(5103,!1);return l},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,f=!1;const p=function(g){f=f||g,l--,0==l&&i(f)};o.forEach(g=>{g.whenStable(p)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?B().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Ih=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Eh(){return new u.qLn},deps:[]},{provide:va,useClass:$l,multi:!0,deps:[se,u.R0b,u.Lbi]},{provide:va,useClass:Iu,multi:!0,deps:[se]},bi,Vg,gh,{provide:u.FYo,useExisting:bi},{provide:class ki{},useClass:Bg,deps:[]},[]];let Du=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(xh,12))};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({providers:[...Ih,...Kn],imports:[fi,u.hGG]})}return n})(),Gl=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(se))};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(i){let o=null;return o=i?new i:function Hg(){return new Gl((0,u.LFG)(se))}(),o},providedIn:"root"})}return n})();typeof window<"u"&&window;var gn=T(2459),tr=T(5592);const{isArray:Mu}=Array,{getPrototypeOf:Nh,prototype:Ta,keys:ql}=Object;function Yl(n){if(1===n.length){const t=n[0];if(Mu(t))return{args:t,keys:null};if(function Ru(n){return n&&"object"==typeof n&&Nh(n)===Ta}(t)){const e=ql(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Sa=T(4829),jr=T(4564),wi=T(8251),vt=T(7398);const{isArray:Qn}=Array;function en(n){return(0,vt.U)(t=>function Gn(n,t){return Qn(t)?n(...t):n(t)}(n,t))}function Ou(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}let Pu=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(u.Qsj),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:n})}return n})(),bo=(()=>{class n extends Pu{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=u.n5z(n)))(o||n)}}();static#t=this.\u0275dir=u.lG2({type:n,features:[u.qOj]})}return n})();const En=new u.OlP("NgValueAccessor"),wo={provide:En,useExisting:(0,u.Gpc)(()=>yr),multi:!0},Nu=new u.OlP("CompositionEventMode");let yr=(()=>{class n extends Pu{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wg(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Nu,8))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&u.NdJ("input",function(f){return o._handleInput(f.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(f){return o._compositionEnd(f.target.value)})},features:[u._Bn([wo]),u.qOj]})}return n})();function nr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Is(n){return null!=n&&"number"==typeof n.length}const Wn=new u.OlP("NgValidators"),Eo=new u.OlP("NgAsyncValidators"),ku=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class br{static min(t){return function Ma(n){return t=>{if(nr(t.value)||nr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Zg(n){return t=>{if(nr(t.value)||nr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function _0(n){return nr(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Xl(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function v0(n){return nr(n.value)||ku.test(n.value)?null:{email:!0}}(t)}static minLength(t){return Fu(t)}static maxLength(t){return function Lu(n){return t=>Is(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function qg(n){if(!n)return Uu;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(nr(i.value))return null;const o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return Yg(t)}static composeAsync(t){return Bu(t)}}function Fu(n){return t=>nr(t.value)||!Is(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function Uu(n){return null}function Jl(n){return null!=n}function Ds(n){return(0,u.QGY)(n)?(0,gn.D)(n):n}function kh(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Ts(n,t){return t.map(e=>e(n))}function Ra(n){return n.map(t=>function Fh(n){return!n.validate}(t)?t:e=>t.validate(e))}function Yg(n){if(!n)return null;const t=n.filter(Jl);return 0==t.length?null:function(e){return kh(Ts(e,t))}}function ec(n){return null!=n?Yg(Ra(n)):null}function Bu(n){if(!n)return null;const t=n.filter(Jl);return 0==t.length?null:function(e){return function Aa(...n){const t=(0,jr.jO)(n),{args:e,keys:i}=Yl(n),o=new tr.y(l=>{const{length:f}=e;if(!f)return void l.complete();const p=new Array(f);let g=f,w=f;for(let x=0;x<f;x++){let D=!1;(0,Sa.Xf)(e[x]).subscribe((0,wi.x)(l,R=>{D||(D=!0,w--),p[x]=R},()=>g--,void 0,()=>{(!g||!D)&&(w||l.next(i?Ou(i,p):p),l.complete())}))}});return t?o.pipe(en(t)):o}(Ts(e,t).map(Ds)).pipe((0,vt.U)(kh))}}function Vu(n){return null!=n?Bu(Ra(n)):null}function Ei(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function tc(n){return n._rawValidators}function Xo(n){return n._rawAsyncValidators}function Jo(n){return n?Array.isArray(n)?n:[n]:[]}function es(n,t){return Array.isArray(n)?n.includes(t):n===t}function ts(n,t){const e=Jo(t);return Jo(n).forEach(o=>{es(e,o)||e.push(o)}),e}function Ss(n,t){return Jo(t).filter(e=>!es(n,e))}class Kg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ec(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Vu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Xn extends Kg{get formDirective(){return null}get path(){return null}}class Co extends Kg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ju{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hr=(()=>{class n extends ju{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(Co,2))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&u.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[u.qOj]})}return n})(),wr=(()=>{class n extends ju{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(Xn,10))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&u.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[u.qOj]})}return n})();const Oe="VALID",Pe="INVALID",He="PENDING",nt="DISABLED";function lt(n){return(Pa(n)?n.validators:n)||null}function On(n,t){return(Pa(t)?t.asyncValidators:n)||null}function Pa(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function or(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[e])throw new u.vHH(1001,"")}function Ui(n,t,e){n._forEachChild((i,o)=>{if(void 0===e[o])throw new u.vHH(1002,"")})}class sr{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Oe}get invalid(){return this.status===Pe}get pending(){return this.status==He}get disabled(){return this.status===nt}get enabled(){return this.status!==nt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ts(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ts(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ss(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ss(t,this._rawAsyncValidators))}hasValidator(t){return es(this._rawValidators,t)}hasAsyncValidator(t){return es(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=He,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=nt,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Oe,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oe||this.status===He)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nt:Oe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=He,this._hasOwnPendingAsyncValidator=!0;const e=Ds(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?nt:this.errors?Pe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(He)?He:this._anyControlsHaveStatus(Pe)?Pe:Oe}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Pa(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function rr(n){return Array.isArray(n)?ec(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function $u(n){return Array.isArray(n)?Vu(n):n||null}(this._rawAsyncValidators)}}class sn extends sr{constructor(t,e,i){super(lt(e),On(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Ui(this,0,t),Object.keys(t).forEach(i=>{or(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,l)=>{i=e(i,o,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class b0 extends sn{}const Er=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nc}),nc="always";function Na(n,t){return[...t.path,n]}function ns(n,t,e=nc){w0(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function t_(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iI(n,t)})}(n,t),function E0(n,t){const e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function ic(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iI(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function nI(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Vh(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),hi(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function e_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function w0(n,t){const e=tc(n);null!==t.validator?n.setValidators(Ei(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Xo(n);null!==t.asyncValidator?n.setAsyncValidators(Ei(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();e_(t._rawValidators,o),e_(t._rawAsyncValidators,o)}function hi(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=tc(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(f=>f!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=Xo(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(f=>f!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return e_(t._rawValidators,i),e_(t._rawAsyncValidators,i),e}function iI(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function rc(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function i_(n,t){if(!t)return null;let e,i,o;return Array.isArray(t),t.forEach(l=>{l.constructor===yr?e=l:function sI(n){return Object.getPrototypeOf(n.constructor)===bo}(l)?i=l:o=l}),o||i||e||null}function r_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function D0(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Gu=class extends sr{constructor(t=null,e,i){super(lt(e),On(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pa(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=D0(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){r_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){r_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){D0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},cI={provide:Co,useExisting:(0,u.Gpc)(()=>Hh)},qu=(()=>Promise.resolve())();let Hh=(()=>{class n extends Co{constructor(e,i,o,l,f,p){super(),this._changeDetectorRef=f,this.callSetDisabledState=p,this.control=new Gu,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=i_(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),rc(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ns(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){qu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,u.VuI)(i);qu.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Na(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(Xn,9),u.Y36(Wn,10),u.Y36(Eo,10),u.Y36(En,10),u.Y36(u.sBO,8),u.Y36(Er,8))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([cI]),u.qOj,u.TTD]})}return n})(),$h=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),R0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})();const Yu=new u.OlP("NgModelWithFormControlWarning"),oR={provide:Xn,useExisting:(0,u.Gpc)(()=>Ku)};let Ku=(()=>{class n extends Xn{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ns(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Vh(e.control||null,e,!1),function jh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function zu(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(Vh(i||null,e),(n=>n instanceof Gu)(o)&&(ns(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function C0(n,t){w0(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function rI(n,t){return hi(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){w0(this.form,this),this._oldForm&&hi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(Wn,10),u.Y36(Eo,10),u.Y36(Er,8))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&u.NdJ("submit",function(f){return o.onSubmit(f)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([oR]),u.qOj,u.TTD]})}return n})();const O0={provide:Co,useExisting:(0,u.Gpc)(()=>ac)};let ac=(()=>{class n extends Co{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,o,l,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=i_(0,l)}ngOnChanges(e){this._added||this._setUpControl(),rc(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Na(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(u.Y36(Xn,13),u.Y36(Wn,10),u.Y36(Eo,10),u.Y36(En,10),u.Y36(Yu,8))};static#n=this.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([O0]),u.qOj,u.TTD]})}return n})();let Fa=(()=>{class n{constructor(){this._validator=Uu}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Uu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=u.lG2({type:n,features:[u.TTD]})}return n})();const V0={provide:Wn,useExisting:(0,u.Gpc)(()=>Yh),multi:!0};let Yh=(()=>{class n extends Fa{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function k0(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>Fu(e)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=u.n5z(n)))(o||n)}}();static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&u.uIk("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[u._Bn([V0]),u.qOj]})}return n})(),Kh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[R0]})}return n})();class Qh extends sr{constructor(t,e,i){super(lt(e),On(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Ui(this,0,t),t.forEach((i,o)=>{or(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function G0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Jh=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const o=this._reduceControls(e);let l={};return G0(i)?l=i:null!==i&&(l.validators=i.validator,l.asyncValidators=i.asyncValidator),new sn(o,l)}record(e,i=null){const o=this._reduceControls(e);return new b0(o,i)}control(e,i,o){let l={};return this.useNonNullable?(G0(i)?l=i:(l.validators=i,l.asyncValidators=o),new Gu(e,{...l,nonNullable:!0})):new Gu(e,i,o)}array(e,i,o){const l=e.map(f=>this._createControl(f));return new Qh(l,i,o)}_reduceControls(e){const i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){return e instanceof Gu||e instanceof sr?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uc=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Er,useValue:e.callSetDisabledState??nc}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Kh]})}return n})(),ep=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Yu,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Er,useValue:e.callSetDisabledState??nc}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Kh]})}return n})();var dc=T(4674),Qe=T(2096),zr=T(5619),tp=T(2737),bI=T(7103);function np(...n){const t=(0,jr.yG)(n),e=(0,jr.jO)(n),{args:i,keys:o}=Yl(n);if(0===i.length)return(0,gn.D)([],t);const l=new tr.y(function wI(n,t,e=tp.y){return i=>{W0(t,()=>{const{length:o}=n,l=new Array(o);let f=o,p=o;for(let g=0;g<o;g++)W0(t,()=>{const w=(0,gn.D)(n[g],t);let x=!1;w.subscribe((0,wi.x)(i,D=>{l[g]=D,x||(x=!0,p--),p||i.next(e(l.slice()))},()=>{--f||i.complete()}))},i)},i)}}(i,t,o?f=>Ou(o,f):tp.y));return e?l.pipe(en(e)):l}function W0(n,t,e){n?(0,bI.f)(e,n,t):t()}const La=(0,T(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ua=T(7537);function ip(...n){return function f_(){return(0,Ua.J)(1)}()((0,gn.D)(n,(0,jr.yG)(n)))}function q0(n){return new tr.y(t=>{(0,Sa.Xf)(n()).subscribe(t)})}var h_=T(8407);function Ba(n,t){const e=(0,dc.m)(n)?n:()=>n,i=o=>o.error(e());return new tr.y(t?o=>t.schedule(i,0,o):i)}var Bi=T(6232),Ju=T(7394),Vi=T(9360);function p_(){return(0,Vi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,wi.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class EI extends tr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Vi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ju.w0;const e=this.getSubject();t.add(this.source.subscribe((0,wi.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ju.w0.EMPTY)}return t}refCount(){return p_()(this)}}var ar=T(8645),ei=T(4664);function As(n){return n<=0?()=>Bi.E:(0,Vi.e)((t,e)=>{let i=0;t.subscribe((0,wi.x)(e,o=>{++i<=n&&(e.next(o),n<=i&&e.complete())}))})}function m_(...n){const t=(0,jr.yG)(n);return(0,Vi.e)((e,i)=>{(t?ip(n,e,t):ip(n,e)).subscribe(i)})}function Cr(n,t){return(0,Vi.e)((e,i)=>{let o=0;e.subscribe((0,wi.x)(i,l=>n.call(t,l,o++)&&i.next(l)))})}var ti=T(1631);function ed(n){return(0,Vi.e)((t,e)=>{let i=!1;t.subscribe((0,wi.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function td(n=nd){return(0,Vi.e)((t,e)=>{let i=!1;t.subscribe((0,wi.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function nd(){return new La}function is(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Cr((o,l)=>n(o,l,i)):tp.y,As(1),e?ed(t):td(()=>new La))}function Ms(n,t){return(0,dc.m)(t)?(0,ti.z)(n,t,1):(0,ti.z)(n,1)}var Cn=T(9397);function rs(n){return(0,Vi.e)((t,e)=>{let l,i=null,o=!1;i=t.subscribe((0,wi.x)(e,void 0,void 0,f=>{l=(0,Sa.Xf)(n(f,rs(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}function __(n){return n<=0?()=>Bi.E:(0,Vi.e)((t,e)=>{let i=[];t.subscribe((0,wi.x)(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function rp(n){return(0,Vi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var xI=T(2420);function v_(n){return(0,Vi.e)((t,e)=>{(0,Sa.Xf)(n).subscribe((0,wi.x)(e,()=>e.complete(),xI.Z)),!e.closed&&t.subscribe(e)})}const yt="primary",Rs=Symbol("RouteTitle");class y_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gr(n){return new y_(n)}function II(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const o={};for(let l=0;l<i.length;l++){const f=i[l],p=n[l];if(f.startsWith(":"))o[f.substring(1)]=p;else if(f!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function os(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!K0(n[o],t[o]))return!1;return!0}function K0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((o,l)=>i[l]===o)}return n===t}function op(n){return n.length>0?n[n.length-1]:null}function Os(n){return function d_(n){return!!n&&(n instanceof tr.y||(0,dc.m)(n.lift)&&(0,dc.m)(n.subscribe))}(n)?n:(0,u.QGY)(n)?(0,gn.D)(Promise.resolve(n)):(0,Qe.of)(n)}const fc={exact:function b_(n,t,e){if(!xr(n.segments,t.segments)||!ap(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!b_(n.children[i],t.children[i],e))return!1;return!0},subset:Ps},rd={exact:function Q0(n,t){return os(n,t)},subset:function X0(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>K0(n[e],t[e]))},ignored:()=>!0};function sp(n,t,e){return fc[e.paths](n.root,t.root,e.matrixParams)&&rd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ps(n,t,e){return J0(n,t,t.segments,e)}function J0(n,t,e,i){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!xr(o,e)||t.hasChildren()||!ap(o,e,i))}if(n.segments.length===e.length){if(!xr(n.segments,e)||!ap(n.segments,e,i))return!1;for(const o in t.children)if(!n.children[o]||!Ps(n.children[o],t.children[o],i))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(xr(n.segments,o)&&ap(n.segments,o,i)&&n.children[yt])&&J0(n.children[yt],t,l,i)}}function ap(n,t,e){return t.every((i,o)=>rd[e](n[o].parameters,i.parameters))}class hc{constructor(t=new Zt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return SI.serialize(this)}}class Zt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lp(this)}}class od{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gr(this.parameters)),this._parameterMap}toString(){return xo(this)}}function xr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let sd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return new w_},providedIn:"root"})}return n})();class w_{parse(t){const e=new mR(t);return new hc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ad(t.root,!0)}`,i=function ew(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(o=>`${cp(e)}=${cp(o)}`).join("&"):`${cp(e)}=${cp(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function AI(n){return encodeURI(n)}(t.fragment)}`:""}`}}const SI=new w_;function lp(n){return n.segments.map(t=>xo(t)).join("/")}function ad(n,t){if(!n.hasChildren())return lp(n);if(t){const e=n.children[yt]?ad(n.children[yt],!1):"",i=[];return Object.entries(n.children).forEach(([o,l])=>{o!==yt&&i.push(`${o}:${ad(l,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function TI(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===yt&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==yt&&(e=e.concat(t(o,i)))}),e}(n,(i,o)=>o===yt?[ad(n.children[yt],!1)]:[`${o}:${ad(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yt]?`${lp(n)}/${e[0]}`:`${lp(n)}/(${e.join("//")})`}}function E_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cp(n){return E_(n).replace(/%3B/gi,";")}function C_(n){return E_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function up(n){return decodeURIComponent(n)}function ld(n){return up(n.replace(/\+/g,"%20"))}function xo(n){return`${C_(n.path)}${function cd(n){return Object.keys(n).map(t=>`;${C_(t)}=${C_(n[t])}`).join("")}(n.parameters)}`}const tw=/^[^\/()?;#]+/;function dp(n){const t=n.match(tw);return t?t[0]:""}const dR=/^[^\/()?;=#]+/,hR=/^[^=?&#]+/,I_=/^[^&#]+/;class mR{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[yt]=new Zt(t,e)),i}parseSegment(){const t=dp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(t),new od(up(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function fR(n){const t=n.match(dR);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=dp(this.remaining);o&&(i=o,this.capture(i))}t[up(e)]=up(i)}parseQueryParam(t){const e=function x_(n){const t=n.match(hR);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const f=function pR(n){const t=n.match(I_);return t?t[0]:""}(this.remaining);f&&(i=f,this.capture(i))}const o=ld(e),l=ld(i);if(t.hasOwnProperty(o)){let f=t[o];Array.isArray(f)||(f=[f],t[o]=f),f.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=dp(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new u.vHH(4010,!1);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=yt);const f=this.parseChildren();e[l]=1===Object.keys(f).length?f[yt]:new Zt([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,!1)}}function D_(n){return n.segments.length>0?new Zt([],{[yt]:n}):n}function nw(n){const t={};for(const i of Object.keys(n.children)){const l=nw(n.children[i]);if(i===yt&&0===l.segments.length&&l.hasChildren())for(const[f,p]of Object.entries(l.children))t[f]=p;else(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function MI(n){if(1===n.numberOfChildren&&n.children[yt]){const t=n.children[yt];return new Zt(n.segments.concat(t.segments),t.children)}return n}(new Zt(n.segments,t))}function Va(n){return n instanceof hc}function T_(n){let t;const o=D_(function e(l){const f={};for(const g of l.children){const w=e(g);f[g.outlet]=w}const p=new Zt(l.url,f);return l===n&&(t=p),p}(n.root));return t??o}function ud(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(0===t.length)return S_(o,o,o,e,i);const l=function OI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new iw(!0,0,n);let t=0,e=!1;const i=n.reduce((o,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Object.entries(l.outlets).forEach(([g,w])=>{p[g]="string"==typeof w?w.split("/"):w}),[...o,{outlets:p}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===f?(l.split("/").forEach((p,g)=>{0==g&&"."===p||(0==g&&""===p?e=!0:".."===p?t++:""!=p&&o.push(p))}),o):[...o,l]},[]);return new iw(e,t,i)}(t);if(l.toRoot())return S_(o,o,new Zt([],{}),e,i);const f=function rw(n,t,e){if(n.isAbsolute)return new fd(t,!0,0);if(!e)return new fd(t,!1,NaN);if(null===e.parent)return new fd(e,!0,0);const i=dd(n.commands[0])?0:1;return function PI(n,t,e){let i=n,o=t,l=e;for(;l>o;){if(l-=o,i=i.parent,!i)throw new u.vHH(4005,!1);o=i.segments.length}return new fd(i,!1,o-l)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(l,o,n),p=f.processChildren?hd(f.segmentGroup,f.index,l.commands):ow(f.segmentGroup,f.index,l.commands);return S_(o,f.segmentGroup,p,e,i)}function dd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ja(n){return"object"==typeof n&&null!=n&&n.outlets}function S_(n,t,e,i,o){let f,l={};i&&Object.entries(i).forEach(([g,w])=>{l[g]=Array.isArray(w)?w.map(x=>`${x}`):`${w}`}),f=n===t?e:Ns(n,t,e);const p=D_(nw(f));return new hc(p,l,o)}function Ns(n,t,e){const i={};return Object.entries(n.children).forEach(([o,l])=>{i[o]=l===t?e:Ns(l,t,e)}),new Zt(n.segments,i)}class iw{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&dd(i[0]))throw new u.vHH(4003,!1);const o=i.find(ja);if(o&&o!==op(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function ow(n,t,e){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return hd(n,t,e);const i=function sw(n,t,e){let i=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return l;const f=n.segments[o],p=e[i];if(ja(p))break;const g=`${p}`,w=i<e.length-1?e[i+1]:null;if(o>0&&void 0===g)break;if(g&&w&&"object"==typeof w&&void 0===w.outlets){if(!Bt(g,w,f))return l;i+=2}else{if(!Bt(g,{},f))return l;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new Zt(n.segments.slice(0,i.pathIndex),{});return l.children[yt]=new Zt(n.segments.slice(i.pathIndex),n.children),hd(l,0,o)}return i.match&&0===o.length?new Zt(n.segments,{}):i.match&&!n.hasChildren()?aw(n,t,e):i.match?hd(n,0,o):aw(n,t,e)}function hd(n,t,e){if(0===e.length)return new Zt(n.segments,{});{const i=function NI(n){return ja(n[0])?n[0].outlets:{[yt]:n}}(e),o={};if(Object.keys(i).some(l=>l!==yt)&&n.children[yt]&&1===n.numberOfChildren&&0===n.children[yt].segments.length){const l=hd(n.children[yt],t,e);return new Zt(n.segments,l.children)}return Object.entries(i).forEach(([l,f])=>{"string"==typeof f&&(f=[f]),null!==f&&(o[l]=ow(n.children[l],t,f))}),Object.entries(n.children).forEach(([l,f])=>{void 0===i[l]&&(o[l]=f)}),new Zt(n.segments,o)}}function aw(n,t,e){const i=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(ja(l)){const g=gR(l.outlets);return new Zt(i,g)}if(0===o&&dd(e[0])){i.push(new od(n.segments[t].path,pc(e[0]))),o++;continue}const f=ja(l)?l.outlets[yt]:`${l}`,p=o<e.length-1?e[o+1]:null;f&&p&&dd(p)?(i.push(new od(f,pc(p))),o+=2):(i.push(new od(f,{})),o++)}return new Zt(i,{})}function gR(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=aw(new Zt([],{}),0,i))}),t}function pc(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Bt(n,t,e){return n==e.path&&os(t,e.parameters)}const as="imperative";class Wr{constructor(t,e){this.id=t,this.url=e}}class pd extends Wr{constructor(t,e,i="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Io extends Wr{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mc extends Wr{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gc extends Wr{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=16}}class md extends Wr{constructor(t,e,i,o){super(t,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class A_ extends Wr{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fp extends Wr{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _R extends Wr{constructor(t,e,i,o,l){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class M_ extends Wr{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kI extends Wr{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R_{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lw{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cw{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ha{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FI{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gd{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class P_{}class _d{constructor(t){this.url=t}}class Do{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ks,this.attachRef=null}}let ks=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Do,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class hp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=k_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=k_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=F_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return F_(t,this._root).map(e=>e.value)}}function k_(n,t){if(n===t.value)return t;for(const e of t.children){const i=k_(n,e);if(i)return i}return null}function F_(n,t){if(n===t.value)return[t];for(const e of t.children){const i=F_(n,e);if(i.length)return i.unshift(t),i}return[]}class To{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zr(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class uw extends hp{constructor(t,e){super(t),this.snapshot=e,fw(this,t)}toString(){return this.snapshot.toString()}}function dw(n,t){const e=function LI(n,t){const f=new vd([],{},{},"",{},yt,t,null,{});return new pp("",new To(f,[]))}(0,t),i=new zr.X([new od("",{})]),o=new zr.X({}),l=new zr.X({}),f=new zr.X({}),p=new zr.X(""),g=new Fs(i,o,f,p,l,yt,t,e.root);return g.snapshot=e.root,new uw(new To(g,[]),e)}class Fs{constructor(t,e,i,o,l,f,p,g){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=l,this.outlet=f,this.component=p,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,vt.U)(w=>w[Rs]))??(0,Qe.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(t=>Gr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(t=>Gr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function L_(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const o=e[i],l=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(l.component)break;i--}}return function UI(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class vd{get title(){return this.data?.[Rs]}constructor(t,e,i,o,l,f,p,g,w){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=f,this.component=p,this.routeConfig=g,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pp extends hp{constructor(t,e){super(e),this.url=t,fw(this,e)}toString(){return hw(this._root)}}function fw(n,t){t.value._routerState=n,t.children.forEach(e=>fw(n,e))}function hw(n){const t=n.children.length>0?` { ${n.children.map(hw).join(", ")} } `:"";return`${n.value}${t}`}function U_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,os(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),os(t.params,e.params)||n.paramsSubject.next(e.params),function DI(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!os(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),os(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function B_(n,t){const e=os(n.params,t.params)&&function ss(n,t){return xr(n,t)&&n.every((e,i)=>os(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||B_(n.parent,t.parent))}let V_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=yt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(ks),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)($a,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=e;const o=this.location,f=e.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,g=new vR(e,p,o.injector);this.activated=o.createComponent(f,{index:o.length,injector:g,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]})}return n})();class vR{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Fs?this.route:t===ks?this.childContexts:this.parent.get(t,e)}}const $a=new u.OlP("");let pw=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=np([i.queryParams,i.params,i.data]).pipe((0,ei.w)(([l,f,p],g)=>(p={...l,...f,...p},0===g?(0,Qe.of)(p):Promise.resolve(p)))).subscribe(l=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const f=(0,u.qFp)(i.component);if(f)for(const{templateName:p}of f.inputs)e.activatedComponentRef.setInput(p,l[p]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();function za(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const o=function _c(n,t,e){return t.children.map(i=>{for(const o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return za(n,i,o);return za(n,i)})}(n,t,e);return new To(i,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const f=l.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(p=>za(n,p)),f}}const i=function H_(n){return new Fs(new zr.X(n.url),new zr.X(n.params),new zr.X(n.queryParams),new zr.X(n.fragment),new zr.X(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>za(n,l));return new To(i,o)}}const yd="ngNavigationCancelingError";function vc(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Va(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=bd(!1,0,t);return o.url=e,o.navigationBehaviorOptions=i,o}function bd(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[yd]=!0,i.cancellationCode=t,e&&(i.url=e),i}function mp(n){return n&&n[yd]}let gp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(i,o){1&i&&u._UZ(0,"router-outlet")},dependencies:[V_],encapsulation:2})}return n})();function yp(n){const t=n.children&&n.children.map(yp),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yt&&(e.component=gp),e}function qr(n){return n.outlet||yt}function bp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class z_{constructor(t,e,i,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=l}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),U_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const o=Zr(e);t.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,o[f],i),delete o[f]}),Object.values(o).forEach(l=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const f=i.getContext(o.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=Zr(t);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],o);if(i&&i.outlet){const f=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=Zr(t);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const o=Zr(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],i),this.forwardEvent(new O_(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Ha(t.value.snapshot))}activateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(U_(o),o===l)if(o.component){const f=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,i);else if(o.component){const f=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(p.contexts),f.attachRef=p.componentRef,f.route=p.route.value,f.outlet&&f.outlet.attach(p.componentRef,p.route.value),U_(p.route.value),this.activateChildRoutes(t,null,f.children)}else{const p=bp(o.snapshot);f.attachRef=null,f.route=o,f.injector=p,f.outlet&&f.outlet.activateWith(o,f.injector),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,i)}}class _w{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wd{constructor(t,e){this.component=t,this.route=e}}function G_(n,t,e){const i=n._root;return wc(i,t?t._root:null,e,[i.value])}function bc(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,u.Z0I)(n)?t.get(n):n:i}function wc(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Zr(t);return n.children.forEach(f=>{(function jI(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const g=function vw(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!xr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!xr(n.url,t.url)||!os(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!B_(n,t)||!os(n.queryParams,t.queryParams);default:return!B_(n,t)}}(f,l,l.routeConfig.runGuardsAndResolvers);g?o.canActivateChecks.push(new _w(i)):(l.data=f.data,l._resolvedData=f._resolvedData),wc(n,t,l.component?p?p.children:null:e,i,o),g&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new wd(p.outlet.component,f))}else f&&Cp(t,p,o),o.canActivateChecks.push(new _w(i)),wc(n,null,l.component?p?p.children:null:e,i,o)})(f,l[f.value.outlet],e,i.concat([f.value]),o),delete l[f.value.outlet]}),Object.entries(l).forEach(([f,p])=>Cp(p,e.getContext(f),o)),o}function Cp(n,t,e){const i=Zr(n),o=n.value;Object.entries(i).forEach(([l,f])=>{Cp(f,o.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new wd(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Ed(n){return"function"==typeof n}function bw(n){return n instanceof La||"EmptyError"===n?.name}const xd=Symbol("INITIAL_VALUE");function Ga(){return(0,ei.w)(n=>np(n.map(t=>t.pipe(As(1),m_(xd)))).pipe((0,vt.U)(t=>{for(const e of t)if(!0!==e){if(e===xd)return xd;if(!1===e||e instanceof hc)return e}return!0}),Cr(t=>t!==xd),As(1)))}function xw(n){return(0,h_.z)((0,Cn.b)(t=>{if(Va(t))throw vc(0,t)}),(0,vt.U)(t=>!0===t))}class q_{constructor(t){this.segmentGroup=t||null}}class Y_{constructor(t){this.urlTree=t}}function Wa(n){return Ba(new q_(n))}function Ir(n){return Ba(new Y_(n))}class K_{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new u.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,Qe.of)(i);if(o.numberOfChildren>1||!o.children[yt])return Ba(new u.vHH(4e3,!1));o=o.children[yt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,o){const l=this.createSegmentGroup(t,e.root,i,o);return new hc(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([o,l])=>{if("string"==typeof l&&l.startsWith(":")){const p=l.substring(1);i[o]=e[p]}else i[o]=l}),i}createSegmentGroup(t,e,i,o){const l=this.createSegments(t,e.segments,i,o);let f={};return Object.entries(e.children).forEach(([p,g])=>{f[p]=this.createSegmentGroup(t,g,i,o)}),new Zt(l,f)}createSegments(t,e,i,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,i))}findPosParam(t,e,i){const o=i[e.path.substring(1)];if(!o)throw new u.vHH(4001,!1);return o}findOrReturn(t,e){let i=0;for(const o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}}const So={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Q_(n,t,e,i,o){const l=X_(n,t,e);return l.matched?(i=function _p(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function qI(n,t,e,i){const o=t.canMatch;if(!o||0===o.length)return(0,Qe.of)(!0);const l=o.map(f=>{const p=bc(f,n);return Os(function yw(n){return n&&Ed(n.canMatch)}(p)?p.canMatch(t,e):n.runInContext(()=>p(t,e)))});return(0,Qe.of)(l).pipe(Ga(),xw())}(i,t,e).pipe((0,vt.U)(f=>!0===f?l:{...So}))):(0,Qe.of)(l)}function X_(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...So}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||II)(e,n,t);if(!o)return{...So};const l={};Object.entries(o.posParams??{}).forEach(([p,g])=>{l[p]=g.path});const f=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:f,positionalParamSegments:o.posParams??{}}}function YI(n,t,e,i){return e.length>0&&function Ao(n,t,e){return e.some(i=>Ip(n,t,i)&&qr(i)!==yt)}(n,e,i)?{segmentGroup:new Zt(t,J_(i,new Zt(e,n.children))),slicedSegments:[]}:0===e.length&&function Dw(n,t,e){return e.some(i=>Ip(n,t,i))}(n,e,i)?{segmentGroup:new Zt(n.segments,KI(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Zt(n.segments,n.children),slicedSegments:e}}function KI(n,t,e,i,o){const l={};for(const f of i)if(Ip(n,e,f)&&!o[qr(f)]){const p=new Zt([],{});l[qr(f)]=p}return{...o,...l}}function J_(n,t){const e={};e[yt]=t;for(const i of n)if(""===i.path&&qr(i)!==yt){const o=new Zt([],{});e[qr(i)]=o}return e}function Ip(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class ev{constructor(t,e,i,o,l,f,p){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=l,this.paramsInheritanceStrategy=f,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new K_(this.urlSerializer,this.urlTree)}noMatchError(t){return new u.vHH(4002,!1)}recognize(){const t=YI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,yt).pipe(rs(e=>{if(e instanceof Y_)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof q_?this.noMatchError(e):e}),(0,vt.U)(e=>{const i=new vd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yt,this.rootComponentType,null,{}),o=new To(i,e),l=new pp("",o),f=function RI(n,t,e=null,i=null){return ud(T_(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(f),this.inheritParamsAndData(l._root),{state:l,tree:f}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,yt).pipe(rs(i=>{throw i instanceof q_?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=L_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,o,!0)}processChildren(t,e,i){const o=[];for(const l of Object.keys(i.children))"primary"===l?o.unshift(l):o.push(l);return(0,gn.D)(o).pipe(Ms(l=>{const f=i.children[l],p=function VI(n,t){const e=n.filter(i=>qr(i)===t);return e.push(...n.filter(i=>qr(i)!==t)),e}(e,l);return this.processSegmentGroup(t,p,f,l)}),function id(n,t){return(0,Vi.e)(function g_(n,t,e,i,o){return(l,f)=>{let p=e,g=t,w=0;l.subscribe((0,wi.x)(f,x=>{const D=w++;g=p?n(g,x,D):(p=!0,x),i&&f.next(g)},o&&(()=>{p&&f.next(g),f.complete()})))}}(n,t,arguments.length>=2,!0))}((l,f)=>(l.push(...f),l)),ed(null),function Y0(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Cr((o,l)=>n(o,l,i)):tp.y,__(1),e?ed(t):td(()=>new La))}(),(0,ti.z)(l=>{if(null===l)return Wa(i);const f=Dp(l);return function XI(n){n.sort((t,e)=>t.value.outlet===yt?-1:e.value.outlet===yt?1:t.value.outlet.localeCompare(e.value.outlet))}(f),(0,Qe.of)(f)}))}processSegment(t,e,i,o,l,f){return(0,gn.D)(e).pipe(Ms(p=>this.processSegmentAgainstRoute(p._injector??t,e,p,i,o,l,f).pipe(rs(g=>{if(g instanceof q_)return(0,Qe.of)(null);throw g}))),is(p=>!!p),rs(p=>{if(bw(p))return function Zn(n,t,e){return 0===t.length&&!n.children[e]}(i,o,l)?(0,Qe.of)([]):Wa(i);throw p}))}processSegmentAgainstRoute(t,e,i,o,l,f,p){return function IR(n,t,e,i){return!!(qr(n)===i||i!==yt&&Ip(t,e,n))&&("**"===n.path||X_(t,n,e).matched)}(i,o,l,f)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,o,i,l,f,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,l,f):Wa(o):Wa(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,l,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,o){const l=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ir(l):this.applyRedirects.lineralizeSegments(i,l).pipe((0,ti.z)(f=>{const p=new Zt(f,{});return this.processSegment(t,e,p,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,f){const{matched:p,consumedSegments:g,remainingSegments:w,positionalParamSegments:x}=X_(e,o,l);if(!p)return Wa(e);const D=this.applyRedirects.applyRedirectCommands(g,o.redirectTo,x);return o.redirectTo.startsWith("/")?Ir(D):this.applyRedirects.lineralizeSegments(o,D).pipe((0,ti.z)(R=>this.processSegment(t,i,e,R.concat(w),f,!1)))}matchSegmentAgainstRoute(t,e,i,o,l,f){let p;if("**"===i.path){const g=o.length>0?op(o).parameters:{},w=new vd(o,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tv(i),qr(i),i.component??i._loadedComponent??null,i,Tw(i));p=(0,Qe.of)({snapshot:w,consumedSegments:[],remainingSegments:[]}),e.children={}}else p=Q_(e,i,o,t).pipe((0,vt.U)(({matched:g,consumedSegments:w,remainingSegments:x,parameters:D})=>g?{snapshot:new vd(w,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tv(i),qr(i),i.component??i._loadedComponent??null,i,Tw(i)),consumedSegments:w,remainingSegments:x}:null));return p.pipe((0,ei.w)(g=>null===g?Wa(e):this.getChildConfig(t=i._injector??t,i,o).pipe((0,ei.w)(({routes:w})=>{const x=i._loadedInjector??t,{snapshot:D,consumedSegments:R,remainingSegments:W}=g,{segmentGroup:X,slicedSegments:me}=YI(e,R,W,w);if(0===me.length&&X.hasChildren())return this.processChildren(x,w,X).pipe((0,vt.U)(Je=>null===Je?null:[new To(D,Je)]));if(0===w.length&&0===me.length)return(0,Qe.of)([new To(D,[])]);const je=qr(i)===l;return this.processSegment(x,w,X,me,je?yt:l,!0).pipe((0,vt.U)(Je=>[new To(D,Je)]))}))))}getChildConfig(t,e,i){return e.children?(0,Qe.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,Qe.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Cw(n,t,e,i){const o=t.canLoad;if(void 0===o||0===o.length)return(0,Qe.of)(!0);const l=o.map(f=>{const p=bc(f,n);return Os(function HI(n){return n&&Ed(n.canLoad)}(p)?p.canLoad(t,e):n.runInContext(()=>p(t,e)))});return(0,Qe.of)(l).pipe(Ga(),xw())}(t,e,i).pipe((0,ti.z)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,Cn.b)(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function xR(n){return Ba(bd(!1,3))}())):(0,Qe.of)({routes:[],injector:t})}}function JI(n){const t=n.value.routeConfig;return t&&""===t.path}function Dp(n){const t=[],e=new Set;for(const i of n){if(!JI(i)){t.push(i);continue}const o=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):t.push(i)}for(const i of e){const o=Dp(i.children);t.push(new To(i.value,o))}return t.filter(i=>!e.has(i))}function tv(n){return n.data||{}}function Tw(n){return n.resolve||{}}function Za(n){return"string"==typeof n.title||null===n.title}function Yr(n){return(0,ei.w)(t=>{const e=n(t);return e?(0,gn.D)(e).pipe((0,vt.U)(()=>t)):(0,Qe.of)(t)})}const Kr=new u.OlP("ROUTES");let nv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Qe.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Os(e.loadComponent()).pipe((0,vt.U)(iv),(0,Cn.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),rp(()=>{this.componentLoaders.delete(e)})),o=new EI(i,()=>new ar.x).pipe(p_());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Qe.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=function rD(n,t,e,i){return Os(n.loadChildren()).pipe((0,vt.U)(iv),(0,ti.z)(o=>o instanceof u.YKP||Array.isArray(o)?(0,Qe.of)(o):(0,gn.D)(t.compileModuleAsync(o))),(0,vt.U)(o=>{i&&i(n);let l,f,p=!1;return Array.isArray(o)?(f=o,!0):(l=o.create(e).injector,f=l.get(Kr,[],{optional:!0,self:!0}).flat()),{routes:f.map(yp),injector:l}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(rp(()=>{this.childrenLoaders.delete(i)})),f=new EI(l,()=>new ar.x).pipe(p_());return this.childrenLoaders.set(i,f),f}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iv(n){return function Rw(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Cc=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ar.x,this.transitionAbortSubject=new ar.x,this.configLoader=(0,u.f3M)(nv),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(sd),this.rootContexts=(0,u.f3M)(ks),this.inputBindingEnabled=null!==(0,u.f3M)($a,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Qe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new lw(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new R_(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,o){return this.transitions=new zr.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:as,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Cr(l=>0!==l.id),(0,vt.U)(l=>({...l,extractedUrl:e.urlHandlingStrategy.extract(l.rawUrl)})),(0,ei.w)(l=>{this.currentTransition=l;let f=!1,p=!1;return(0,Qe.of)(l).pipe((0,Cn.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ei.w)(g=>{const w=g.currentBrowserUrl.toString(),x=!e.navigated||g.extractedUrl.toString()!==w||w!==g.currentUrlTree.toString();if(!x&&"reload"!==(g.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const R="";return this.events.next(new gc(g.id,this.urlSerializer.serialize(g.rawUrl),R,0)),g.resolve(null),Bi.E}if(e.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return(0,Qe.of)(g).pipe((0,ei.w)(R=>{const W=this.transitions?.getValue();return this.events.next(new pd(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),W!==this.transitions?.getValue()?Bi.E:Promise.resolve(R)}),function Sw(n,t,e,i,o,l){return(0,ti.z)(f=>function QI(n,t,e,i,o,l,f="emptyOnly"){return new ev(n,t,e,i,o,f,l).recognize()}(n,t,e,i,f.extractedUrl,o,l).pipe((0,vt.U)(({state:p,tree:g})=>({...f,targetSnapshot:p,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Cn.b)(R=>{l.targetSnapshot=R.targetSnapshot,l.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const W=new A_(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(W)}));if(x&&e.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:R,extractedUrl:W,source:X,restoredState:me,extras:je}=g,Je=new pd(R,this.urlSerializer.serialize(W),X,me);this.events.next(Je);const dt=dw(0,this.rootComponentType).snapshot;return this.currentTransition=l={...g,targetSnapshot:dt,urlAfterRedirects:W,extras:{...je,skipLocationChange:!1,replaceUrl:!1}},(0,Qe.of)(l)}{const R="";return this.events.next(new gc(g.id,this.urlSerializer.serialize(g.extractedUrl),R,1)),g.resolve(null),Bi.E}}),(0,Cn.b)(g=>{const w=new fp(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),(0,vt.U)(g=>(this.currentTransition=l={...g,guards:G_(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},l)),function W_(n,t){return(0,ti.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:f}}=e;return 0===f.length&&0===l.length?(0,Qe.of)({...e,guardsResult:!0}):function CR(n,t,e,i){return(0,gn.D)(n).pipe((0,ti.z)(o=>function ZI(n,t,e,i,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Qe.of)(!0);const f=l.map(p=>{const g=bp(t)??o,w=bc(p,g);return Os(function $I(n){return n&&Ed(n.canDeactivate)}(w)?w.canDeactivate(n,t,e,i):g.runInContext(()=>w(n,t,e,i))).pipe(is())});return(0,Qe.of)(f).pipe(Ga())}(o.component,o.route,e,t,i)),is(o=>!0!==o,!0))}(f,i,o,n).pipe((0,ti.z)(p=>p&&function xp(n){return"boolean"==typeof n}(p)?function Z_(n,t,e,i){return(0,gn.D)(t).pipe(Ms(o=>ip(function GI(n,t){return null!==n&&t&&t(new cw(n)),(0,Qe.of)(!0)}(o.route.parent,i),function ww(n,t){return null!==n&&t&&t(new FI(n)),(0,Qe.of)(!0)}(o.route,i),function Ew(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(f=>function Ep(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>q0(()=>{const p=f.guards.map(g=>{const w=bp(f.node)??e,x=bc(g,w);return Os(function Cd(n){return n&&Ed(n.canActivateChild)}(x)?x.canActivateChild(i,n):w.runInContext(()=>x(i,n))).pipe(is())});return(0,Qe.of)(p).pipe(Ga())}));return(0,Qe.of)(l).pipe(Ga())}(n,o.path,e),function WI(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Qe.of)(!0);const o=i.map(l=>q0(()=>{const f=bp(t)??e,p=bc(l,f);return Os(function Ec(n){return n&&Ed(n.canActivate)}(p)?p.canActivate(t,n):f.runInContext(()=>p(t,n))).pipe(is())}));return(0,Qe.of)(o).pipe(Ga())}(n,o.route,e))),is(o=>!0!==o,!0))}(i,l,n,t):(0,Qe.of)(p)),(0,vt.U)(p=>({...e,guardsResult:p})))})}(this.environmentInjector,g=>this.events.next(g)),(0,Cn.b)(g=>{if(l.guardsResult=g.guardsResult,Va(g.guardsResult))throw vc(0,g.guardsResult);const w=new _R(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(w)}),Cr(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",3),!1)),Yr(g=>{if(g.guards.canActivateChecks.length)return(0,Qe.of)(g).pipe((0,Cn.b)(w=>{const x=new M_(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}),(0,ei.w)(w=>{let x=!1;return(0,Qe.of)(w).pipe(function Aw(n,t){return(0,ti.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,Qe.of)(e);let l=0;return(0,gn.D)(o).pipe(Ms(f=>function tD(n,t,e,i){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!Za(o)&&(l[Rs]=o.title),function nD(n,t,e,i){const o=function iD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Qe.of)({});const l={};return(0,gn.D)(o).pipe((0,ti.z)(f=>function Mw(n,t,e,i){const o=bp(t)??i,l=bc(n,o);return Os(l.resolve?l.resolve(t,e):o.runInContext(()=>l(t,e)))}(n[f],t,e,i).pipe(is(),(0,Cn.b)(p=>{l[f]=p}))),__(1),function CI(n){return(0,vt.U)(()=>n)}(l),rs(f=>bw(f)?Bi.E:Ba(f)))}(l,n,t,i).pipe((0,vt.U)(f=>(n._resolvedData=f,n.data=L_(n,e).resolve,o&&Za(o)&&(n.data[Rs]=o.title),null)))}(f.route,i,n,t)),(0,Cn.b)(()=>l++),__(1),(0,ti.z)(f=>l===o.length?(0,Qe.of)(e):Bi.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Cn.b)({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(w,"",2)}}))}),(0,Cn.b)(w=>{const x=new kI(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}))}),Yr(g=>{const w=x=>{const D=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(x.routeConfig).pipe((0,Cn.b)(R=>{x.component=R}),(0,vt.U)(()=>{})));for(const R of x.children)D.push(...w(R));return D};return np(w(g.targetSnapshot.root)).pipe(ed(),As(1))}),Yr(()=>this.afterPreactivation()),(0,vt.U)(g=>{const w=function j_(n,t,e){const i=za(n,t._root,e?e._root:void 0);return new uw(i,t)}(e.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=l={...g,targetRouterState:w},l}),(0,Cn.b)(()=>{this.events.next(new P_)}),((n,t,e,i)=>(0,vt.U)(o=>(new z_(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)))(this.rootContexts,e.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),As(1),(0,Cn.b)({next:g=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Io(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),e.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{f=!0}}),v_(this.transitionAbortSubject.pipe((0,Cn.b)(g=>{throw g}))),rp(()=>{f||p||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),rs(g=>{if(p=!0,mp(g))this.events.next(new mc(l.id,this.urlSerializer.serialize(l.extractedUrl),g.message,g.cancellationCode)),function yc(n){return mp(n)&&Va(n.url)}(g)?this.events.next(new _d(g.url)):l.resolve(!1);else{this.events.next(new md(l.id,this.urlSerializer.serialize(l.extractedUrl),g,l.targetSnapshot??void 0));try{l.resolve(e.errorHandler(g))}catch(w){l.reject(w)}}return Bi.E}))}))}cancelNavigationTransition(e,i,o){const l=new mc(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(l),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xc(n){return n!==as}let Id=(()=>{class n{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(l=>l.outlet===yt);return i}getResolvedTitleForRoute(e){return e.data[Rs]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ow)},providedIn:"root"})}return n})(),Ow=(()=>{class n extends Id{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(Gl))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(sD)},providedIn:"root"})}return n})();class oD{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let sD=(()=>{class n extends oD{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=u.n5z(n)))(o||n)}}();static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Tp=new u.OlP("",{providedIn:"root",factory:()=>({})});let aD=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Nw)},providedIn:"root"})}return n})(),Nw=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Sp||{});function kw(n,t){n.events.pipe(Cr(e=>e instanceof Io||e instanceof mc||e instanceof md||e instanceof gc),(0,vt.U)(e=>e instanceof Io||e instanceof gc?Sp.COMPLETE:e instanceof mc&&(0===e.code||1===e.code)?Sp.REDIRECTING:Sp.FAILED),Cr(e=>e!==Sp.REDIRECTING),As(1)).subscribe(()=>{t()})}function DR(n){throw n}function TR(n,t,e){return t.parse("/")}const Fw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this._events=new ar.x,this.options=(0,u.f3M)(Tp,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||DR,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||TR,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(aD),this.routeReuseStrategy=(0,u.f3M)(Pw),this.titleStrategy=(0,u.f3M)(Id),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(Kr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(Cc),this.urlSerializer=(0,u.f3M)(sd),this.location=(0,u.f3M)(Fe),this.componentInputBindingEnabled=!!(0,u.f3M)($a,{optional:!0}),this.eventsSubscription=new Ju.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new hc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dw(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(rv(i)&&this._events.next(i));if(i instanceof pd)xc(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof gc)this.rawUrlTree=o.rawUrl;else if(i instanceof A_){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(l,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof P_)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof mc)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof _d){const l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),f={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xc(o.source)};this.scheduleNavigation(l,as,null,f,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof md&&this.restoreHistory(o,!0),i instanceof Io&&(this.navigated=!0),rv(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),as,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const l={replaceUrl:!0},f=o?.navigationId?o:null;if(o){const g={...o};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(l.state=g)}const p=this.parseUrl(e);this.scheduleNavigation(p,i,f,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(yp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:o,queryParams:l,fragment:f,queryParamsHandling:p,preserveFragment:g}=i,w=g?this.currentUrlTree.fragment:f;let D,x=null;switch(p){case"merge":x={...this.currentUrlTree.queryParams,...l};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}null!==x&&(x=this.removeEmptyProps(x));try{D=T_(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),D=this.currentUrlTree.root}return ud(D,e,x,w??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Va(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,as,null,i)}navigate(e,i={skipLocationChange:!1}){return function Ap(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new u.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...Fw}:!1===i?{...Lw}:i,Va(e))return sp(this.currentUrlTree,e,o);const l=this.parseUrl(e);return sp(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const l=e[o];return null!=l&&(i[o]=l),i},{})}scheduleNavigation(e,i,o,l,f){if(this.disposed)return Promise.resolve(!1);let p,g,w;f?(p=f.resolve,g=f.reject,w=f.promise):w=new Promise((D,R)=>{p=D,g=R});const x=this.pendingTasks.add();return kw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:l,resolve:p,reject:g,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const f={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",f)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",l)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rv(n){return!(n instanceof P_||n instanceof _d)}class ov{}let Bw=(()=>{class n{constructor(e,i,o,l,f){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Cr(e=>e instanceof Io),Ms(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,u.MMx)(l.providers,e,`Route: ${l.path}`));const f=l._injector??e,p=l._loadedInjector??f;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(f,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,gn.D)(o).pipe((0,Ua.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,Qe.of)(null);const l=o.pipe((0,ti.z)(f=>null===f?(0,Qe.of)(void 0):(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,this.processRoutes(f.injector??e,f.routes))));if(i.loadComponent&&!i._loadedComponent){const f=this.loader.loadComponent(i);return(0,gn.D)([l,f]).pipe((0,Ua.J)())}return l})}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(ni),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(ov),u.LFG(nv))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ls=new u.OlP("");let sv=(()=>{class n{constructor(e,i,o,l,f={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=l,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof pd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Io?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof gc&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof gd&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){u.$Z()};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();function ji(n,t){return{\u0275kind:n,\u0275providers:t}}function Op(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const i=n.get(ni),o=n.get(Pp);1===n.get(Np)&&i.initialNavigation(),n.get(jw,null,u.XFs.Optional)?.setUpPreloading(),n.get(Ls,null,u.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Pp=new u.OlP("",{factory:()=>new ar.x}),Np=new u.OlP("",{providedIn:"root",factory:()=>1}),jw=new u.OlP("");function Hw(n){return ji(0,[{provide:jw,useExisting:Bw},{provide:ov,useExisting:n}])}const cv=new u.OlP("ROUTER_FORROOT_GUARD"),pD=[Fe,{provide:sd,useClass:w_},ni,ks,{provide:Fs,useFactory:function Dd(n){return n.routerState.root},deps:[ni]},nv,[]];function mD(){return new u.PXZ("Router",ni)}let Hi=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[pD,[],{provide:Kr,multi:!0,useValue:e},{provide:cv,useFactory:uv,deps:[[ni,new u.FiY,new u.tp0]]},{provide:Tp,useValue:i||{}},i?.useHash?{provide:Ae,useClass:Le}:{provide:Ae,useClass:Ne},{provide:Ls,useFactory:()=>{const n=(0,u.f3M)(ys),t=(0,u.f3M)(u.R0b),e=(0,u.f3M)(Tp),i=(0,u.f3M)(Cc),o=(0,u.f3M)(sd);return e.scrollOffset&&n.setOffset(e.scrollOffset),new sv(o,i,n,t,e)}},i?.preloadingStrategy?Hw(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:mD},i?.initialNavigation?$w(i):[],i?.bindToComponentInputs?ji(8,[pw,{provide:$a,useExisting:pw}]).\u0275providers:[],[{provide:zw,useFactory:Op},{provide:u.tb,multi:!0,useExisting:zw}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Kr,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(cv,8))};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})();function uv(n){return"guarded"}function $w(n){return["disabled"===n.initialNavigation?ji(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const t=(0,u.f3M)(ni);return()=>{t.setUpLocationChangeListener()}}},{provide:Np,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ji(2,[{provide:Np,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:t=>{const e=t.get(_e,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=t.get(ni),l=t.get(Pp);kw(o,()=>{i(!0)}),t.get(Cc).afterPreactivation=()=>(i(!0),l.closed?(0,Qe.of)(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const zw=new u.OlP("");var he=T(5861),F=T(9058),qt=T(4303),Ic=T(7879),Qr=T(7582),qa=T(4537);function kp(n){return void 0!==n&&void 0!==n.enterprise}class CD{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}const Ww=function dv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fp=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lp=new Ic.Yd("@firebase/auth");function Dc(n,...t){Lp.logLevel<=Ic.in.ERROR&&Lp.error(`Auth (${qt.Jn}): ${n}`,...t)}function $i(n,...t){throw Ya(n,...t)}function Xr(n,...t){return Ya(n,...t)}function Ya(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Fp.create(n,...t)}function Ue(n,t,...e){if(!n)throw Ya(t,...e)}function lr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Dc(t),new Error(t)}function Ka(n,t){n||lr(t)}function Sd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function fv(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Tc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ka(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function TD(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Up(){return"http:"===fv()||"https:"===fv()}()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bp(n,t){Ka(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Sc{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qw=new Tc(3e4,6e4);function un(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function _n(n,t,e,i){return hv.apply(this,arguments)}function hv(){return(hv=(0,he.Z)(function*(n,t,e,i,o={}){return Ac(n,o,(0,he.Z)(function*(){let l={},f={};i&&("GET"===t?f=i:l={body:JSON.stringify(i)});const p=(0,F.xO)(Object.assign({key:n.config.apiKey},f)).slice(1),g=yield n._getAdditionalHeaders();return g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode),Sc.fetch()(Yw(n,n.config.apiHost,e,p),Object.assign({method:t,headers:g,referrerPolicy:"no-referrer"},l))}))})).apply(this,arguments)}function Ac(n,t,e){return pv.apply(this,arguments)}function pv(){return(pv=(0,he.Z)(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},AD),t);try{const o=new MD(n),l=yield Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=yield l.json();if("needConfirmation"in f)throw Ad(n,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const p=l.ok?f.errorMessage:f.error.message,[g,w]=p.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===g)throw Ad(n,"credential-already-in-use",f);if("EMAIL_EXISTS"===g)throw Ad(n,"email-already-in-use",f);if("USER_DISABLED"===g)throw Ad(n,"user-disabled",f);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw function Zw(n,t,e){const i=Object.assign(Object.assign({},Ww()),{[t]:e});return new F.LL("auth","Firebase",i).create(t,{appName:n.name})}(n,x,w);$i(n,x)}}catch(o){if(o instanceof F.ZR)throw o;$i(n,"network-request-failed",{message:String(o)})}})).apply(this,arguments)}function cs(n,t,e,i){return mv.apply(this,arguments)}function mv(){return(mv=(0,he.Z)(function*(n,t,e,i,o={}){const l=yield _n(n,t,e,i,o);return"mfaPendingCredential"in l&&$i(n,"multi-factor-auth-required",{_serverResponse:l}),l})).apply(this,arguments)}function Yw(n,t,e,i){const o=`${t}${e}?${i}`;return n.config.emulator?Bp(n.config,o):`${n.config.apiScheme}://${o}`}class MD{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Xr(this.auth,"network-request-failed")),qw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ad(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const o=Xr(n,t,i);return o.customData._tokenResponse=e,o}function _v(n,t){return Md.apply(this,arguments)}function Md(){return(Md=(0,he.Z)(function*(n,t){return _n(n,"GET","/v2/recaptchaConfig",un(n,t))})).apply(this,arguments)}function Mc(){return(Mc=(0,he.Z)(function*(n,t){return _n(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function yv(){return(yv=(0,he.Z)(function*(n,t){return _n(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Rd(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Vp(){return(Vp=(0,he.Z)(function*(n,t=!1){const e=(0,F.m9)(n),i=yield e.getIdToken(t),o=Hp(i);Ue(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l="object"==typeof o.firebase?o.firebase:void 0,f=l?.sign_in_provider;return{claims:o,token:i,authTime:Rd(jp(o.auth_time)),issuedAtTime:Rd(jp(o.iat)),expirationTime:Rd(jp(o.exp)),signInProvider:f||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function jp(n){return 1e3*Number(n)}function Hp(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=(0,F.tV)(e);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Mo(n,t){return $p.apply(this,arguments)}function $p(){return($p=(0,he.Z)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof F.ZR&&function HR({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class zp{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const o=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout((0,he.Z)(function*(){yield e.iteration()}),i)}iteration(){var t=this;return(0,he.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class Kw{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rd(this.lastLoginAt),this.creationTime=Rd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Od(n){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,he.Z)(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),o=yield Mo(n,function ND(n,t){return yv.apply(this,arguments)}(e,{idToken:i}));Ue(o?.users.length,e,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const f=null!==(t=l.providerUserInfo)&&void 0!==t&&t.length?function pi(n){return n.map(t=>{var{providerId:e}=t,i=(0,Qr._T)(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(l.providerUserInfo):[],p=function Nd(n,t){return[...n.filter(i=>!t.some(o=>o.providerId===i.providerId)),...t]}(n.providerData,f),x=!!n.isAnonymous&&!(n.email&&l.passwordHash||p?.length),D={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Kw(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(n,D)}),Pd.apply(this,arguments)}function Dr(){return(Dr=(0,he.Z)(function*(n){const t=(0,F.m9)(n);yield Od(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function Rc(){return(Rc=(0,he.Z)(function*(n,t){const e=yield Ac(n,{},(0,he.Z)(function*(){const i=(0,F.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,f=Yw(n,o,"/v1/token",`key=${l}`),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Sc.fetch()(f,{method:"POST",headers:p,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}class mi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ue(t.idToken,"internal-error"),Ue(typeof t.idToken<"u","internal-error"),Ue(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function jR(n){const t=Hp(n);return Ue(t,"internal-error"),Ue(typeof t.exp<"u","internal-error"),Ue(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return(0,he.Z)(function*(){return Ue(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return(0,he.Z)(function*(){const{accessToken:o,refreshToken:l,expiresIn:f}=yield function Qa(n,t){return Rc.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(o,l,Number(f))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:o,expirationTime:l}=e,f=new mi;return i&&(Ue("string"==typeof i,"internal-error",{appName:t}),f.refreshToken=i),o&&(Ue("string"==typeof o,"internal-error",{appName:t}),f.accessToken=o),l&&(Ue("number"==typeof l,"internal-error",{appName:t}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new mi,this.toJSON())}_performRefresh(){return lr("not implemented")}}function Ro(n,t){Ue("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Tr{constructor(t){var{uid:e,auth:i,stsTokenManager:o}=t,l=(0,Qr._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Kw(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,he.Z)(function*(){const i=yield Mo(e,e.stsTokenManager.getToken(e.auth,t));return Ue(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function kD(n){return Vp.apply(this,arguments)}(this,t)}reload(){return function FD(n){return Dr.apply(this,arguments)}(this)}_assign(t){this!==t&&(Ue(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Tr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return(0,he.Z)(function*(){let o=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),o=!0),e&&(yield Od(i)),yield i.auth._persistUserIfCurrent(i),o&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return(0,he.Z)(function*(){const e=yield t.getIdToken();return yield Mo(t,function OD(n,t){return Mc.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,o,l,f,p,g,w,x;const D=null!==(i=e.displayName)&&void 0!==i?i:void 0,R=null!==(o=e.email)&&void 0!==o?o:void 0,W=null!==(l=e.phoneNumber)&&void 0!==l?l:void 0,X=null!==(f=e.photoURL)&&void 0!==f?f:void 0,me=null!==(p=e.tenantId)&&void 0!==p?p:void 0,je=null!==(g=e._redirectEventId)&&void 0!==g?g:void 0,Je=null!==(w=e.createdAt)&&void 0!==w?w:void 0,dt=null!==(x=e.lastLoginAt)&&void 0!==x?x:void 0,{uid:Nt,emailVerified:st,isAnonymous:an,providerData:yn,stsTokenManager:ri}=e;Ue(Nt&&ri,t,"internal-error");const $o=mi.fromJSON(this.name,ri);Ue("string"==typeof Nt,t,"internal-error"),Ro(D,t.name),Ro(R,t.name),Ue("boolean"==typeof st,t,"internal-error"),Ue("boolean"==typeof an,t,"internal-error"),Ro(W,t.name),Ro(X,t.name),Ro(me,t.name),Ro(je,t.name),Ro(Je,t.name),Ro(dt,t.name);const co=new Tr({uid:Nt,auth:t,email:R,emailVerified:st,displayName:D,isAnonymous:an,photoURL:X,phoneNumber:W,tenantId:me,stsTokenManager:$o,createdAt:Je,lastLoginAt:dt});return yn&&Array.isArray(yn)&&(co.providerData=yn.map(ms=>Object.assign({},ms))),je&&(co._redirectEventId=je),co}static _fromIdTokenResponse(t,e,i=!1){return(0,he.Z)(function*(){const o=new mi;o.updateFromServerResponse(e);const l=new Tr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:i});return yield Od(l),l})()}}const Xa=new Map;function zi(n){Ka(n instanceof Function,"Expected a class definition");let t=Xa.get(n);return t?(Ka(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Xa.set(n,t),t)}const Ja=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,he.Z)(function*(){return!0})()}_set(e,i){var o=this;return(0,he.Z)(function*(){o.storage[e]=i})()}_get(e){var i=this;return(0,he.Z)(function*(){const o=i.storage[e];return void 0===o?null:o})()}_remove(e){var i=this;return(0,he.Z)(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function us(n,t,e){return`firebase:${n}:${t}:${e}`}class Jr{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=us(this.userKey,o.apiKey,l),this.fullPersistenceKey=us("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,he.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Tr._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,he.Z)(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return(0,he.Z)(function*(){if(!e.length)return new Jr(zi(Ja),t,i);const o=(yield Promise.all(e.map(function(){var w=(0,he.Z)(function*(x){if(yield x._isAvailable())return x});return function(x){return w.apply(this,arguments)}}()))).filter(w=>w);let l=o[0]||zi(Ja);const f=us(i,t.config.apiKey,t.name);let p=null;for(const w of e)try{const x=yield w._get(f);if(x){const D=Tr._fromJSON(t,x);w!==l&&(p=D),l=w;break}}catch{}const g=o.filter(w=>w._shouldAllowMigration);return l._shouldAllowMigration&&g.length?(l=g[0],p&&(yield l._set(f,p.toJSON())),yield Promise.all(e.map(function(){var w=(0,he.Z)(function*(x){if(x!==l)try{yield x._remove(f)}catch{}});return function(x){return w.apply(this,arguments)}}())),new Jr(l,t,i)):new Jr(l,t,i)})()}}function el(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cv(t))return"Blackberry";if(xv(t))return"Webos";if(Gp(t))return"Safari";if((t.includes("chrome/")||bv(t))&&!t.includes("edge/"))return"Chrome";if(Ev(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function tl(n=(0,F.z$)()){return/firefox\//i.test(n)}function Gp(n=(0,F.z$)()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bv(n=(0,F.z$)()){return/crios\//i.test(n)}function wv(n=(0,F.z$)()){return/iemobile/i.test(n)}function Ev(n=(0,F.z$)()){return/android/i.test(n)}function Cv(n=(0,F.z$)()){return/blackberry/i.test(n)}function xv(n=(0,F.z$)()){return/webos/i.test(n)}function Fd(n=(0,F.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Xw(n=(0,F.z$)()){return Fd(n)||Ev(n)||xv(n)||Cv(n)||/windows phone/i.test(n)||wv(n)}function UD(n,t=[]){let e;switch(n){case"Browser":e=el((0,F.z$)());break;case"Worker":e=`${el((0,F.z$)())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${qt.Jn}/${i}`}class BD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((f,p)=>{try{f(t(l))}catch(g){p(g)}});i.onAbort=e,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,he.Z)(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const o of e.queue)yield o(t),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const l of i)try{l()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}})()}}function Jw(){return(Jw=(0,he.Z)(function*(n,t={}){return _n(n,"GET","/v2/passwordPolicy",un(n,t))})).apply(this,arguments)}class zR{constructor(t){var e,i,o,l;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=f.minPasswordLength)&&void 0!==e?e:6,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),void 0!==f.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),void 0!==f.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),void 0!==f.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),void 0!==f.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(o=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==o?o:"",this.forceUpgradeOnSignin=null!==(l=t.forceUpgradeOnSignin)&&void 0!==l&&l,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,o,l,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=null===(e=g.meetsMinPasswordLength)||void 0===e||e),g.isValid&&(g.isValid=null===(i=g.meetsMaxPasswordLength)||void 0===i||i),g.isValid&&(g.isValid=null===(o=g.containsLowercaseLetter)||void 0===o||o),g.isValid&&(g.isValid=null===(l=g.containsUppercaseLetter)||void 0===l||l),g.isValid&&(g.isValid=null===(f=g.containsNumericCharacter)||void 0===f||f),g.isValid&&(g.isValid=null===(p=g.containsNonAlphanumericCharacter)||void 0===p||p),g}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let o=0;o<t.length;o++)i=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class HD{constructor(t,e,i,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new BD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=zi(e)),this._initializationPromise=this.queue((0,he.Z)(function*(){var o,l;if(!i._deleted&&(i.persistenceManager=yield Jr.create(i,t),!i._deleted)){if(null!==(o=i._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(l=i.currentUser)||void 0===l?void 0:l.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,he.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return(0,he.Z)(function*(){var i;const o=yield e.assertedPersistence.getCurrentUser();let l=o,f=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const p=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,g=l?._redirectEventId,w=yield e.tryRedirectSignIn(t);(!p||p===g)&&w?.user&&(l=w.user,f=!0)}if(!l)return e.directlySetCurrentUser(null);if(!l._redirectEventId){if(f)try{yield e.beforeStateQueue.runMiddleware(l)}catch(p){l=o,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(p))}return l?e.reloadAndSetCurrentUserOrClear(l):e.directlySetCurrentUser(null)}return Ue(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===l._redirectEventId?e.directlySetCurrentUser(l):e.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(t){var e=this;return(0,he.Z)(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,he.Z)(function*(){try{yield Od(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function SD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,he.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,he.Z)(function*(){const i=t?(0,F.m9)(t):null;return i&&Ue(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return(0,he.Z)(function*(){if(!i._deleted)return t&&Ue(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue((0,he.Z)(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,he.Z)(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue((0,he.Z)(function*(){yield e.assertedPersistence.setPersistence(zi(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,he.Z)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,he.Z)(function*(){const e=yield function VD(n){return Jw.apply(this,arguments)}(t),i=new zR(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new F.LL("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return(0,he.Z)(function*(){const o=yield i.getOrInitRedirectPersistenceManager(e);return null===t?o.removeCurrentUser():o.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,he.Z)(function*(){if(!e.redirectPersistenceManager){const i=t&&zi(t)||e._popupRedirectResolver;Ue(i,e,"argument-error"),e.redirectPersistenceManager=yield Jr.create(e,[zi(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,he.Z)(function*(){var i,o;return e._isInitialized&&(yield e.queue((0,he.Z)(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(o=e.redirectUser)||void 0===o?void 0:o._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,he.Z)(function*(){if(t===e.currentUser)return e.queue((0,he.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,o){if(this._deleted)return()=>{};const l="function"==typeof e?e:e.next.bind(e);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(p,this,"internal-error"),p.then(()=>{f||l(this.currentUser)}),"function"==typeof e){const g=t.addObserver(e,i,o);return()=>{f=!0,g()}}{const g=t.addObserver(e);return()=>{f=!0,g()}}}directlySetCurrentUser(t){var e=this;return(0,he.Z)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,he.Z)(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const o=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();o&&(i["X-Firebase-Client"]=o);const l=yield t._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i})()}_getAppCheckToken(){var t=this;return(0,he.Z)(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function DD(n,...t){Lp.logLevel<=Ic.in.WARN&&Lp.warn(`Auth (${qt.Jn}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Pn(n){return(0,F.m9)(n)}class eE{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,F.ne)(e=>this.observer=e)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nl(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=o=>{const l=Xr("internal-error");l.customData=o,e(l)},i.type="text/javascript",i.charset="UTF-8",function Dv(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)})}function Wp(n){return`__${n}${Math.floor(1e6*Math.random())}`}class Tv{constructor(t){this.type="recaptcha-enterprise",this.auth=Pn(t)}verify(t="verify",e=!1){var i=this;return(0,he.Z)(function*(){function l(){return l=(0,he.Z)(function*(p){if(!e){if(null==p.tenantId&&null!=p._agentRecaptchaConfig)return p._agentRecaptchaConfig.siteKey;if(null!=p.tenantId&&void 0!==p._tenantRecaptchaConfigs[p.tenantId])return p._tenantRecaptchaConfigs[p.tenantId].siteKey}return new Promise(function(){var g=(0,he.Z)(function*(w,x){_v(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(D=>{if(void 0!==D.recaptchaKey){const R=new CD(D);return null==p.tenantId?p._agentRecaptchaConfig=R:p._tenantRecaptchaConfigs[p.tenantId]=R,w(R.siteKey)}x(new Error("recaptcha Enterprise site key undefined"))}).catch(D=>{x(D)})});return function(w,x){return g.apply(this,arguments)}}())}),l.apply(this,arguments)}function f(p,g,w){const x=window.grecaptcha;kp(x)?x.enterprise.ready(()=>{x.enterprise.execute(p,{action:t}).then(D=>{g(D)}).catch(()=>{g("NO_RECAPTCHA")})}):w(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((p,g)=>{(function o(p){return l.apply(this,arguments)})(i.auth).then(w=>{if(!e&&kp(window.grecaptcha))f(w,p,g);else{if(typeof window>"u")return void g(new Error("RecaptchaVerifier is only supported in browser"));nl("https://www.google.com/recaptcha/enterprise.js?render="+w).then(()=>{f(w,p,g)}).catch(x=>{g(x)})}}).catch(w=>{g(w)})})})()}}function Bs(n,t,e){return il.apply(this,arguments)}function il(){return(il=(0,he.Z)(function*(n,t,e,i=!1){const o=new Tv(n);let l;try{l=yield o.verify(e)}catch{l=yield o.verify(e,!0)}const f=Object.assign({},t);return Object.assign(f,i?{captchaResp:l}:{captchaResponse:l}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f})).apply(this,arguments)}function Ud(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function WD(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class qD{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return lr("not implemented")}_getIdTokenResponse(t){return lr("not implemented")}_linkToIdToken(t,e){return lr("not implemented")}_getReauthenticationResolver(t){return lr("not implemented")}}function Ov(){return(Ov=(0,he.Z)(function*(n,t){return _n(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function eo(n,t){return tm.apply(this,arguments)}function tm(){return(tm=(0,he.Z)(function*(n,t){return cs(n,"POST","/v1/accounts:signInWithIdp",un(n,t))})).apply(this,arguments)}class Oo{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class sE extends Oo{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function sm(n,t){return jv.apply(this,arguments)}function jv(){return(jv=(0,he.Z)(function*(n,t){return cs(n,"POST","/v1/accounts:signUp",un(n,t))})).apply(this,arguments)}class Gi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,o=!1){return(0,he.Z)(function*(){const l=yield Tr._fromIdTokenResponse(t,i,o),f=Vs(i);return new Gi({user:l,providerId:f,_tokenResponse:i,operationType:e})})()}static _forOperation(t,e,i){return(0,he.Z)(function*(){yield t._updateTokensIfNecessary(i,!0);const o=Vs(i);return new Gi({user:t,providerId:o,_tokenResponse:i,operationType:e})})()}}function Vs(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Fc extends F.ZR{constructor(t,e,i,o){var l;super(e.code,e.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:t.name,tenantId:null!==(l=t.tenantId)&&void 0!==l?l:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,o){return new Fc(t,e,i,o)}}function oT(n,t,e,i){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw"auth/multi-factor-auth-required"===l.code?Fc._fromErrorAndOperation(n,l,t,i):l})}function zv(){return(zv=(0,he.Z)(function*(n,t,e=!1){const i=yield Mo(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return Gi._forOperation(n,"link",i)})).apply(this,arguments)}function Gv(){return(Gv=(0,he.Z)(function*(n,t,e=!1){const{auth:i}=n,o="reauthenticate";try{const l=yield Mo(n,oT(i,o,t,n),e);Ue(l.idToken,i,"internal-error");const f=Hp(l.idToken);Ue(f,i,"internal-error");const{sub:p}=f;return Ue(n.uid===p,i,"user-mismatch"),Gi._forOperation(n,o,l)}catch(l){throw"auth/user-not-found"===l?.code&&$i(i,"user-mismatch"),l}})).apply(this,arguments)}function Zv(){return(Zv=(0,he.Z)(function*(n,t,e=!1){const i="signIn",o=yield oT(n,i,t),l=yield Gi._fromIdTokenResponse(n,i,o);return e||(yield n._updateCurrentUser(l.user)),l})).apply(this,arguments)}function cr(){return(cr=(0,he.Z)(function*(n){const t=Pn(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function Jv(){return Jv=(0,he.Z)(function*(n,t,e){var i;const o=Pn(n),l={returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"};let f;if(null!==(i=o._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const w=yield Bs(o,l,"signUpPassword");f=sm(o,w)}else f=sm(o,l).catch(function(){var w=(0,he.Z)(function*(x){if("auth/missing-recaptcha-token"===x.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const D=yield Bs(o,l,"signUpPassword");return sm(o,D)}throw x});return function(x){return w.apply(this,arguments)}}());const p=yield f.catch(w=>{throw"auth/password-does-not-meet-requirements"===w.code&&function Ar(n){return cr.apply(this,arguments)}(n),w}),g=yield Gi._fromIdTokenResponse(o,"signIn",p);return yield o._updateCurrentUser(g.user),g}),Jv.apply(this,arguments)}function bm(){return(bm=(0,he.Z)(function*(n,t){return _n(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function ny(n,t){return wm.apply(this,arguments)}function wm(){return wm=(0,he.Z)(function*(n,{displayName:t,photoURL:e}){if(void 0===t&&void 0===e)return;const i=(0,F.m9)(n),l={idToken:yield i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},f=yield Mo(i,function pE(n,t){return bm.apply(this,arguments)}(i.auth,l));i.displayName=f.displayName||null,i.photoURL=f.photoUrl||null;const p=i.providerData.find(({providerId:g})=>"password"===g);p&&(p.displayName=i.displayName,p.photoURL=i.photoURL),yield i._updateTokensIfNecessary(f)}),wm.apply(this,arguments)}function _E(n,t,e){return iy.apply(this,arguments)}function iy(){return(iy=(0,he.Z)(function*(n,t,e){const{auth:i}=n,l={idToken:yield n.getIdToken(),returnSecureToken:!0};t&&(l.email=t),e&&(l.password=e);const f=yield Mo(n,function Rv(n,t){return Ov.apply(this,arguments)}(i,l));yield n._updateTokensIfNecessary(f,!0)})).apply(this,arguments)}const ly="__sak";class xm{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ly,"1"),this.storage.removeItem(ly),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vc=(()=>{class n extends xm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function iO(){const n=(0,F.z$)();return Gp(n)||Fd(n)}()&&function $R(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),l=this.localCache[i];o!==l&&e(i,l,o)}}onStorageEvent(e,i=!1){if(!e.key)return void this.forAllChangedKeys((p,g,w)=>{this.notifyListeners(p,w)});const o=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const p=this.storage.getItem(o);if(e.newValue!==p)null!==e.newValue?this.storage.setItem(o,e.newValue):this.storage.removeItem(o);else if(this.localCache[o]===e.newValue&&!i)return}const l=()=>{const p=this.storage.getItem(o);!i&&this.localCache[o]===p||this.notifyListeners(o,p)},f=this.storage.getItem(o);!function Iv(){return(0,F.w1)()&&10===document.documentMode}()||f===e.newValue||e.newValue===e.oldValue?l():setTimeout(l,10)}notifyListeners(e,i){this.localCache[e]=i;const o=this.listeners[e];if(o)for(const l of Array.from(o))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:o}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,i){var o=()=>super._set,l=this;return(0,he.Z)(function*(){yield o().call(l,e,i),l.localCache[e]=JSON.stringify(i)})()}_get(e){var i=()=>super._get,o=this;return(0,he.Z)(function*(){const l=yield i().call(o,e);return o.localCache[e]=JSON.stringify(l),l})()}_remove(e){var i=()=>super._remove,o=this;return(0,he.Z)(function*(){yield i().call(o,e),delete o.localCache[e]})()}}return n.type="LOCAL",n})(),CE=(()=>{class n extends xm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})();let jc=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const o=new n(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}handleEvent(e){var i=this;return(0,he.Z)(function*(){const o=e,{eventId:l,eventType:f,data:p}=o.data,g=i.handlersMap[f];if(!g?.size)return;o.ports[0].postMessage({status:"ack",eventId:l,eventType:f});const w=Array.from(g).map(function(){var D=(0,he.Z)(function*(R){return R(o.origin,p)});return function(R){return D.apply(this,arguments)}}()),x=yield function IT(n){return Promise.all(n.map(function(){var t=(0,he.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(i){return{fulfilled:!1,reason:i}}});return function(e){return t.apply(this,arguments)}}()))}(w);o.ports[0].postMessage({status:"done",eventId:l,eventType:f,response:x})})()}_subscribe(e,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function cy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(10*Math.random());return n+e}class Im{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){var o=this;return(0,he.Z)(function*(){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let f,p;return new Promise((g,w)=>{const x=cy("",20);l.port1.start();const D=setTimeout(()=>{w(new Error("unsupported_event"))},i);p={messageChannel:l,onMessage(R){const W=R;if(W.data.eventId===x)switch(W.data.status){case"ack":clearTimeout(D),f=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),g(W.data.response);break;default:clearTimeout(D),clearTimeout(f),w(new Error("invalid_response"))}}},o.handlers.add(p),l.port1.addEventListener("message",p.onMessage),o.target.postMessage({eventType:t,eventId:x,data:e},[l.port2])}).finally(()=>{p&&o.removeMessageHandler(p)})})()}}function vn(){return window}function xE(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function Dm(){return(Dm=(0,he.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uy="firebaseLocalStorageDb",Yd="firebaseLocalStorage",SE="fbase_key";class Kd{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Tm(n,t){return n.transaction([Yd],t?"readwrite":"readonly").objectStore(Yd)}function dy(){const n=indexedDB.open(uy,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Yd,{keyPath:SE})}catch(o){e(o)}}),n.addEventListener("success",(0,he.Z)(function*(){const i=n.result;i.objectStoreNames.contains(Yd)?t(i):(i.close(),yield function Qd(){const n=indexedDB.deleteDatabase(uy);return new Kd(n).toPromise()}(),t(yield dy()))}))})}function AE(n,t,e){return fy.apply(this,arguments)}function fy(){return(fy=(0,he.Z)(function*(n,t,e){const i=Tm(n,!0).put({[SE]:t,value:e});return new Kd(i).toPromise()})).apply(this,arguments)}function Am(){return(Am=(0,he.Z)(function*(n,t){const e=Tm(n,!1).get(t),i=yield new Kd(e).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function hy(n,t){const e=Tm(n,!0).delete(t);return new Kd(e).toPromise()}const Xd=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,he.Z)(function*(){return e.db||(e.db=yield dy()),e.db})()}_withRetries(e){var i=this;return(0,he.Z)(function*(){let o=0;for(;;)try{const l=yield i._openDb();return yield e(l)}catch(l){if(o++>3)throw l;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,he.Z)(function*(){return xE()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,he.Z)(function*(){e.receiver=jc._getInstance(function DE(){return xE()?self:null}()),e.receiver._subscribe("keyChanged",function(){var i=(0,he.Z)(function*(o,l){return{keyProcessed:(yield e._poll()).includes(l.key)}});return function(o,l){return i.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var i=(0,he.Z)(function*(o,l){return["keyChanged"]});return function(o,l){return i.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,he.Z)(function*(){var i,o;if(e.activeServiceWorker=yield function IE(){return Dm.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Im(e.activeServiceWorker);const l=yield e.sender._send("ping",{},800);l&&null!==(i=l[0])&&void 0!==i&&i.fulfilled&&null!==(o=l[0])&&void 0!==o&&o.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var i=this;return(0,he.Z)(function*(){if(i.sender&&i.activeServiceWorker&&function DT(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:e},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,he.Z)(function*(){try{if(!indexedDB)return!1;const e=yield dy();return yield AE(e,ly,"1"),yield hy(e,ly),!0}catch{}return!1})()}_withPendingWrite(e){var i=this;return(0,he.Z)(function*(){i.pendingWrites++;try{yield e()}finally{i.pendingWrites--}})()}_set(e,i){var o=this;return(0,he.Z)(function*(){return o._withPendingWrite((0,he.Z)(function*(){return yield o._withRetries(l=>AE(l,e,i)),o.localCache[e]=i,o.notifyServiceWorker(e)}))})()}_get(e){var i=this;return(0,he.Z)(function*(){const o=yield i._withRetries(l=>function Sm(n,t){return Am.apply(this,arguments)}(l,e));return i.localCache[e]=o,o})()}_remove(e){var i=this;return(0,he.Z)(function*(){return i._withPendingWrite((0,he.Z)(function*(){return yield i._withRetries(o=>hy(o,e)),delete i.localCache[e],i.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,he.Z)(function*(){const i=yield e._withRetries(f=>{const p=Tm(f,!1).getAll();return new Kd(p).toPromise()});if(!i)return[];if(0!==e.pendingWrites)return[];const o=[],l=new Set;for(const{fbase_key:f,value:p}of i)l.add(f),JSON.stringify(e.localCache[f])!==JSON.stringify(p)&&(e.notifyListeners(f,p),o.push(f));for(const f of Object.keys(e.localCache))e.localCache[f]&&!l.has(f)&&(e.notifyListeners(f,null),o.push(f));return o})()}notifyListeners(e,i){this.localCache[e]=i;const o=this.listeners[e];if(o)for(const l of Array.from(o))l(i)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,he.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();Wp("rcb"),new Tc(3e4,6e4);class yy extends qD{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return eo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function FE(n){return function Wv(n,t){return Zv.apply(this,arguments)}(n.auth,new yy(n),n.bypassAuthState)}function NT(n){const{auth:t,user:e}=n;return Ue(e,t,"internal-error"),function uE(n,t){return Gv.apply(this,arguments)}(e,new yy(n),n.bypassAuthState)}function LE(n){return by.apply(this,arguments)}function by(){return(by=(0,he.Z)(function*(n){const{auth:t,user:e}=n;return Ue(e,t,"internal-error"),function am(n,t){return zv.apply(this,arguments)}(e,new yy(n),n.bypassAuthState)})).apply(this,arguments)}class wy{constructor(t,e,i,o,l=!1){this.auth=t,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,he.Z)(function*(i,o){t.pendingPromise={resolve:i,reject:o};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(l){t.reject(l)}});return function(i,o){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,he.Z)(function*(){const{urlResponse:i,sessionId:o,postBody:l,tenantId:f,error:p,type:g}=t;if(p)return void e.reject(p);const w={auth:e.auth,requestUri:i,sessionId:o,tenantId:f||void 0,postBody:l||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(g)(w))}catch(x){e.reject(x)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FE;case"linkViaPopup":case"linkViaRedirect":return LE;case"reauthViaPopup":case"reauthViaRedirect":return NT;default:$i(this.auth,"internal-error")}}resolve(t){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Tc(2e3,1e4);const UE="pendingRedirect",nf=new Map;class FT extends wy{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,he.Z)(function*(){let i=nf.get(e.auth._key());if(!i){try{const l=(yield function LT(n,t){return xy.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;i=()=>Promise.resolve(l)}catch(o){i=()=>Promise.reject(o)}nf.set(e.auth._key(),i)}return e.bypassAuthState||nf.set(e.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,i=this;return(0,he.Z)(function*(){if("signInViaRedirect"===t.type)return e().call(i,t);if("unknown"!==t.type){if(t.eventId){const o=yield i.auth._redirectUserForId(t.eventId);if(o)return i.user=o,e().call(i,t);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return(0,he.Z)(function*(){})()}cleanUp(){}}function xy(){return(xy=(0,he.Z)(function*(n,t){const e=function Sy(n){return us(UE,n.config.apiKey,n.name)}(t),i=function Ty(n){return zi(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const o="true"===(yield i._get(e));return yield i._remove(e),o})).apply(this,arguments)}function UT(n,t){nf.set(n._key(),t)}function BE(n,t){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,he.Z)(function*(n,t,e=!1){const i=Pn(n),o=function Hs(n,t){return t?zi(t):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,t),f=yield new FT(i,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,yield i._persistUserIfCurrent(f.user),yield i._setRedirectUser(null,t)),f})).apply(this,arguments)}class ll{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function wO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jE(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!jE(t)){const o=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(Xr(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Py(t))}saveEventToCache(t){this.cachedEventUids.add(Py(t)),this.lastProcessedEventTime=Date.now()}}function Py(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function jE({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function af(){return(af=(0,he.Z)(function*(n,t={}){return _n(n,"GET","/v1/projects",t)})).apply(this,arguments)}const HT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HE=/^https?/;function ky(){return ky=(0,he.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield function Ny(n){return af.apply(this,arguments)}(n);for(const e of t)try{if(zE(e))return}catch{}$i(n,"unauthorized-domain")}),ky.apply(this,arguments)}function zE(n){const t=Sd(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const f=new URL(n);return""===f.hostname&&""===i?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&f.hostname===i}if(!HE.test(e))return!1;if(HT.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const Fy=new Tc(3e4,6e4);function Ly(){const n=vn().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let lf=null;const $T=new Tc(5e3,15e3),zT="__/auth/iframe",GT="emulator/auth/iframe",WT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EO(n){const t=n.config;Ue(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Bp(t,GT):`https://${n.config.authDomain}/${zT}`,i={apiKey:t.apiKey,appName:n.name,v:qt.Jn},o=ZE.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${(0,F.xO)(i).slice(1)}`}function Uy(){return Uy=(0,he.Z)(function*(n){const t=yield function WE(n){return lf=lf||function GE(n){return new Promise((t,e)=>{var i,o,l;function f(){Ly(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ly(),e(Xr(n,"network-request-failed"))},timeout:Fy.get()})}if(null!==(o=null===(i=vn().gapi)||void 0===i?void 0:i.iframes)&&void 0!==o&&o.Iframe)t(gapi.iframes.getContext());else{if(null===(l=vn().gapi)||void 0===l||!l.load){const p=Wp("iframefcb");return vn()[p]=()=>{gapi.load?f():e(Xr(n,"network-request-failed"))},nl(`https://apis.google.com/js/api.js?onload=${p}`).catch(g=>e(g))}f()}}).catch(t=>{throw lf=null,t})}(n),lf}(n),e=vn().gapi;return Ue(e,n,"internal-error"),t.open({where:document.body,url:EO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WT,dontclear:!0},i=>new Promise(function(){var o=(0,he.Z)(function*(l,f){yield i.restyle({setHideOnLeave:!1});const p=Xr(n,"network-request-failed"),g=vn().setTimeout(()=>{f(p)},$T.get());function w(){vn().clearTimeout(g),l(i)}i.ping(w).then(w,()=>{f(p)})});return function(l,f){return o.apply(this,arguments)}}()))}),Uy.apply(this,arguments)}const ZT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class YE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const JT="__/auth/handler",eS="emulator/auth/handler",tS=encodeURIComponent("fac");function KE(n,t,e,i,o,l){return By.apply(this,arguments)}function By(){return(By=(0,he.Z)(function*(n,t,e,i,o,l){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:qt.Jn,eventId:o};if(t instanceof Oo){t.setDefaultLanguage(n.languageCode),f.providerId=t.providerId||"",(0,F.xb)(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[x,D]of Object.entries(l||{}))f[x]=D}if(t instanceof sE){const x=t.getScopes().filter(D=>""!==D);x.length>0&&(f.scopes=x.join(","))}n.tenantId&&(f.tid=n.tenantId);const p=f;for(const x of Object.keys(p))void 0===p[x]&&delete p[x];const g=yield n._getAppCheckToken(),w=g?`#${tS}=${encodeURIComponent(g)}`:"";return`${function nS({config:n}){return n.emulator?Bp(n,eS):`https://${n.authDomain}/${JT}`}(n)}?${(0,F.xO)(p).slice(1)}${w}`})).apply(this,arguments)}const cl="webStorageSupport",XE=class QE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=BE,this._overrideRedirectResult=UT}_openPopup(t,e,i,o){var l=this;return(0,he.Z)(function*(){var f;Ka(null===(f=l.eventManagers[t._key()])||void 0===f?void 0:f.manager,"_initialize() not called before _openPopup()");const p=yield KE(t,e,i,Sd(),o);return function QT(n,t,e,i=500,o=600){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g=Object.assign(Object.assign({},ZT),{width:i.toString(),height:o.toString(),top:l,left:f}),w=(0,F.z$)().toLowerCase();e&&(p=bv(w)?"_blank":e),tl(w)&&(t=t||"http://localhost",g.scrollbars="yes");const x=Object.entries(g).reduce((R,[W,X])=>`${R}${W}=${X},`,"");if(function Qw(n=(0,F.z$)()){var t;return Fd(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(w)&&"_self"!==p)return function XT(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}(t||"",p),new YE(null);const D=window.open(t||"",p,x);Ue(D,n,"popup-blocked");try{D.focus()}catch{}return new YE(D)}(t,p,cy())})()}_openRedirect(t,e,i,o){var l=this;return(0,he.Z)(function*(){return yield l._originValidation(t),function Wi(n){vn().location.href=n}(yield KE(t,e,i,Sd(),o)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(Ka(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){var e=this;return(0,he.Z)(function*(){const i=yield function qE(n){return Uy.apply(this,arguments)}(t),o=new ll(t);return i.register("authEvent",l=>(Ue(l?.authEvent,t,"invalid-auth-event"),{status:o.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:o},e.iframes[t._key()]=i,o})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(cl,{type:cl},o=>{var l;const f=null===(l=o?.[0])||void 0===l?void 0:l[cl];void 0!==f&&e(!!f),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function $E(n){return ky.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Xw()||Gp()||Fd()}};var JE="@firebase/auth";class aS{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,he.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const uS=(0,F.Pz)("authIdTokenMaxAge")||300;let km=null;const dS=n=>function(){var t=(0,he.Z)(function*(e){const i=e&&(yield e.getIdTokenResult()),o=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>uS)return;const l=i?.token;km!==l&&(km=l,yield fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function gi(n=(0,qt.Mq)()){const t=(0,qt.qX)(n,"auth");if(t.isInitialized())return t.getImmediate();const e=function zD(n,t){const e=(0,qt.qX)(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if((0,F.vZ)(l,t??{}))return o;$i(o,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:XE,persistence:[Xd,Vc,CE]}),i=(0,F.Pz)("authTokenSyncURL");if(i){const l=dS(i);(function yT(n,t,e){(0,F.m9)(n).beforeAuthStateChanged(t,e)})(e,l,()=>l(e.currentUser)),function vT(n,t,e,i){(0,F.m9)(n).onIdTokenChanged(t,e,i)}(e,f=>l(f))}const o=(0,F.q4)("auth");return o&&function Av(n,t,e){const i=Pn(n);Ue(i._canInitEmulator,i,"emulator-config-failed"),Ue(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const o=!!e?.disableWarnings,l=Ud(t),{host:f,port:p}=function qp(n){const t=Ud(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:WD(i.substr(l.length+1))}}{const[l,f]=i.split(":");return{host:l,port:WD(f)}}}(t);i.config.emulator={url:`${l}//${f}${null===p?"":`:${p}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:f,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function ZD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(e,`http://${o}`),e}!function cS(n){(0,qt.Xd)(new qa.wA("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=i.options;Ue(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:f,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UD(n)},w=new HD(i,o,l,g);return function GD(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(zi);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(w,e),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),(0,qt.Xd)(new qa.wA("auth-internal",t=>{const e=Pn(t.getProvider("auth").getImmediate());return new aS(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,qt.KN)(JE,"1.3.0",function lS(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,qt.KN)(JE,"1.3.0","esm2017")}("Browser");const eC="@firebase/database";let ul="";class hS{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class pS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const uf=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hS(t)}}catch{}return new pS},$s=uf("localStorage"),zy=uf("sessionStorage"),dl=new Ic.Yd("@firebase/database"),df=function(){let n=1;return function(){return n++}}(),nC=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},ff=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ff.apply(null,i):t+="object"==typeof i?(0,F.Wl)(i):i,t+=" "}return t};let zs=null,iC=!0;const Un=function(...n){if(!0===iC&&(iC=!1,null===zs&&!0===zy.get("logging_enabled")&&function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(dl.logLevel=Ic.in.VERBOSE,zs=dl.log.bind(dl),t&&zy.set("logging_enabled",!0)):"function"==typeof n?zs=n:(zs=null,zy.remove("logging_enabled"))}(!0)),zs){const t=ff.apply(null,n);zs(t)}},Gs=function(n){return function(...t){Un(n,...t)}},Gy=function(...n){const t="FIREBASE INTERNAL ERROR: "+ff(...n);dl.error(t)},No=function(...n){const t=`FIREBASE FATAL ERROR: ${ff(...n)}`;throw dl.error(t),new Error(t)},ii=function(...n){const t="FIREBASE WARNING: "+ff(...n);dl.warn(t)},Hc=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ws="[MIN_NAME]",ko="[MAX_NAME]",Zs=function(n,t){if(n===t)return 0;if(n===Ws||t===ko)return-1;if(t===Ws||n===ko)return 1;{const e=Um(n),i=Um(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},mS=function(n,t){return n===t?0:n<t?-1:1},hf=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(t))},pf=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Wl)(t[i]),e+=":",e+=pf(n[t[i]]);return e+="}",e},Fm=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let o=0;o<e;o+=t)i.push(n.substring(o,o+t>e?e:o+t));return i};function Bn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Lm=function(n){(0,F.hu)(!Hc(n),"Invalid JSON number");const i=1023;let o,l,f,p,g;0===n?(l=0,f=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=p+i,f=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(l=0,f=Math.round(n/Math.pow(2,-1074))));const w=[];for(g=52;g;g-=1)w.push(f%2?1:0),f=Math.floor(f/2);for(g=11;g;g-=1)w.push(l%2?1:0),l=Math.floor(l/2);w.push(o?1:0),w.reverse();const x=w.join("");let D="";for(g=0;g<64;g+=8){let R=parseInt(x.substr(g,8),2).toString(16);1===R.length&&(R="0"+R),D+=R}return D.toLowerCase()},vS=new RegExp("^-?(0*)\\d{1,10}$"),Um=function(n){if(vS.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},fl=function(n){try{n()}catch(t){setTimeout(()=>{throw ii("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},$c=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class lC{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ii(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wS{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ii(t)}}let zc=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const hl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ES="websocket",qy="long_polling";class gf{constructor(t,e,i,o,l=!1,f="",p=!1,g=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$s.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$s.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function CS(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===ES)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==qy)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function xO(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return Bn(e,(l,f)=>{o.push(l+"="+f)}),i+o.join("&")}class IO{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const pl={},Yy={};function _f(n){const t=n.toString();return pl[t]||(pl[t]=new IO),pl[t]}class pC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&fl(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class qs{constructor(t,e,i,o,l,f,p){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gs(t),this.stats_=_f(e),this.urlFn=g=>(this.appCheckToken&&(g.ac=this.appCheckToken),CS(e,qy,g))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new pC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wC((...l)=>{const[f,p,g,w,x]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=p,this.password=g;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[f,p]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&hl.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qs.forceAllow_=!0}static forceDisallow(){qs.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!qs.forceAllow_&&(qs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),o=Fm(i,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class wC{constructor(t,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=df(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=wC.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){Un("frame writing exception"),p.stack&&Un(p.stack),Un(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Un("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const f=this.pendingSegs.shift();i=i+"&seg"+o+"="+f.seg+"&ts"+o+"="+f.ts+"&d"+o+"="+f.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Un("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Bm=null;typeof MozWebSocket<"u"?Bm=MozWebSocket:typeof WebSocket<"u"&&(Bm=WebSocket);let gl=(()=>{class n{constructor(e,i,o,l,f,p,g){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gs(this.connId),this.stats_=_f(i),this.connURL=n.connectionURL_(i,p,g,l,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,l,f){const p={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&hl.test(location.hostname)&&(p.r="f"),i&&(p.s=i),o&&(p.ls=o),l&&(p.ac=l),f&&(p.p=f),CS(e,ES,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$s.set("previous_websocket_failure",!0);try{let o;if((0,F.Yr)()){o={headers:{"User-Agent":`Firebase/5/${ul}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,p=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;p&&(o.proxy={origin:p})}this.mySock=new Bm(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Bm&&!n.forceDisallow_}static previouslyFailed(){return $s.isInMemoryStorage||!0===$s.get("previous_websocket_failure")}markConnectionHealthy(){$s.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,F.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,F.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Fm(i,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),eb=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[qs,gl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=gl&&gl.isAvailable();let o=i&&!gl.previouslyFailed();if(e.webSocketOnly&&(i||ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[gl];else{const l=this.transports_=[];for(const f of n.ALL_TRANSPORTS)f&&f.isAvailable()&&l.push(f);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class sb{constructor(t,e,i,o,l,f,p,g,w,x){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=g,this.onKill_=w,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gs("c:"+this.id+":"),this.transportManager_=new eb(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=$c(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=hf("t",t),i=hf("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=hf("t",t),i=hf("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=hf("t",t);if("d"in t){const i=t.d;if("h"===e){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Gy("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gy("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),$c(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$c(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class PS{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class NS{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!i||i===o[l].context))return void o.splice(l,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class ab extends NS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ab}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Yt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Vt(){return new Yt("")}function St(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function _l(n){return n.pieces_.length-n.pieceNum_}function Xt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Yt(n.pieces_,t)}function yf(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function bf(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function wf(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Yt(t,0)}function hn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Yt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new Yt(e,0)}function At(n){return n.pieceNum_>=n.pieces_.length}function Zi(n,t){const e=St(n),i=St(t);if(null===e)return t;if(e===i)return Zi(Xt(n),Xt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Vm(n,t){if(_l(n)!==_l(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Mr(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(_l(n)>_l(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class US{constructor(t,e){this.errorPrefix_=e,this.parts_=bf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);SC(this)}}function SC(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+to(n))}function to(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Gc extends NS{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Gc}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ef=1e3;let $m,vl=(()=>{class n extends PS{constructor(e,i,o,l,f,p,g,w){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=f,this.authTokenProvider_=p,this.appCheckTokenProvider_=g,this.authOverride_=w,this.id=n.nextPersistentConnectionId_++,this.log_=Gs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ef,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gc.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ab.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const l=++this.requestNumber_,f={r:l,a:e,b:i};this.log_((0,F.Wl)(f)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const i=new F.BH,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:p=>{const g=p.d;"ok"===p.s?i.resolve(g):i.reject(g)}};return this.outstandingGets_.push(l),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,o,l){this.initConnection_();const f=e._queryIdentifier,p=e._path.toString();this.log_("Listen called for "+p+" "+f),this.listens.has(p)||this.listens.set(p,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(p).has(f),"listen() called twice for same path/queryId.");const g={onComplete:l,hashFn:i,query:e,tag:o};this.listens.get(p).set(f,g),this.connected_&&this.sendListen_(g)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+o+" for "+l);const f={p:o};e.tag&&(f.q=i._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,g=>{const w=g.d,x=g.s;n.warnOnListenWarnings_(w,i),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",g),"ok"!==x&&this.removeListen_(o,l),e.onComplete&&e.onComplete(x,w))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const o=(0,F.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,l=>{const f=l.s,p=l.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,i)}sendUnlisten_(e,i,o,l){this.log_("Unlisten on "+e+" for "+i);const f={p:e};l&&(f.q=o,f.t=l),this.sendRequest("n",f)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,l){const f={p:i,d:o};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,p=>{l&&setTimeout(()=>{l(p.s,p.d)},Math.floor(0))})}put(e,i,o,l){this.putInternal("p",e,i,o,l)}merge(e,i,o,l){this.putInternal("m",e,i,o,l)}putInternal(e,i,o,l,f){this.initConnection_();const p={p:i,d:o};void 0!==f&&(p.h=f),this.outstandingPuts_.push({action:e,request:p,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(f.s,f.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Gy("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ef,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ef,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ef),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,he.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,p=e.lastSessionId;let g=!1,w=null;const x=function(){w?w.close():(g=!0,l())};e.realtime_={close:x,sendRequest:function(W){(0,F.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(W)}};const R=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[W,X]=yield Promise.all([e.authTokenProvider_.getToken(R),e.appCheckTokenProvider_.getToken(R)]);g?Un("getToken() completed but was canceled"):(Un("getToken() completed. Creating connection."),e.authToken_=W&&W.accessToken,e.appCheckToken_=X&&X.token,w=new sb(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,l,me=>{ii(me+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},p))}catch(W){e.log_("Failed to get token: "+W),g||(e.repoInfo_.nodeAdmin&&ii(W),x())}}})()}interrupt(e){Un("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Un("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ef,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(f=>pf(f)).join("$"):"default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const o=new Yt(e).toString();let l;if(this.listens.has(o)){const f=this.listens.get(o);l=f.get(i),f.delete(i),0===f.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,i){Un("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Un("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+ul.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ab.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Mt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Mt(t,e)}}class Hm{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Mt(Ws,t),o=new Mt(Ws,e);return 0!==this.compare(i,o)}minPost(){return Mt.MIN}}class MC extends Hm{static get __EMPTY_NODE(){return $m}static set __EMPTY_NODE(t){$m=t}compare(t,e){return Zs(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Mt.MIN}maxPost(){return new Mt(ko,$m)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Mt(t,$m)}toString(){return".key"}}const Fo=new MC;class zm{constructor(t,e,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(f=e?i(t.key,e):1,o&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let ub,no=(()=>{class n{constructor(e,i,o,l,f){this.key=e,this.value=i,this.color=o??n.RED,this.left=l??Di.EMPTY_NODE,this.right=f??Di.EMPTY_NODE}copy(e,i,o,l,f){return new n(e??this.key,i??this.value,o??this.color,l??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let l=this;const f=o(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,i,o),null):0===f?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Di.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,l;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Di.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Di{constructor(t,e=Di.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Di(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,no.BLACK,null,null))}remove(t){return new Di(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,no.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new zm(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new zm(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new zm(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new zm(this.root_,null,this.comparator_,!0,t)}}function lb(n,t){return Zs(n.name,t.name)}function cb(n,t){return Zs(n,t)}Di.EMPTY_NODE=new class zS{copy(t,e,i,o,l){return this}insert(t,e,i){return new no(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const db=function(n){return"number"==typeof n?"number:"+Lm(n):"string:"+n},GS=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===ub||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===ub||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ti,fb,OC,yl=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),GS(this.priorityNode_)}static set __childrenNodeConstructor(e){Ti=e}static get __childrenNodeConstructor(){return Ti}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return At(e)?this:".priority"===St(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=St(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,F.hu)(".priority"!==o||1===_l(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+db(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Lm(this.value_):this.value_,this.lazyHash_=nC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),f=n.VALUE_TYPE_ORDER.indexOf(o);return(0,F.hu)(l>=0,"Unknown leaf type: "+i),(0,F.hu)(f>=0,"Unknown leaf type: "+o),l===f?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-l}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ut=new class hb extends Hm{compare(t,e){const i=t.node.getPriority(),o=e.node.getPriority(),l=i.compareTo(o);return 0===l?Zs(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Mt.MIN}maxPost(){return new Mt(ko,new yl("[PRIORITY-POST]",OC))}makePost(t,e){const i=fb(t);return new Mt(e,new yl("[PRIORITY-POST]",i))}toString(){return".priority"}},NC=Math.log(2);class pb{constructor(t){this.count=parseInt(Math.log(t+1)/NC,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Wc=function(n,t,e,i){n.sort(t);const o=function(g,w){const x=w-g;let D,R;if(0===x)return null;if(1===x)return D=n[g],R=e?e(D):D,new no(R,D.node,no.BLACK,null,null);{const W=parseInt(x/2,10)+g,X=o(g,W),me=o(W+1,w);return D=n[W],R=e?e(D):D,new no(R,D.node,no.BLACK,X,me)}},p=function(g){let w=null,x=null,D=n.length;const R=function(X,me){const je=D-X,Je=D;D-=X;const dt=o(je+1,Je),Nt=n[je],st=e?e(Nt):Nt;W(new no(st,Nt.node,me,null,dt))},W=function(X){w?(w.left=X,w=X):(x=X,w=X)};for(let X=0;X<g.count;++X){const me=g.nextBitIsOne(),je=Math.pow(2,g.count-(X+1));me?R(je,no.BLACK):(R(je,no.BLACK),R(je,no.RED))}return x}(new pb(n.length));return new Di(i||t,p)};let mb;const Cf={};class Lo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(Cf&&Ut,"ChildrenNode.ts has not been loaded"),mb=mb||new Lo({".priority":Cf},{".priority":Ut}),mb}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Di?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==Fo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=e.getIterator(Mt.Wrap);let p,f=l.getNext();for(;f;)o=o||t.isDefinedOn(f.node),i.push(f),f=l.getNext();p=o?Wc(i,t.getCompare()):Cf;const g=t.toString(),w=Object.assign({},this.indexSet_);w[g]=t;const x=Object.assign({},this.indexes_);return x[g]=p,new Lo(x,w)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(o,l)=>{const f=(0,F.DV)(this.indexSet_,l);if((0,F.hu)(f,"Missing index implementation for "+l),o===Cf){if(f.isDefinedOn(t.node)){const p=[],g=e.getIterator(Mt.Wrap);let w=g.getNext();for(;w;)w.name!==t.name&&p.push(w),w=g.getNext();return p.push(t),Wc(p,f.getCompare())}return Cf}{const p=e.get(t.name);let g=o;return p&&(g=g.remove(new Mt(t.name,p))),g.insert(t,t.node)}});return new Lo(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,o=>{if(o===Cf)return o;{const l=e.get(t.name);return l?o.remove(new Mt(t.name,l)):o}});return new Lo(i,this.indexSet_)}}let xf,wt=(()=>{class n{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&GS(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xf||(xf=new n(new Di(cb),null,Lo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xf}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?xf:i}}getChild(e){const i=St(e);return null===i?this:this.getImmediateChild(i).getChild(Xt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new Mt(e,i);let l,f;i.isEmpty()?(l=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,i),f=this.indexMap_.addToIndexes(o,this.children_));const p=l.isEmpty()?xf:this.priorityNode_;return new n(l,p,f)}}updateChild(e,i){const o=St(e);if(null===o)return i;{(0,F.hu)(".priority"!==St(e)||1===_l(e),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Xt(e),i);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,l=0,f=!0;if(this.forEachChild(Ut,(p,g)=>{i[p]=g.val(e),o++,f&&n.INTEGER_REGEXP_.test(p)?l=Math.max(l,Number(p)):f=!1}),!e&&f&&l<2*o){const p=[];for(const g in i)p[g]=i[g];return p}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+db(this.getPriority().val())+":"),this.forEachChild(Ut,(i,o)=>{const l=o.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":nC(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const l=this.resolveIndex_(o);if(l){const f=l.getPredecessorKey(new Mt(e,i));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Mt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Mt(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Mt.Wrap);let f=l.peek();for(;null!=f&&i.compare(f,e)<0;)l.getNext(),f=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Mt.Wrap);let f=l.peek();for(;null!=f&&i.compare(f,e)>0;)l.getNext(),f=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===If?-1:0}withIndex(e){if(e===Fo||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Fo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(Ut),l=i.getIterator(Ut);let f=o.getNext(),p=l.getNext();for(;f&&p;){if(f.name!==p.name||!f.node.equals(p.node))return!1;f=o.getNext(),p=l.getNext()}return null===f&&null===p}return!1}return!1}}resolveIndex_(e){return e===Fo?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const If=new class ZS extends wt{constructor(){super(new Di(cb),wt.EMPTY_NODE,Lo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return wt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Mt,{MIN:{value:new Mt(Ws,wt.EMPTY_NODE)},MAX:{value:new Mt(ko,If)}}),MC.__EMPTY_NODE=wt.EMPTY_NODE,yl.__childrenNodeConstructor=wt,function RC(n){ub=n}(If),function WS(n){OC=n}(If);const kC=!0;function In(n,t=null){if(null===n)return wt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new yl(n,In(t));if(n instanceof Array||!kC){let e=wt.EMPTY_NODE;return Bn(n,(i,o)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const l=In(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(In(t))}{const e=[];let i=!1;if(Bn(n,(f,p)=>{if("."!==f.substring(0,1)){const g=In(p);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),e.push(new Mt(f,g)))}}),0===e.length)return wt.EMPTY_NODE;const l=Wc(e,lb,f=>f.name,cb);if(i){const f=Wc(e,Ut.getCompare());return new wt(l,In(t),new Lo({".priority":f},{".priority":Ut}))}return new wt(l,In(t),Lo.Default)}}!function PC(n){fb=n}(In);class Gm extends Hm{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!At(t)&&".priority"!==St(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),o=this.extractChild(e.node),l=i.compareTo(o);return 0===l?Zs(t.name,e.name):l}makePost(t,e){const i=In(t),o=wt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Mt(e,o)}maxPost(){const t=wt.EMPTY_NODE.updateChild(this.indexPath_,If);return new Mt(ko,t)}toString(){return bf(this.indexPath_,0).join("/")}}const Wm=new class qS extends Hm{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Zs(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Mt.MIN}maxPost(){return Mt.MAX}makePost(t,e){const i=In(t);return new Mt(e,i)}toString(){return".value"}};function YS(n){return{type:"value",snapshotNode:n}}function Ys(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Zc(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function qc(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Zm{constructor(t){this.index_=t}updateChild(t,e,i,o,l,f){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(e);return p.getChild(o).equals(i.getChild(o))&&p.isEmpty()===i.isEmpty()||(null!=f&&(i.isEmpty()?t.hasChild(e)?f.trackChildChange(Zc(e,p)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Ys(e,i)):f.trackChildChange(qc(e,i,p))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Ut,(o,l)=>{e.hasChild(o)||i.trackChildChange(Zc(o,l))}),e.isLeafNode()||e.forEachChild(Ut,(o,l)=>{if(t.hasChild(o)){const f=t.getImmediateChild(o);f.equals(l)||i.trackChildChange(qc(o,l,f))}else i.trackChildChange(Ys(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?wt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Yc{constructor(t){this.indexedFilter_=new Zm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Yc.getStartPost_(t),this.endPost_=Yc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,o,l,f){return this.matches(new Mt(e,i))||(i=wt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,l,f)}updateFullNode(t,e,i){e.isLeafNode()&&(e=wt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(wt.EMPTY_NODE);const l=this;return e.forEachChild(Ut,(f,p)=>{l.matches(new Mt(f,p))||(o=o.updateImmediateChild(f,wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Kc{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Yc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,o,l,f){return this.rangedFilter_.matches(new Mt(e,i))||(i=wt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,l,f):this.fullLimitUpdateChild_(t,e,i,l,f)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=wt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;o=wt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;l.hasNext()&&f<this.limit_;){const p=l.getNext();if(this.withinDirectionalStart(p)){if(!this.withinDirectionalEnd(p))break;o=o.updateImmediateChild(p.name,p.node),f++}}}else{let l;o=e.withIndex(this.index_),o=o.updatePriority(wt.EMPTY_NODE),l=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let f=0;for(;l.hasNext();){const p=l.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:o=o.updateImmediateChild(p.name,wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,l){let f;if(this.reverse_){const D=this.index_.getCompare();f=(R,W)=>D(W,R)}else f=this.index_.getCompare();const p=t;(0,F.hu)(p.numChildren()===this.limit_,"");const g=new Mt(e,i),w=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),x=this.rangedFilter_.matches(g);if(p.hasChild(e)){const D=p.getImmediateChild(e);let R=o.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=R&&(R.name===e||p.hasChild(R.name));)R=o.getChildAfterChild(this.index_,R,this.reverse_);const W=null==R?1:f(R,g);if(x&&!i.isEmpty()&&W>=0)return l?.trackChildChange(qc(e,i,D)),p.updateImmediateChild(e,i);{l?.trackChildChange(Zc(e,D));const me=p.updateImmediateChild(e,wt.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(l?.trackChildChange(Ys(R.name,R.node)),me.updateImmediateChild(R.name,R.node)):me}}return i.isEmpty()?t:x&&f(w,g)>=0?(null!=l&&(l.trackChildChange(Zc(w.name,w.node)),l.trackChildChange(Ys(e,i))),p.updateImmediateChild(e,i).updateImmediateChild(w.name,wt.EMPTY_NODE)):t}}class Qc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ut}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ws}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ko}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ut}copy(){const t=new Qc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function JS(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Ut?e="$priority":n.index_===Wm?e="$value":n.index_===Fo?e="$key":((0,F.hu)(n.index_ instanceof Gm,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,F.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,F.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function eA(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ut&&(t.i=n.index_.toString()),t}class _b extends PS{constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Gs("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const f=_b.getListenId_(t,i),p={};this.listens_[f]=p;const g=JS(t._queryParams);this.restRequest_(l+".json",g,(w,x)=>{let D=x;if(404===w&&(D=null,w=null),null===w&&this.onDataUpdate_(l,D,!1,i),(0,F.DV)(this.listens_,f)===p){let R;R=w?401===w?"permission_denied":"rest_error:"+w:"ok",o(R,null)}})}unlisten(t,e){const i=_b.getListenId_(t,e);delete this.listens_[i]}get(t){const e=JS(t._queryParams),i=t._path.toString(),o=new F.BH;return this.restRequest_(i+".json",e,(l,f)=>{let p=f;404===l&&(p=null,l=null),null===l?(this.onDataUpdate_(i,p,!1,null),o.resolve(p)):o.reject(new Error(p))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(i&&4===p.readyState){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let g=null;if(p.status>=200&&p.status<300){try{g=(0,F.cI)(p.responseText)}catch{ii("Failed to parse JSON response for "+f+": "+p.responseText)}i(null,g)}else 401!==p.status&&404!==p.status&&ii("Got unsuccessful REST response for "+f+" Status: "+p.status),i(p.status);i=null}},p.open("GET",f,!0),p.send()})}}class UC{constructor(){this.rootNode_=wt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Km(){return{value:null,children:new Map}}function Xc(n,t,e){if(At(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=St(t);n.children.has(i)||n.children.set(i,Km()),Xc(n.children.get(i),t=Xt(t),e)}}function BC(n,t,e){null!==n.value?e(t,n.value):function RO(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,o)=>{BC(o,new Yt(t.toString()+"/"+i),e)})}class OO{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Bn(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}}class Qm{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new OO(t);const i=1e4+2e4*Math.random();$c(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Bn(t,(o,l)=>{l>0&&(0,F.r3)(this.statsToReport_,o)&&(e[o]=l,i=!0)}),i&&this.server_.reportStats(e),$c(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Uo=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Uo||{});function ds(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Df{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Uo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(At(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yt(t));return new Df(Vt(),e,this.revert)}}return(0,F.hu)(St(this.path)===t,"operationForChild called for unrelated child."),new Df(Xt(this.path),this.affectedTree,this.revert)}}class bl{constructor(t,e){this.source=t,this.path=e,this.type=Uo.LISTEN_COMPLETE}operationForChild(t){return At(this.path)?new bl(this.source,Vt()):new bl(this.source,Xt(this.path))}}class fs{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Uo.OVERWRITE}operationForChild(t){return At(this.path)?new fs(this.source,Vt(),this.snap.getImmediateChild(t)):new fs(this.source,Xt(this.path),this.snap)}}class Jc{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Uo.MERGE}operationForChild(t){if(At(this.path)){const e=this.children.subtree(new Yt(t));return e.isEmpty()?null:e.value?new fs(this.source,Vt(),e.value):new Jc(this.source,Vt(),e)}return(0,F.hu)(St(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Jc(this.source,Xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bo{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(At(t))return this.isFullyInitialized()&&!this.filtered_;const e=St(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class bb{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function eg(n,t,e,i,o,l){const f=i.filter(p=>p.type===e);f.sort((p,g)=>function kO(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new Mt(t.childName,t.snapshotNode),o=new Mt(e.childName,e.snapshotNode);return n.index_.compare(i,o)}(n,p,g)),f.forEach(p=>{const g=function NO(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,p,l);o.forEach(w=>{w.respondsTo(p.type)&&t.push(w.createEvent(g,n.query_))})})}function Tf(n,t){return{eventCache:n,serverCache:t}}function Sf(n,t,e,i){return Tf(new Bo(t,e,i),n.serverCache)}function VC(n,t,e,i){return Tf(n.eventCache,new Bo(t,e,i))}function tg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function wl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ng;class tn{constructor(t,e=(()=>(ng||(ng=new Di(mS)),ng))()){this.value=t,this.children=e}static fromObject(t){let e=new tn(null);return Bn(t,(i,o)=>{e=e.set(new Yt(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Vt(),value:this.value};if(At(t))return null;{const i=St(t),o=this.children.get(i);if(null!==o){const l=o.findRootMostMatchingPathAndValue(Xt(t),e);return null!=l?{path:hn(new Yt(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(At(t))return this;{const e=St(t),i=this.children.get(e);return null!==i?i.subtree(Xt(t)):new tn(null)}}set(t,e){if(At(t))return new tn(e,this.children);{const i=St(t),l=(this.children.get(i)||new tn(null)).set(Xt(t),e),f=this.children.insert(i,l);return new tn(this.value,f)}}remove(t){if(At(t))return this.children.isEmpty()?new tn(null):new tn(null,this.children);{const e=St(t),i=this.children.get(e);if(i){const o=i.remove(Xt(t));let l;return l=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&l.isEmpty()?new tn(null):new tn(this.value,l)}return this}}get(t){if(At(t))return this.value;{const e=St(t),i=this.children.get(e);return i?i.get(Xt(t)):null}}setTree(t,e){if(At(t))return e;{const i=St(t),l=(this.children.get(i)||new tn(null)).setTree(Xt(t),e);let f;return f=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new tn(this.value,f)}}fold(t){return this.fold_(Vt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(hn(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Vt(),e)}findOnPath_(t,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(At(t))return null;{const l=St(t),f=this.children.get(l);return f?f.findOnPath_(Xt(t),hn(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Vt(),e)}foreachOnPath_(t,e,i){if(At(t))return this;{this.value&&i(e,this.value);const o=St(t),l=this.children.get(o);return l?l.foreachOnPath_(Xt(t),hn(e,o),i):new tn(null)}}foreach(t){this.foreach_(Vt(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(hn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class io{constructor(t){this.writeTree_=t}static empty(){return new io(new tn(null))}}function Af(n,t,e){if(At(t))return new io(new tn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const o=i.path;let l=i.value;const f=Zi(o,t);return l=l.updateChild(f,e),new io(n.writeTree_.set(o,l))}{const o=new tn(e),l=n.writeTree_.setTree(t,o);return new io(l)}}}function ig(n,t,e){let i=n;return Bn(e,(o,l)=>{i=Af(i,hn(t,o),l)}),i}function rg(n,t){if(At(t))return io.empty();{const e=n.writeTree_.setTree(t,new tn(null));return new io(e)}}function HC(n,t){return null!=Ks(n,t)}function Ks(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Zi(e.path,t)):null}function og(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ut,(i,o)=>{t.push(new Mt(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&t.push(new Mt(i,o.value))}),t}function Qs(n,t){if(At(t))return n;{const e=Ks(n,t);return new io(null!=e?new tn(e):n.writeTree_.subtree(t))}}function wb(n){return n.writeTree_.isEmpty()}function Mf(n,t){return iA(Vt(),n.writeTree_,t)}function iA(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,l)=>{".priority"===o?((0,F.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=iA(hn(n,o),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(hn(n,".priority"),i)),e}}function sg(n,t){return qC(t,n)}function zC(n,t){if(n.snap)return Mr(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Mr(hn(n.path,e),t))return!0;return!1}function GC(n){return n.visible}function Eb(n,t,e){let i=io.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const f=l.path;let p;if(l.snap)Mr(e,f)?(p=Zi(e,f),i=Af(i,p,l.snap)):Mr(f,e)&&(p=Zi(f,e),i=Af(i,Vt(),l.snap.getChild(p)));else{if(!l.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Mr(e,f))p=Zi(e,f),i=ig(i,p,l.children);else if(Mr(f,e))if(p=Zi(f,e),At(p))i=ig(i,Vt(),l.children);else{const g=(0,F.DV)(l.children,St(p));if(g){const w=g.getChild(Xt(p));i=Af(i,Vt(),w)}}}}}return i}function lA(n,t,e,i,o){if(i||o){const l=Qs(n.visibleWrites,t);return!o&&wb(l)?e:o||null!=e||HC(l,Vt())?Mf(Eb(n.allWrites,function(w){return(w.visible||o)&&(!i||!~i.indexOf(w.writeId))&&(Mr(w.path,t)||Mr(t,w.path))},t),e||wt.EMPTY_NODE):null}{const l=Ks(n.visibleWrites,t);if(null!=l)return l;{const f=Qs(n.visibleWrites,t);return wb(f)?e:null!=e||HC(f,Vt())?Mf(f,e||wt.EMPTY_NODE):null}}}function lg(n,t,e,i){return lA(n.writeTree,n.treePath,t,e,i)}function xb(n,t){return function cA(n,t,e){let i=wt.EMPTY_NODE;const o=Ks(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Ut,(l,f)=>{i=i.updateImmediateChild(l,f)}),i;if(e){const l=Qs(n.visibleWrites,t);return e.forEachChild(Ut,(f,p)=>{const g=Mf(Qs(l,new Yt(f)),p);i=i.updateImmediateChild(f,g)}),og(l).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}return og(Qs(n.visibleWrites,t)).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}(n.writeTree,n.treePath,t)}function Ib(n,t,e,i){return function Cb(n,t,e,i,o){(0,F.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=hn(t,e);if(HC(n.visibleWrites,l))return null;{const f=Qs(n.visibleWrites,l);return wb(f)?o.getChild(e):Mf(f,o.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Rf(n,t){return function ZC(n,t){return Ks(n.visibleWrites,t)}(n.writeTree,hn(n.treePath,t))}function Db(n,t,e){return function WC(n,t,e,i){const o=hn(t,e),l=Ks(n.visibleWrites,o);return null!=l?l:i.isCompleteForChild(e)?Mf(Qs(n.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function dA(n,t){return qC(hn(n.treePath,t),n.writeTree)}function qC(n,t){return{treePath:n,writeTree:t}}class LO{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,qc(i,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,Zc(i,o.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,Ys(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(i,qc(i,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const YC=new class UO{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class Tb{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Bo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Db(this.writes_,t,i)}}getChildAfterChild(t,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wl(this.viewCache_),l=function FO(n,t,e,i,o,l){return function uA(n,t,e,i,o,l,f){let p;const g=Qs(n.visibleWrites,t),w=Ks(g,Vt());if(null!=w)p=w;else{if(null==e)return[];p=Mf(g,e)}if(p=p.withIndex(f),p.isEmpty()||p.isLeafNode())return[];{const x=[],D=f.getCompare(),R=l?p.getReverseIteratorFrom(i,f):p.getIteratorFrom(i,f);let W=R.getNext();for(;W&&x.length<o;)0!==D(W,i)&&x.push(W),W=R.getNext();return x}}(n.writeTree,n.treePath,t,e,i,o,l)}(this.writes_,o,e,1,i,t);return 0===l.length?null:l[0]}}function fA(n,t,e,i,o,l){const f=t.eventCache;if(null!=Rf(i,e))return t;{let p,g;if(At(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const w=wl(t),D=xb(i,w instanceof wt?w:wt.EMPTY_NODE);p=n.filter.updateFullNode(t.eventCache.getNode(),D,l)}else{const w=lg(i,wl(t));p=n.filter.updateFullNode(t.eventCache.getNode(),w,l)}else{const w=St(e);if(".priority"===w){(0,F.hu)(1===_l(e),"Can't have a priority with additional path components");const x=f.getNode();g=t.serverCache.getNode();const D=Ib(i,e,x,g);p=null!=D?n.filter.updatePriority(x,D):f.getNode()}else{const x=Xt(e);let D;if(f.isCompleteForChild(w)){g=t.serverCache.getNode();const R=Ib(i,e,f.getNode(),g);D=null!=R?f.getNode().getImmediateChild(w).updateChild(x,R):f.getNode().getImmediateChild(w)}else D=Db(i,w,t.serverCache);p=null!=D?n.filter.updateChild(f.getNode(),w,D,x,o,l):f.getNode()}}return Sf(t,p,f.isFullyInitialized()||At(e),n.filter.filtersNodes())}}function cg(n,t,e,i,o,l,f,p){const g=t.serverCache;let w;const x=f?n.filter:n.filter.getIndexedFilter();if(At(e))w=x.updateFullNode(g.getNode(),i,null);else if(x.filtersNodes()&&!g.isFiltered()){const W=g.getNode().updateChild(e,i);w=x.updateFullNode(g.getNode(),W,null)}else{const W=St(e);if(!g.isCompleteForPath(e)&&_l(e)>1)return t;const X=Xt(e),je=g.getNode().getImmediateChild(W).updateChild(X,i);w=".priority"===W?x.updatePriority(g.getNode(),je):x.updateChild(g.getNode(),W,je,X,YC,null)}const D=VC(t,w,g.isFullyInitialized()||At(e),x.filtersNodes());return fA(n,D,e,o,new Tb(o,D,l),p)}function KC(n,t,e,i,o,l,f){const p=t.eventCache;let g,w;const x=new Tb(o,t,l);if(At(e))w=n.filter.updateFullNode(t.eventCache.getNode(),i,f),g=Sf(t,w,!0,n.filter.filtersNodes());else{const D=St(e);if(".priority"===D)w=n.filter.updatePriority(t.eventCache.getNode(),i),g=Sf(t,w,p.isFullyInitialized(),p.isFiltered());else{const R=Xt(e),W=p.getNode().getImmediateChild(D);let X;if(At(R))X=i;else{const me=x.getCompleteChild(D);X=null!=me?".priority"===yf(R)&&me.getChild(wf(R)).isEmpty()?me:me.updateChild(R,i):wt.EMPTY_NODE}g=W.equals(X)?t:Sf(t,n.filter.updateChild(p.getNode(),D,X,R,x,f),p.isFullyInitialized(),n.filter.filtersNodes())}}return g}function hA(n,t){return n.eventCache.isCompleteForChild(t)}function pA(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function QC(n,t,e,i,o,l,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let w,g=t;w=At(e)?i:new tn(null).setTree(e,i);const x=t.serverCache.getNode();return w.children.inorderTraversal((D,R)=>{if(x.hasChild(D)){const X=pA(0,t.serverCache.getNode().getImmediateChild(D),R);g=cg(n,g,new Yt(D),X,o,l,f,p)}}),w.children.inorderTraversal((D,R)=>{const W=!t.serverCache.isCompleteForChild(D)&&null===R.value;if(!x.hasChild(D)&&!W){const me=pA(0,t.serverCache.getNode().getImmediateChild(D),R);g=cg(n,g,new Yt(D),me,o,l,f,p)}}),g}class s{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Zm(i.getIndex()),l=function FC(n){return n.loadsAllData()?new Zm(n.getIndex()):n.hasLimit()?new Kc(n):new Yc(n)}(i);this.processor_=function BO(n){return{filter:n}}(l);const f=e.serverCache,p=e.eventCache,g=o.updateFullNode(wt.EMPTY_NODE,f.getNode(),null),w=l.updateFullNode(wt.EMPTY_NODE,p.getNode(),null),x=new Bo(g,f.isFullyInitialized(),o.filtersNodes()),D=new Bo(w,p.isFullyInitialized(),l.filtersNodes());this.viewCache_=Tf(D,x),this.eventGenerator_=new bb(this.query_)}get query(){return this.query_}}function d(n,t){const e=wl(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!At(t)&&!e.getImmediateChild(St(t)).isEmpty())?e.getChild(t):null}function h(n){return 0===n.eventRegistrations_.length}function _(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const f=l.createCancelEvent(e,o);f&&i.push(f)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const f=n.eventRegistrations_[l];if(f.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(f)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function y(n,t,e,i){t.type===Uo.MERGE&&null!==t.source.queryId&&((0,F.hu)(wl(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(tg(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function jO(n,t,e,i,o){const l=new LO;let f,p;if(e.type===Uo.OVERWRITE){const w=e;w.source.fromUser?f=KC(n,t,w.path,w.snap,i,o,l):((0,F.hu)(w.source.fromServer,"Unknown source."),p=w.source.tagged||t.serverCache.isFiltered()&&!At(w.path),f=cg(n,t,w.path,w.snap,i,o,p,l))}else if(e.type===Uo.MERGE){const w=e;w.source.fromUser?f=function $O(n,t,e,i,o,l,f){let p=t;return i.foreach((g,w)=>{const x=hn(e,g);hA(t,St(x))&&(p=KC(n,p,x,w,o,l,f))}),i.foreach((g,w)=>{const x=hn(e,g);hA(t,St(x))||(p=KC(n,p,x,w,o,l,f))}),p}(n,t,w.path,w.children,i,o,l):((0,F.hu)(w.source.fromServer,"Unknown source."),p=w.source.tagged||t.serverCache.isFiltered(),f=QC(n,t,w.path,w.children,i,o,p,l))}else if(e.type===Uo.ACK_USER_WRITE){const w=e;f=w.revert?function r(n,t,e,i,o,l){let f;if(null!=Rf(i,e))return t;{const p=new Tb(i,t,o),g=t.eventCache.getNode();let w;if(At(e)||".priority"===St(e)){let x;if(t.serverCache.isFullyInitialized())x=lg(i,wl(t));else{const D=t.serverCache.getNode();(0,F.hu)(D instanceof wt,"serverChildren would be complete if leaf node"),x=xb(i,D)}w=n.filter.updateFullNode(g,x,l)}else{const x=St(e);let D=Db(i,x,t.serverCache);null==D&&t.serverCache.isCompleteForChild(x)&&(D=g.getImmediateChild(x)),w=null!=D?n.filter.updateChild(g,x,D,Xt(e),p,l):t.eventCache.getNode().hasChild(x)?n.filter.updateChild(g,x,wt.EMPTY_NODE,Xt(e),p,l):g,w.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=lg(i,wl(t)),f.isLeafNode()&&(w=n.filter.updateFullNode(w,f,l)))}return f=t.serverCache.isFullyInitialized()||null!=Rf(i,Vt()),Sf(t,w,f,n.filter.filtersNodes())}}(n,t,w.path,i,o,l):function mA(n,t,e,i,o,l,f){if(null!=Rf(o,e))return t;const p=t.serverCache.isFiltered(),g=t.serverCache;if(null!=i.value){if(At(e)&&g.isFullyInitialized()||g.isCompleteForPath(e))return cg(n,t,e,g.getNode().getChild(e),o,l,p,f);if(At(e)){let w=new tn(null);return g.getNode().forEachChild(Fo,(x,D)=>{w=w.set(new Yt(x),D)}),QC(n,t,e,w,o,l,p,f)}return t}{let w=new tn(null);return i.foreach((x,D)=>{const R=hn(e,x);g.isCompleteForPath(R)&&(w=w.set(x,g.getNode().getChild(R)))}),QC(n,t,e,w,o,l,p,f)}}(n,t,w.path,w.affectedTree,i,o,l)}else{if(e.type!==Uo.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);f=function zO(n,t,e,i,o){const l=t.serverCache;return fA(n,VC(t,l.getNode(),l.isFullyInitialized()||At(e),l.isFiltered()),e,i,YC,o)}(n,t,e.path,i,l)}const g=l.getChanges();return function HO(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=tg(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(YS(tg(t)))}}(t,f,g),{viewCache:f,changes:g}}(n.processor_,o,t,e,i);return function VO(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,F.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,I(n,l.changes,l.viewCache.eventCache.getNode(),null)}function I(n,t,e,i){return function Jm(n,t,e,i){const o=[],l=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&l.push(function KS(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),eg(n,o,"child_removed",t,i,e),eg(n,o,"child_added",t,i,e),eg(n,o,"child_moved",l,i,e),eg(n,o,"child_changed",t,i,e),eg(n,o,"value",t,i,e),o}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let M,ug;class V{constructor(){this.views=new Map}}function Be(n,t,e,i){const o=t.source.queryId;if(null!==o){const l=n.views.get(o);return(0,F.hu)(null!=l,"SyncTree gave us an op for an invalid query."),y(l,t,e,i)}{let l=[];for(const f of n.views.values())l=l.concat(y(f,t,e,i));return l}}function Ye(n,t,e,i,o){const f=n.views.get(t._queryIdentifier);if(!f){let p=lg(e,o?i:null),g=!1;p?g=!0:i instanceof wt?(p=xb(e,i),g=!1):(p=wt.EMPTY_NODE,g=!1);const w=Tf(new Bo(p,g,!1),new Bo(i,o,!1));return new s(t,w)}return f}function Et(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Pt(n,t){let e=null;for(const i of n.views.values())e=e||d(i,t);return e}function Si(n,t){return t._queryParams.loadsAllData()?eu(n):n.views.get(t._queryIdentifier)}function Vo(n,t){return null!=Si(n,t)}function ur(n){return null!=eu(n)}function eu(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Pk=1;class GO{constructor(t){this.listenProvider_=t,this.syncPointTree_=new tn(null),this.pendingWriteTree_=function ag(){return{visibleWrites:io.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _A(n,t,e,i,o){return function rA(n,t,e,i,o){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=Af(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,o),o?dg(n,new fs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function tu(n,t,e=!1){const i=function sA(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function $C(n,t){const e=n.allWrites.findIndex(p=>p.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,l=!1,f=n.allWrites.length-1;for(;o&&f>=0;){const p=n.allWrites[f];p.visible&&(f>=e&&zC(p,i.path)?o=!1:Mr(i.path,p.path)&&(l=!0)),f--}return!!o&&(l?(function aA(n){n.visibleWrites=Eb(n.allWrites,GC,Vt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=rg(n.visibleWrites,i.path):Bn(i.children,g=>{n.visibleWrites=rg(n.visibleWrites,hn(i.path,g))}),!0))}(n.pendingWriteTree_,t)){let l=new tn(null);return null!=i.snap?l=l.set(Vt(),!0):Bn(i.children,f=>{l=l.set(new Yt(f),!0)}),dg(n,new Df(i.path,l,e))}return[]}function Sb(n,t,e){return dg(n,new fs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function XC(n,t,e,i,o=!1){const l=t._path,f=n.syncPointTree_.get(l);let p=[];if(f&&("default"===t._queryIdentifier||Vo(f,t))){const g=function ut(n,t,e,i){const o=t._queryIdentifier,l=[];let f=[];const p=ur(n);if("default"===o)for(const[g,w]of n.views.entries())f=f.concat(_(w,e,i)),h(w)&&(n.views.delete(g),w.query._queryParams.loadsAllData()||l.push(w.query));else{const g=n.views.get(o);g&&(f=f.concat(_(g,e,i)),h(g)&&(n.views.delete(o),g.query._queryParams.loadsAllData()||l.push(g.query)))}return p&&!ur(n)&&l.push(new(function fe(){return(0,F.hu)(M,"Reference.ts has not been loaded"),M}())(t._repo,t._path)),{removed:l,events:f}}(f,t,e,i);(function De(n){return 0===n.views.size})(f)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const w=g.removed;if(p=g.events,!o){const x=-1!==w.findIndex(R=>R._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(l,(R,W)=>ur(W));if(x&&!D){const R=n.syncPointTree_.subtree(l);if(!R.isEmpty()){const W=function Vk(n){return n.fold((t,e,i)=>{if(e&&ur(e))return[eu(e)];{let o=[];return e&&(o=Et(e)),Bn(i,(l,f)=>{o=o.concat(f)}),o}})}(R);for(let X=0;X<W.length;++X){const me=W[X],je=me.query,Je=YO(n,me);n.listenProvider_.startListening(Mb(je),Ab(n,je),Je.hashFn,Je.onComplete)}}}!D&&w.length>0&&!i&&(x?n.listenProvider_.stopListening(Mb(t),null):w.forEach(R=>{const W=n.queryToTagMap.get(ex(R));n.listenProvider_.stopListening(Mb(R),W)}))}!function jk(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const o=ex(i),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,w)}return p}function WO(n,t,e,i){const o=yA(n,i);if(null!=o){const l=bA(o),f=l.path,p=l.queryId,g=Zi(f,t);return wA(n,f,new fs(ds(p),g,e))}return[]}function vA(n,t,e,i=!1){const o=t._path;let l=null,f=!1;n.syncPointTree_.foreachOnPath(o,(R,W)=>{const X=Zi(R,o);l=l||Pt(W,X),f=f||ur(W)});let g,p=n.syncPointTree_.get(o);p?(f=f||ur(p),l=l||Pt(p,Vt())):(p=new V,n.syncPointTree_=n.syncPointTree_.set(o,p)),null!=l?g=!0:(g=!1,l=wt.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((W,X)=>{const me=Pt(X,Vt());me&&(l=l.updateImmediateChild(W,me))}));const w=Vo(p,t);if(!w&&!t._queryParams.loadsAllData()){const R=ex(t);(0,F.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const W=function Hk(){return Pk++}();n.queryToTagMap.set(R,W),n.tagToQueryMap.set(W,R)}let D=function ye(n,t,e,i,o,l){const f=Ye(n,t,i,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function m(n,t){n.eventRegistrations_.push(t)}(f,e),function E(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ut,(l,f)=>{i.push(Ys(l,f))}),e.isFullyInitialized()&&i.push(YS(e.getNode())),I(n,i,e.getNode(),t)}(f,e)}(p,t,e,sg(n.pendingWriteTree_,o),l,g);if(!w&&!f&&!i){const R=Si(p,t);D=D.concat(function $k(n,t,e){const i=t._path,o=Ab(n,t),l=YO(n,e),f=n.listenProvider_.startListening(Mb(t),o,l.hashFn,l.onComplete),p=n.syncPointTree_.subtree(i);if(o)(0,F.hu)(!ur(p.value),"If we're adding a query, it shouldn't be shadowed");else{const g=p.fold((w,x,D)=>{if(!At(w)&&x&&ur(x))return[eu(x).query];{let R=[];return x&&(R=R.concat(Et(x).map(W=>W.query))),Bn(D,(W,X)=>{R=R.concat(X)}),R}});for(let w=0;w<g.length;++w){const x=g[w];n.listenProvider_.stopListening(Mb(x),Ab(n,x))}}return f}(n,t,R))}return D}function JC(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(f,p)=>{const w=Pt(p,Zi(f,t));if(w)return w});return lA(o,t,l,e,!0)}function dg(n,t){return ZO(t,n.syncPointTree_,null,sg(n.pendingWriteTree_,Vt()))}function ZO(n,t,e,i){if(At(n.path))return qO(n,t,e,i);{const o=t.get(Vt());null==e&&null!=o&&(e=Pt(o,Vt()));let l=[];const f=St(n.path),p=n.operationForChild(f),g=t.children.get(f);if(g&&p){const w=e?e.getImmediateChild(f):null,x=dA(i,f);l=l.concat(ZO(p,g,w,x))}return o&&(l=l.concat(Be(o,n,i,e))),l}}function qO(n,t,e,i){const o=t.get(Vt());null==e&&null!=o&&(e=Pt(o,Vt()));let l=[];return t.children.inorderTraversal((f,p)=>{const g=e?e.getImmediateChild(f):null,w=dA(i,f),x=n.operationForChild(f);x&&(l=l.concat(qO(x,p,g,w)))}),o&&(l=l.concat(Be(o,n,i,e))),l}function YO(n,t){const e=t.query,i=Ab(n,e);return{hashFn:()=>(function a(n){return n.viewCache_.serverCache.getNode()}(t)||wt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function Lk(n,t,e){const i=yA(n,e);if(i){const o=bA(i),l=o.path,f=o.queryId,p=Zi(l,t);return wA(n,l,new bl(ds(f),p))}return[]}(n,e._path,i):function Fk(n,t){return dg(n,new bl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function _S(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(o,e);return XC(n,e,null,l)}}}}function Ab(n,t){const e=ex(t);return n.queryToTagMap.get(e)}function ex(n){return n._path.toString()+"$"+n._queryIdentifier}function yA(n,t){return n.tagToQueryMap.get(t)}function bA(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Yt(n.substr(0,t))}}function wA(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),Be(i,e,sg(n.pendingWriteTree_,t),null)}function Mb(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Ok(){return(0,F.hu)(ug,"Reference.ts has not been loaded"),ug}())(n._repo,n._path):n}class EA{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new EA(e)}node(){return this.node_}}class CA{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=hn(this.path_,t);return new CA(this.syncTree_,e)}node(){return JC(this.syncTree_,this.path_)}}const zk=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},KO=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Gk(n[".sv"],t,e):"object"==typeof n[".sv"]?Wk(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Gk=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},Wk=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const o=t.node();if((0,F.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const f=o.getValue();return"number"!=typeof f?i:f+i},QO=function(n,t,e,i){return IA(t,new CA(e,n),i)},xA=function(n,t,e){return IA(n,new EA(t),e)};function IA(n,t,e){const i=n.getPriority().val(),o=KO(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const f=n,p=KO(f.getValue(),t,e);return p!==f.getValue()||o!==f.getPriority().val()?new yl(p,In(o)):n}{const f=n;return l=f,o!==f.getPriority().val()&&(l=l.updatePriority(new yl(o))),f.forEachChild(Ut,(p,g)=>{const w=IA(g,t.getImmediateChild(p),e);w!==g&&(l=l.updateImmediateChild(p,w))}),l}}class DA{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function tx(n,t){let e=t instanceof Yt?t:new Yt(t),i=n,o=St(e);for(;null!==o;){const l=(0,F.DV)(i.node.children,o)||{children:{},childCount:0};i=new DA(o,i,l),e=Xt(e),o=St(e)}return i}function Of(n){return n.node.value}function TA(n,t){n.node.value=t,SA(n)}function XO(n){return n.node.childCount>0}function nx(n,t){Bn(n.node.children,(e,i)=>{t(new DA(e,n,i))})}function JO(n,t,e,i){e&&!i&&t(n),nx(n,o=>{JO(o,t,!0,i)}),e&&i&&t(n)}function Rb(n){return new Yt(null===n.parent?n.name:Rb(n.parent)+"/"+n.name)}function SA(n){null!==n.parent&&function Yk(n,t,e){const i=function Zk(n){return void 0===Of(n)&&!XO(n)}(e),o=(0,F.r3)(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,SA(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,SA(n))}(n.parent,n.name,n)}const Kk=/[\[\].#$\/\u0000-\u001F\u007F]/,Qk=/[\[\].#$\u0000-\u001F\u007F]/,AA=10485760,ix=function(n){return"string"==typeof n&&0!==n.length&&!Kk.test(n)},eP=function(n){return"string"==typeof n&&0!==n.length&&!Qk.test(n)},Pb=function(n,t,e){const i=e instanceof Yt?new US(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+to(i));if("function"==typeof t)throw new Error(n+"contains a function "+to(i)+" with contents = "+t.toString());if(Hc(t))throw new Error(n+"contains "+t.toString()+" "+to(i));if("string"==typeof t&&t.length>AA/3&&(0,F.ug)(t)>AA)throw new Error(n+"contains a string greater than "+AA+" utf8 bytes "+to(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,l=!1;if(Bn(t,(f,p)=>{if(".value"===f)o=!0;else if(".priority"!==f&&".sv"!==f&&(l=!0,!ix(f)))throw new Error(n+" contains an invalid key ("+f+") "+to(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function BS(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),SC(n)})(i,f),Pb(n,p,i),function AO(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),o&&l)throw new Error(n+' contains ".value" child '+to(i)+" in addition to actual children.")}},RA=function(n,t,e,i){if(!(i&&void 0===e||eP(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},e1=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),RA(n,t,e,i)},Js=function(n,t){if(".info"===St(t))throw new Error(n+" failed = Can't modify data under /.info/")};class t1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rx(n,t){let e=null;for(let i=0;i<t.length;i++){const o=t[i],l=o.getPath();null!==e&&!Vm(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function iP(n,t,e){rx(n,e),rP(n,i=>Vm(i,t))}function ro(n,t,e){rx(n,e),rP(n,i=>Mr(i,t)||Mr(t,i))}function rP(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];o&&(t(o.path)?(n1(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function n1(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();zs&&Un("event: "+e.toString()),fl(i)}}}const r1=25;class o1{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Km(),this.transactionQueueTree_=new DA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sP(n){const e=n.infoData_.getNode(new Yt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function kb(n){return zk({timestamp:sP(n)})}function aP(n,t,e,i,o){n.dataUpdateCount++;const l=new Yt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(o)if(i){const g=(0,F.UI)(e,w=>In(w));f=function Uk(n,t,e,i){const o=yA(n,i);if(o){const l=bA(o),f=l.path,p=l.queryId,g=Zi(f,t),w=tn.fromObject(e);return wA(n,f,new Jc(ds(p),g,w))}return[]}(n.serverSyncTree_,l,g,o)}else{const g=In(e);f=WO(n.serverSyncTree_,l,g,o)}else if(i){const g=(0,F.UI)(e,w=>In(w));f=function kk(n,t,e){const i=tn.fromObject(e);return dg(n,new Jc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,g)}else{const g=In(e);f=Sb(n.serverSyncTree_,l,g)}let p=l;f.length>0&&(p=hg(n,l)),ro(n.eventQueue_,p,f)}function lP(n,t){OA(n,"connected",t),!1===t&&function u1(n){fg(n,"onDisconnectEvents");const t=kb(n),e=Km();BC(n.onDisconnect_,Vt(),(o,l)=>{const f=QO(o,l,n.serverSyncTree_,t);Xc(e,o,f)});let i=[];BC(e,Vt(),(o,l)=>{i=i.concat(Sb(n.serverSyncTree_,o,l));const f=FA(n,o);hg(n,f)}),n.onDisconnect_=Km(),ro(n.eventQueue_,Vt(),i)}(n)}function OA(n,t,e){const i=new Yt("/.info/"+t),o=In(e);n.infoData_.updateSnapshot(i,o);const l=Sb(n.infoSyncTree_,i,o);ro(n.eventQueue_,i,l)}function ox(n){return n.nextWriteId_++}function PA(n,t,e,i,o){fg(n,"set",{path:t.toString(),value:e,priority:i});const l=kb(n),f=In(e,i),p=JC(n.serverSyncTree_,t),g=xA(f,p,l),w=ox(n),x=_A(n.serverSyncTree_,t,g,w,!0);rx(n.eventQueue_,x),n.server_.put(t.toString(),f.val(!0),(R,W)=>{const X="ok"===R;X||ii("set at "+t+" failed: "+R);const me=tu(n.serverSyncTree_,w,!X);ro(n.eventQueue_,t,me),function nu(n,t,e,i){t&&fl(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let l=o;i&&(l+=": "+i);const f=new Error(l);f.code=o,t(f)}})}(0,o,R,W)});const D=FA(n,t);hg(n,D),ro(n.eventQueue_,D,[])}function NA(n,t,e){let i;i=".info"===St(t._path)?XC(n.infoSyncTree_,t,e):XC(n.serverSyncTree_,t,e),iP(n.eventQueue_,t._path,i)}function fg(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Un(e,...t)}function kA(n,t,e){return JC(n.serverSyncTree_,t,e)||wt.EMPTY_NODE}function sx(n,t=n.transactionQueueTree_){if(t||ax(n,t),Of(t)){const e=fP(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function _1(n,t,e){const i=e.map(w=>w.currentWriteId),o=kA(n,t,i);let l=o;const f=o.hash();for(let w=0;w<e.length;w++){const x=e[w];(0,F.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const D=Zi(t,x.path);l=l.updateChild(D,x.currentOutputSnapshotRaw)}const p=l.val(!0),g=t;n.server_.put(g.toString(),p,w=>{fg(n,"transaction put response",{path:g.toString(),status:w});let x=[];if("ok"===w){const D=[];for(let R=0;R<e.length;R++)e[R].status=2,x=x.concat(tu(n.serverSyncTree_,e[R].currentWriteId)),e[R].onComplete&&D.push(()=>e[R].onComplete(null,!0,e[R].currentOutputSnapshotResolved)),e[R].unwatcher();ax(n,tx(n.transactionQueueTree_,t)),sx(n,n.transactionQueueTree_),ro(n.eventQueue_,t,x);for(let R=0;R<D.length;R++)fl(D[R])}else{if("datastale"===w)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{ii("transaction at "+g.toString()+" failed: "+w);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=w}hg(n,t)}},f)}(n,Rb(t),e)}else XO(t)&&nx(t,e=>{sx(n,e)})}function hg(n,t){const e=dP(n,t),i=Rb(e);return function v1(n,t,e){if(0===t.length)return;const i=[];let o=[];const f=t.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const g=t[p],w=Zi(e,g.path);let D,x=!1;if((0,F.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===g.status)x=!0,D=g.abortReason,o=o.concat(tu(n.serverSyncTree_,g.currentWriteId,!0));else if(0===g.status)if(g.retryCount>=r1)x=!0,D="maxretry",o=o.concat(tu(n.serverSyncTree_,g.currentWriteId,!0));else{const R=kA(n,g.path,f);g.currentInputSnapshot=R;const W=t[p].update(R.val());if(void 0!==W){Pb("transaction failed: Data returned ",W,g.path);let X=In(W);"object"==typeof W&&null!=W&&(0,F.r3)(W,".priority")||(X=X.updatePriority(R.getPriority()));const je=g.currentWriteId,Je=kb(n),dt=xA(X,R,Je);g.currentOutputSnapshotRaw=X,g.currentOutputSnapshotResolved=dt,g.currentWriteId=ox(n),f.splice(f.indexOf(je),1),o=o.concat(_A(n.serverSyncTree_,g.path,dt,g.currentWriteId,g.applyLocally)),o=o.concat(tu(n.serverSyncTree_,je,!0))}else x=!0,D="nodata",o=o.concat(tu(n.serverSyncTree_,g.currentWriteId,!0))}ro(n.eventQueue_,e,o),o=[],x&&(t[p].status=2,setTimeout(t[p].unwatcher,Math.floor(0)),t[p].onComplete&&i.push("nodata"===D?()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot):()=>t[p].onComplete(new Error(D),!1,null)))}ax(n,n.transactionQueueTree_);for(let p=0;p<i.length;p++)fl(i[p]);sx(n,n.transactionQueueTree_)}(n,fP(n,e),i),i}function dP(n,t){let e,i=n.transactionQueueTree_;for(e=St(t);null!==e&&void 0===Of(i);)i=tx(i,e),e=St(t=Xt(t));return i}function fP(n,t){const e=[];return hP(n,t,e),e.sort((i,o)=>i.order-o.order),e}function hP(n,t,e){const i=Of(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);nx(t,o=>{hP(n,o,e)})}function ax(n,t){const e=Of(t);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,TA(t,e.length>0?e:void 0)}nx(t,i=>{ax(n,i)})}function FA(n,t){const e=Rb(dP(n,t)),i=tx(n.transactionQueueTree_,t);return function qk(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,o=>{LA(n,o)}),LA(n,i),JO(i,o=>{LA(n,o)}),e}function LA(n,t){const e=Of(t);if(e){const i=[];let o=[],l=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,F.hu)(l===f-1,"All SENT items should be at beginning of queue."),l=f,e[f].status=3,e[f].abortReason="set"):((0,F.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),o=o.concat(tu(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&i.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===l?TA(t,void 0):e.length=l+1,ro(n.eventQueue_,Rb(t),o);for(let f=0;f<i.length;f++)fl(i[f])}}const UA=function(n,t){const e=w1(n),i=e.namespace;return"firebase.com"===e.domain&&No(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&No("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new gf(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Yt(e.pathString)}},w1=function(n){let t="",e="",i="",o="",l="",f=!0,p="https",g=443;if("string"==typeof n){let w=n.indexOf("//");w>=0&&(p=n.substring(0,w-1),n=n.substring(w+2));let x=n.indexOf("/");-1===x&&(x=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(x,D)),x<D&&(o=function y1(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}(n.substring(x,D)));const R=function b1(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ii(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));w=t.indexOf(":"),w>=0?(f="https"===p||"wss"===p,g=parseInt(t.substring(w+1),10)):w=t.length;const W=t.slice(0,w);if("localhost"===W.toLowerCase())e="localhost";else if(W.split(".").length<=2)e=W;else{const X=t.indexOf(".");i=t.substring(0,X).toLowerCase(),e=t.substring(X+1),l=i}"ns"in R&&(l=R.ns)}return{host:t,port:g,domain:e,subdomain:i,secure:f,scheme:p,pathString:o,namespace:l}};class mP{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class gP{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class BA{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class oo{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return At(this._path)?null:yf(this._path)}get ref(){return new hs(this._repo,this._path)}get _queryIdentifier(){const t=eA(this._queryParams),e=pf(t);return"{}"===e?"default":e}get _queryObject(){return eA(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof oo))return!1;const e=this._repo===t._repo,i=Vm(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function TC(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class hs extends oo{constructor(t,e){super(t,e,new Qc,!1)}get parent(){const t=wf(this._path);return null===t?null:new hs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Pf{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Yt(t),i=jo(this.ref,t);return new Pf(this._node.getChild(e),i,Ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>t(new Pf(o,jo(this.ref,i),Ut)))}hasChild(t){const e=new Yt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function so(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?jo(n._root,t):n._root}function jo(n,t){return null===St((n=(0,F.m9)(n))._path)?e1("child","path",t,!1):RA("child","path",t,!1),new hs(n._repo,hn(n._path,t))}function pg(n,t){n=(0,F.m9)(n),Js("set",n._path),function(n,t,e,i){i&&void 0===t||Pb((0,F.gK)(n,"value"),t,e)}("set",t,n._path,!1);const e=new F.BH;return PA(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Fb(n){n=(0,F.m9)(n);const t=new BA(()=>{}),e=new Lb(t);return function l1(n,t,e){const i=function Bk(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(w,x)=>{const D=Zi(w,e);i=i||Pt(x,D)});let o=n.syncPointTree_.get(e);o?i=i||Pt(o,Vt()):(o=new V,n.syncPointTree_=n.syncPointTree_.set(e,o));const l=null!=i,f=l?new Bo(i,!0,!1):null;return function c(n){return tg(n.viewCache_)}(Ye(o,t,sg(n.pendingWriteTree_,t._path),l?f.getNode():wt.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(o=>{const l=In(o).withIndex(t._queryParams.getIndex());let f;if(vA(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())f=Sb(n.serverSyncTree_,t._path,l);else{const p=Ab(n.serverSyncTree_,t);f=WO(n.serverSyncTree_,t._path,l,p)}return ro(n.eventQueue_,t._path,f),XC(n.serverSyncTree_,t,e,null,!0),l},o=>(fg(n,"get for query "+(0,F.Wl)(t)+" failed: "+o),Promise.reject(new Error(o))))}(n._repo,n,e).then(i=>new Pf(i,new hs(n._repo,n._path),n._queryParams.getIndex()))}class Lb{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new mP("value",this,new Pf(t.snapshotNode,new hs(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gP(this,t,e):null}matches(t){return t instanceof Lb&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ux{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gP(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=jo(new hs(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new mP(t.type,this,new Pf(t.snapshotNode,i,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ux&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function VA(n,t,e,i){return function Ub(n,t,e,i,o){let l;if("object"==typeof i&&(l=void 0,o=i),"function"==typeof i&&(l=i),o&&o.onlyOnce){const g=e,w=(x,D)=>{NA(n._repo,n,p),g(x,D)};w.userCallback=e.userCallback,w.context=e.context,e=w}const f=new BA(e,l||void 0),p="value"===t?new Lb(f):new ux(t,f);return function p1(n,t,e){let i;i=".info"===St(t._path)?vA(n.infoSyncTree_,t,e):vA(n.serverSyncTree_,t,e),iP(n.eventQueue_,t._path,i)}(n._repo,n,p),()=>NA(n._repo,n,p)}(n,"value",t,e,i)}(function $(n){(0,F.hu)(!M,"__referenceConstructor has already been defined"),M=n})(hs),function gA(n){(0,F.hu)(!ug,"__referenceConstructor has already been defined"),ug=n}(hs);const jA={};function bP(n,t,e,i,o){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||No("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Un("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let g,w,f=UA(l,o),p=f.repoInfo;typeof process<"u"&&process.env&&(w=process.env.FIREBASE_DATABASE_EMULATOR_HOST),w?(g=!0,l=`http://${w}?ns=${p.namespace}`,f=UA(l,o),p=f.repoInfo):g=!f.repoInfo.secure;const x=o&&g?new zc(zc.OWNER):new wS(n.name,n.options,t);(function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ix(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),eP(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",f),At(f.path)||No("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function L1(n,t,e,i){let o=jA[t.name];o||(o={},jA[t.name]=o);let l=o[n.toURLString()];return l&&No("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new o1(n,false,e,i),o[n.toURLString()]=l,l}(p,n,x,new lC(n.name,e));return new B1(D,n)}class B1{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function s1(n,t,e){if(n.stats_=_f(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new _b(n.repoInfo_,(i,o,l,f)=>{aP(n,i,o,l,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>lP(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new vl(n.repoInfo_,t,(i,o,l,f)=>{aP(n,i,o,l,f)},i=>{lP(n,i)},i=>{!function a1(n,t){Bn(t,(e,i)=>{OA(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function xS(n,t){const e=n.toString();return Yy[e]||(Yy[e]=t()),Yy[e]}(n.repoInfo_,()=>new Qm(n.stats_,n.server_)),n.infoData_=new UC,n.infoSyncTree_=new GO({startListening:(i,o,l,f)=>{let p=[];const g=n.infoData_.getNode(i._path);return g.isEmpty()||(p=Sb(n.infoSyncTree_,i._path,g),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),OA(n,"connected",!1),n.serverSyncTree_=new GO({startListening:(i,o,l,f)=>(n.server_.listen(i,l,o,(p,g)=>{const w=f(p,g);ro(n.eventQueue_,i._path,w)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hs(this._repo,Vt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function F1(n,t){const e=jA[t];(!e||e[n.key]!==n)&&No(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function uP(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&No("Cannot call "+t+" on a deleted database.")}}function qi(n=(0,qt.Mq)(),t){const e=(0,qt.qX)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=(0,F.P0)("database");i&&function V1(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&No("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&No('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new zc(zc.OWNER);else if(i.mockUserToken){const f="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);l=new zc(f)}!function k1(n,t,e,i){n.repoInfo_=new gf(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(o,t,e,l)}(e,...i)}return e}vl.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},vl.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function j1(n){(function tC(n){ul=n})(qt.Jn),(0,qt.Xd)(new qa.wA("database",(t,{instanceIdentifier:e})=>bP(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,qt.KN)(eC,"1.0.1",n),(0,qt.KN)(eC,"1.0.1","esm2017")}(),(0,qt.KN)("firebase","10.5.0","app");const ru_firebase={apiKey:"AIzaSyDaMtdV1XeYCR3UBg5LALsKBhguT5KfCKQ",authDomain:"social-network-203.firebaseapp.com",databaseURL:"https://social-network-203-default-rtdb.europe-west1.firebasedatabase.app",projectId:"social-network-203",storageBucket:"social-network-203.appspot.com",appId:"1:179503465111:web:718b15112fb4c8f4949fd2",measurementId:"G-HEVGNDMBJ9"};let dx=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var W1=T(3019),fx=T(3093),Z1=T(4552);class q1 extends ar.x{constructor(t=1/0,e=1/0,i=Z1.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:f}=this;e||(i.push(t),!o&&i.push(l.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let f=0;f<l.length&&!t.closed;f+=i?1:2)t.next(l[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const f=e.now();let p=0;for(let g=1;g<i.length&&i[g]<=f;g+=2)p=g;p&&i.splice(0,p+1)}}}var EP=T(3020);function CP(n,t,e){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):i=n??1/0,(0,EP.B)({connector:()=>new q1(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function xP(n,t){return(0,dc.m)(t)?(0,ei.w)(()=>n,t):(0,ei.w)(()=>n)}var HA=T(5137),Bb=T(2793),Nf=T(6304);T(4097);const zA=new Map,DP={activated:!1,tokenObservers:[]},J1={initialized:!1,enabled:!1};function Nn(n){return zA.get(n)||Object.assign({},DP)}function px(){return J1}const GA="https://content-firebaseappcheck.googleapis.com/v1",iF="exchangeDebugToken",TP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class oF{constructor(t,e,i,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,he.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function sF(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ai=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function WA(n){if(!Nn(n).activated)throw Ai.create("use-before-activation",{appName:n.name})}function _x(n,t){return qA.apply(this,arguments)}function qA(){return(qA=(0,he.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const D=yield o.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const l={method:"POST",body:JSON.stringify(t),headers:i};let f,p;try{f=yield fetch(n,l)}catch(D){throw Ai.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==f.status)throw Ai.create("fetch-status-error",{httpStatus:f.status});try{p=yield f.json()}catch(D){throw Ai.create("fetch-parse-error",{originalErrorMessage:D?.message})}const g=p.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Ai.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const w=1e3*Number(g[1]),x=Date.now();return{token:p.token,expireTimeMillis:x+w,issuedAtTimeMillis:x}})).apply(this,arguments)}function SP(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`${GA}/projects/${e}/apps/${i}:${iF}?key=${o}`,body:{debug_token:t}}}const uF="firebase-app-check-database",dF=1,Vb="firebase-app-check-store";let vx=null;function YA(){return(YA=(0,he.Z)(function*(n,t){const i=(yield function MP(){return vx||(vx=new Promise((n,t)=>{try{const e=indexedDB.open(uF,dF);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var o;t(Ai.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Vb,{keyPath:"compositeKey"})}}catch(e){t(Ai.create("storage-open",{originalErrorMessage:e?.message}))}}),vx)}()).transaction(Vb,"readwrite"),l=i.objectStore(Vb).put({compositeKey:n,value:t});return new Promise((f,p)=>{l.onsuccess=g=>{f()},i.onerror=g=>{var w;p(Ai.create("storage-set",{originalErrorMessage:null===(w=g.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const jb=new Ic.Yd("@firebase/app-check");function XA(n,t){return(0,F.hl)()?function hF(n,t){return function RP(n,t){return YA.apply(this,arguments)}(function PP(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{jb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function eM(){return px().enabled}function tM(){return nM.apply(this,arguments)}function nM(){return(nM=(0,he.Z)(function*(){const n=px();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yF={error:"UNKNOWN_ERROR"};function bF(n){return F.US.encodeString(JSON.stringify(n),!1)}function yx(n){return iM.apply(this,arguments)}function iM(){return(iM=(0,he.Z)(function*(n,t=!1){const e=n.app;WA(e);const i=Nn(e);let l,o=i.token;if(o&&!mg(o)&&(i.token=void 0,o=void 0),!o){const g=yield i.cachedTokenPromise;g&&(mg(g)?o=g:yield XA(e,void 0))}if(!t&&o&&mg(o))return{token:o.token};let p,f=!1;if(eM()){i.exchangeTokenPromise||(i.exchangeTokenPromise=_x(SP(e,yield tM()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),f=!0);const g=yield i.exchangeTokenPromise;return yield XA(e,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),f=!0),o=yield Nn(e).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?jb.warn(g.message):jb.error(g),l=g}return o?l?p=mg(o)?{token:o.token,internalError:l}:LP(l):(p={token:o.token},i.token=o,yield XA(e,o)):p=LP(l),f&&function FP(n,t){const e=Nn(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,p),p})).apply(this,arguments)}function NP(n){return rM.apply(this,arguments)}function rM(){return(rM=(0,he.Z)(function*(n){const t=n.app;WA(t);const{provider:e}=Nn(t);if(eM()){const i=yield tM(),{token:o}=yield _x(SP(t,i),n.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function sM(n,t){const e=Nn(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function kP(n){const{app:t}=n,e=Nn(t);let i=e.tokenRefresher;i||(i=function wF(n){const{app:t}=n;return new oF((0,he.Z)(function*(){let i;if(i=Nn(t).token?yield yx(n,!0):yield yx(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Nn(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},TP.RETRIAL_MIN_WAIT,TP.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function mg(n){return n.expireTimeMillis-Date.now()>0}function LP(n){return{token:bF(yF),error:n}}class EF{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Nn(this.app);for(const e of t)sM(this.app,e.next);return Promise.resolve()}}const GP="app-check-internal";!function FF(){(0,qt.Xd)(new qa.wA("app-check",n=>function CF(n,t){return new EF(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(GP).initialize()})),(0,qt.Xd)(new qa.wA(GP,n=>function xF(n){return{getToken:t=>yx(n,t),getLimitedUseToken:()=>NP(n),addTokenListener:t=>function oM(n,t,e,i){const{app:o}=n,l=Nn(o);if(l.tokenObservers=[...l.tokenObservers,{next:e,error:i,type:t}],l.token&&mg(l.token)){const p=l.token;Promise.resolve().then(()=>{e({token:p.token}),kP(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>kP(n))}(n,"INTERNAL",t),removeTokenListener:t=>sM(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qt.KN)("@firebase/app-check","0.8.0")}();class ZP{constructor(){return(0,Bb.vb)("app-check")}}typeof window<"u"&&window;var jF=T(120);const $F=new u.OlP("angularfire2.auth.use-emulator"),zF=new u.OlP("angularfire2.auth.settings"),GF=new u.OlP("angularfire2.auth.tenant-id"),WF=new u.OlP("angularfire2.auth.langugage-code"),ZF=new u.OlP("angularfire2.auth.use-device-language"),qF=new u.OlP("angularfire.auth.persistence");let kf=(()=>{class n{constructor(e,i,o,l,f,p,g,w,x,D,R,W){const X=new ar.x,me=(0,Qe.of)(void 0).pipe((0,fx.Q)(f.outsideAngular),(0,ei.w)(()=>l.runOutsideAngular(()=>T.e(977).then(T.bind(T,8977)))),(0,vt.U)(()=>(0,Nf.on)(e,l,i)),(0,vt.U)(je=>((n,t,e,i,o,l,f,p)=>(0,Nf.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=o,l&&g.useDeviceLanguage(),f)for(const[w,x]of Object.entries(f))g.settings[w]=x;return p&&g.setPersistence(p),g},[e,i,o,l,f,p]))(je,l,p,w,x,D,g,R)),CP({bufferSize:1,refCount:!1}));if(go(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Qe.of)(null);else{me.pipe(is()).subscribe();const Je=me.pipe((0,ei.w)(st=>st.getRedirectResult().then(an=>an,()=>null)),Bb.iC,CP({bufferSize:1,refCount:!1})),dt=me.pipe((0,ei.w)(st=>new tr.y(an=>({unsubscribe:l.runOutsideAngular(()=>st.onAuthStateChanged(yn=>an.next(yn),yn=>an.error(yn),()=>an.complete()))})))),Nt=me.pipe((0,ei.w)(st=>new tr.y(an=>({unsubscribe:l.runOutsideAngular(()=>st.onIdTokenChanged(yn=>an.next(yn),yn=>an.error(yn),()=>an.complete()))}))));this.authState=Je.pipe(xP(dt),(0,HA.R)(f.outsideAngular),(0,fx.Q)(f.insideAngular)),this.user=Je.pipe(xP(Nt),(0,HA.R)(f.outsideAngular),(0,fx.Q)(f.insideAngular)),this.idToken=this.user.pipe((0,ei.w)(st=>st?(0,gn.D)(st.getIdToken()):(0,Qe.of)(null))),this.idTokenResult=this.user.pipe((0,ei.w)(st=>st?(0,gn.D)(st.getIdTokenResult()):(0,Qe.of)(null))),this.credential=(0,W1.T)(Je,X,this.authState.pipe(Cr(st=>!st))).pipe((0,vt.U)(st=>st?.user?st:null),(0,HA.R)(f.outsideAngular),(0,fx.Q)(f.insideAngular))}return(0,Nf.pX)(this,me,l,{spy:{apply:(je,Je,dt)=>{(je.startsWith("signIn")||je.startsWith("createUser"))&&dt.then(Nt=>X.next(Nt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Nf.Dh),u.LFG(Nf.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Bb.HU),u.LFG($F,8),u.LFG(zF,8),u.LFG(GF,8),u.LFG(WF,8),u.LFG(ZF,8),u.LFG(qF,8),u.LFG(ZP,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KF=(()=>{class n{constructor(){jF.Z.registerVersion("angularfire",Bb.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[kf]}),n})(),qP=(()=>{class n{constructor(e){this.afs=e}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(kf))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YP=(()=>{class n{constructor(e,i,o,l,f){this.router=e,this.appservice=i,this.authService=o,this.afAuth=l,this.fb=f,this.title="Sign in",this.loginForm=this.fb.group({email:["",br.required],password:["",br.required]}),this.app=(0,qt.ZF)(ru_firebase),this.db=qi(this.app)}ngOnInit(){}register_site(){this.router.navigateByUrl("/register")}sign_in(){const i=this.loginForm.value.email,o=this.loginForm.value.password,l=gi();""===i?window.alert("No Email entered!"):""===o?window.alert("No Password entered!"):this.afAuth.signInWithEmailAndPassword(i,o).then(p=>{l.onAuthStateChanged(g=>{g&&(alert("Signing in..."),console.log(p),this.router.navigateByUrl("/home"))})}).catch(p=>{console.log(p),alert(this.firebaseError(p.code))})}firebaseError(e){switch(e){case"auth/email-already-in-use":return"Email already in exists!";case"auth/invalid-email":return"Email invalid!";default:return"Invalid email or password!"}}delay(e){return new Promise(i=>new setTimeout(i,e))}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(ni),u.Y36(dx),u.Y36(qP),u.Y36(kf),u.Y36(Jh))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-sign-in"]],decls:17,vars:2,consts:[[1,"sign-in-box"],[1,"title"],[1,"sign-in"],[3,"formGroup"],["for","Email","id","email",1,"email"],["name","email_input","type","email","id","email_input","formControlName","email","placeholder","socialnetwork@socialnetwork.com",1,"email_input"],["for","Password","id","password",1,"password"],["name","password_input","type","password","id","password_input","minlength","8","formControlName","password","placeholder","***************",1,"password_input"],[1,"sign-in-submit",3,"click"],[1,"register-site",2,"font-family","Arial, Helvetica, sans-serif","color","white"],[1,"register-color",2,"cursor","pointer",3,"click"]],template:function(i,o){1&i&&(u.TgZ(0,"div",0)(1,"h1",1),u._uU(2),u.qZA(),u.TgZ(3,"div",2)(4,"form",3)(5,"label",4),u._uU(6,"Email:"),u.qZA(),u._UZ(7,"input",5),u.TgZ(8,"label",6),u._uU(9,"Password:"),u.qZA(),u._UZ(10,"input",7),u.qZA()(),u.TgZ(11,"button",8),u.NdJ("click",function(){return o.sign_in()}),u._uU(12,"Submit"),u.qZA(),u.TgZ(13,"p",9),u._uU(14,"You dont have an account? "),u.TgZ(15,"a",10),u.NdJ("click",function(){return o.register_site()}),u._uU(16,"Register"),u.qZA()()()),2&i&&(u.xp6(2),u.hij(" ",o.title,""),u.xp6(2),u.Q6J("formGroup",o.loginForm))},dependencies:[$h,yr,Hr,wr,Yh,Ku,ac],styles:[".sign-in-box[_ngcontent-%COMP%]{width:350px;height:600px;background-color:#fff;border:none;border-radius:10px;position:relative;margin:auto;background:url(https://doc-08-2c-docs.googleusercontent.com/docs/securesc/68c90smiglihng9534mvqmq1946dmis5/fo0picsp1nhiucmc0l25s29respgpr4j/1631524275000/03522360960922298374/03522360960922298374/1Sx0jhdpEpnNIydS4rnN4kHSJtU1EyWka?e=view&authuser=0&nonce=gcrocepgbb17m&user=03522360960922298374&hash=tfhgbs86ka6divo3llbvp93mg4csvb38) no-repeat center/cover;top:200px;box-shadow:5px 20px 50px #000;overflow:hidden}.title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:auto}.email[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#fff;position:relative;left:15px;top:73px}.email_input[_ngcontent-%COMP%]{width:300px;height:35px;position:relative;top:105px;right:30px;text-align:center;border:none;border-radius:6px}.password[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#fff;position:relative;right:-20px;top:120px}.password_input[_ngcontent-%COMP%]{width:300px;height:35px;top:125px;right:-15px;text-align:center;position:relative;border:none;border-radius:6px}.register-site[_ngcontent-%COMP%]{position:relative;top:335px;text-align:center}.register-color[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-weight:700;color:#001affb9}.sign-in-submit[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:5px;position:relative;top:250px;left:105px}"]})}return n})(),QF=(()=>{class n{ngOnInit(){}constructor(e,i,o,l,f){this.router=e,this.appservice=i,this.authService=o,this.fb=l,this.afAuth=f,this.title="Register",this.app=(0,qt.ZF)(ru_firebase),this.db=qi(this.app),this.registerForm=this.fb.group({nickname:["",br.required],email:["",br.required],password:["",br.required],confirmpassword:["",br.required]})}sign_in_site(){this.router.navigateByUrl("/sign-in")}register(){gi();const l=this.registerForm.value.nickname,f=this.registerForm.value.email,p=this.registerForm.value.password,g=this.registerForm.value.confirmpassword;""===f?window.alert("No Email entered!"):""===p?window.alert("No Password entered!"):""===g?window.alert("No Confirm Password entered!"):p<8?window.alert("Password need to be at least 8 letters/numbers/symbols long!"):p!=g?window.alert("Confirm Password isn't same as Password!"):function dE(n,t,e){return Jv.apply(this,arguments)}(gi(),f,p).then(({user:x})=>{console.log(x),gi(),ny(x,{displayName:l}),this.createInfoOfUser(x.uid,l,f,"",0,0,"",0),this.router.navigateByUrl("/home")}).catch(x=>{console.log(x),alert(this.firebaseError(x.code))})}createInfoOfUser(e,i,o,l,f,p,g,w){pg(so(qi(),"users/"+e),{username:i,email:o,description:l,likes:f,friends_number:p,friends:g,total_sent_messages:w})}firebaseError(e){switch(e){case"auth/email-already-in-use":return"Email already in exists!";case"auth/invalid-email":return"Email invalid!";default:return"Error"}}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(ni),u.Y36(dx),u.Y36(qP),u.Y36(Jh),u.Y36(kf))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-registerForm"]],decls:25,vars:2,consts:[[1,"register-box"],[1,"title"],[3,"formGroup","submit"],["for","Username","id","username",1,"username"],["name","username_input","type","txt","id","username_input","formControlName","nickname","placeholder","Username",1,"username_input"],["for","Email","id","email_l",1,"email_l"],["name","email_input","type","email","id","email_input","formControlName","email","placeholder","socialnetwork@socialnetwork.com",1,"email_input"],["for","Password","id","password",1,"password"],["name","password_input","type","password","id","password_input","minlength","8","formControlName","password","placeholder","***************",1,"password_input"],["for","Confirm Password","id","confirm-password",1,"confirm_password"],["name","confirm_password","type","password","id","confirm_password_input","minlength","8","formControlName","confirmpassword","placeholder","***************",1,"confirm_password_input"],["type","submit",1,"register-submit",3,"click"],[1,"sign-in-site",2,"font-family","Arial, Helvetica, sans-serif","color","white"],[1,"sign-in-color",2,"cursor","pointer",3,"click"]],template:function(i,o){1&i&&(u.TgZ(0,"div",0)(1,"h1",1),u._uU(2),u.qZA(),u.TgZ(3,"form",2),u.NdJ("submit",function(){return o.register()}),u.TgZ(4,"div")(5,"label",3),u._uU(6,"Usernmae:"),u.qZA(),u._UZ(7,"input",4),u.TgZ(8,"label",5),u._uU(9,"Email:"),u.qZA(),u._UZ(10,"input",6),u.qZA(),u.TgZ(11,"div")(12,"label",7),u._uU(13,"Password:"),u.qZA(),u._UZ(14,"input",8),u.qZA(),u.TgZ(15,"div")(16,"label",9),u._uU(17,"Confirm Password:"),u.qZA(),u._UZ(18,"input",10),u.qZA()(),u.TgZ(19,"button",11),u.NdJ("click",function(){return o.register()}),u._uU(20,"Submit"),u.qZA(),u.TgZ(21,"p",12),u._uU(22,"You have already account? "),u.TgZ(23,"a",13),u.NdJ("click",function(){return o.sign_in_site()}),u._uU(24,"Sign in"),u.qZA()()()),2&i&&(u.xp6(2),u.hij(" ",o.title,""),u.xp6(1),u.Q6J("formGroup",o.registerForm))},dependencies:[$h,yr,Hr,wr,Yh,Ku,ac],styles:[".register-box[_ngcontent-%COMP%]{width:350px;height:600px;background-color:#fff;border:none;border-radius:10px;position:relative;margin:auto;background:url(https://doc-08-2c-docs.googleusercontent.com/docs/securesc/68c90smiglihng9534mvqmq1946dmis5/fo0picsp1nhiucmc0l25s29respgpr4j/1631524275000/03522360960922298374/03522360960922298374/1Sx0jhdpEpnNIydS4rnN4kHSJtU1EyWka?e=view&authuser=0&nonce=gcrocepgbb17m&user=03522360960922298374&hash=tfhgbs86ka6divo3llbvp93mg4csvb38) no-repeat center/cover;top:200px;box-shadow:5px 20px 50px #000;overflow:hidden}.title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:auto}.username[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#fff;position:relative;right:-20px;top:10px}.username_input[_ngcontent-%COMP%]{width:300px;right:-15px;height:35px;text-align:center;position:relative;top:17px;border:none;border-radius:6px}.email_l[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#fff;position:relative;right:285px;top:57px}.email_input[_ngcontent-%COMP%]{width:300px;height:35px;position:relative;top:53px;left:15px;text-align:center;border:none;border-radius:6px}.password[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#fff;position:relative;right:-20px;top:70px}.password_input[_ngcontent-%COMP%]{width:300px;height:35px;top:75px;right:-15px;text-align:center;position:relative;border:none;border-radius:6px}.confirm_password[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#fff;position:relative;right:-20px;top:90px}.confirm_password_input[_ngcontent-%COMP%]{width:300px;height:35px;top:95px;right:-15px;text-align:center;position:relative;border:none;border-radius:6px}.sign-in-site[_ngcontent-%COMP%]{position:relative;top:230px;text-align:center}.sign-in-color[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-weight:700;color:#001affb9}.register-submit[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:5px;position:relative;top:140px;left:105px}"]})}return n})(),wx=(()=>{class n{constructor(e,i,o){this.router=e,this.appservice=i,this.afAuth=o,this.title="Social Network",this.app=(0,qt.ZF)(ru_firebase),this.db=qi(this.app)}ngOnInit(){}main_page(){this.router.navigateByUrl("/home")}info_page(){this.router.navigateByUrl("/info")}profile_page(){const i=gi().currentUser;null!==i?this.router.navigateByUrl("/profile"):null===i&&(window.alert("You are not logined!"),this.router.navigateByUrl("/register"))}chat_page(){const i=gi().currentUser;null!==i?this.router.navigateByUrl("/chat"):null===i&&(window.alert("You are not logined!"),this.router.navigateByUrl("/register"))}refresh_site(){this.router.navigateByUrl("/home")}log_out(){alert("Logining out..."),this.afAuth.signOut(),window.location.reload()}settings_open(){const i=gi().currentUser;null!==i?this.router.navigateByUrl("/settings"):null===i&&(window.alert("You are not logined!"),this.router.navigateByUrl("/register"))}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(ni),u.Y36(dx),u.Y36(kf))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:15,vars:1,consts:[[1,"header"],[1,"title",3,"click"],[1,"categories"],[1,"main-button",3,"click"],[1,"info-button",3,"click"],[1,"profile-button",3,"click"],[1,"chats-button",3,"click"],["src","https://media.istockphoto.com/id/1153439787/vector/setting-gear-tool-cog-isolated-flat-web-mobile-icon-vector-sign-symbol-button-element.jpg?s=612x612&w=0&k=20&c=fiC-QUJXXJF9wm-TY-oEzUsuZSpoEhr01tWq0akxjhE=",1,"settings_button",3,"click"],[1,"logout-button",3,"click"]],template:function(i,o){1&i&&(u.TgZ(0,"div",0)(1,"h1",1),u.NdJ("click",function(){return o.refresh_site()}),u._uU(2),u.qZA(),u.TgZ(3,"div",2)(4,"button",3),u.NdJ("click",function(){return o.main_page()}),u._uU(5,"Main"),u.qZA(),u.TgZ(6,"button",4),u.NdJ("click",function(){return o.info_page()}),u._uU(7,"Info"),u.qZA(),u.TgZ(8,"button",5),u.NdJ("click",function(){return o.profile_page()}),u._uU(9,"Profile"),u.qZA(),u.TgZ(10,"button",6),u.NdJ("click",function(){return o.chat_page()}),u._uU(11,"Chats"),u.qZA(),u.TgZ(12,"img",7),u.NdJ("click",function(){return o.settings_open()}),u.qZA(),u.TgZ(13,"button",8),u.NdJ("click",function(){return o.log_out()}),u._uU(14,"Logout"),u.qZA()()()),2&i&&(u.xp6(2),u.Oqu(o.title))},styles:[".header[_ngcontent-%COMP%]{width:2400px;height:100px;background:black;display:block;border:none;border-radius:10px;box-shadow:5px 20px 50px #4b0303;position:relative;margin:auto}.title[_ngcontent-%COMP%]{height:32px;width:230px;font-family:Arial,Helvetica,sans-serif;color:#fff;position:relative;top:30px;left:30px;cursor:pointer}.main-button[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;bottom:30px;left:550px;background:black;color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:2em}.main-button[_ngcontent-%COMP%]:hover{background:rgb(201,196,196);color:#000;box-shadow:0 0 5px #fff,0 0 20px #fff,0 0 40px #fff,0 0 150px #fff}.info-button[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;bottom:30px;left:750px;background:black;color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:2em}.info-button[_ngcontent-%COMP%]:hover{background:rgb(201,196,196);color:#000;box-shadow:0 0 5px #fff,0 0 20px #fff,0 0 40px #fff,0 0 150px #fff}.profile-button[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;bottom:30px;left:950px;background:black;color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:2em}.profile-button[_ngcontent-%COMP%]:hover{background:rgb(201,196,196);color:#000;box-shadow:0 0 5px #fff,0 0 20px #fff,0 0 40px #fff,0 0 150px #fff}.chats-button[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;bottom:30px;left:1150px;background:black;color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:2em}.chats-button[_ngcontent-%COMP%]:hover{background:rgb(201,196,196);color:#000;box-shadow:0 0 5px #fff,0 0 20px #fff,0 0 40px #fff,0 0 150px #fff}.logout-button[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;bottom:30px;left:1650px;color:#000;text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:1.5em}.logout-button[_ngcontent-%COMP%]:hover{background:rgb(53,52,52);color:#ececec;box-shadow:0 0 5px #646464,0 0 20px #646464,0 0 40px #646464,0 0 150px #646464}.fa[_ngcontent-%COMP%]{color:#fff}.settings_button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;position:absolute;bottom:35px;right:350px;cursor:pointer}"]})}return n})(),XF=(()=>{class n{constructor(e){this.router=e,this.app=(0,qt.ZF)(ru_firebase),this.db=qi(this.app)}ngOnInit(){null===gi().currentUser&&(alert("You are not signed in!"),this.router.navigateByUrl("/register"))}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(ni))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-signed-in-page"]],decls:3,vars:0,template:function(i,o){1&i&&(u._UZ(0,"app-header"),u.TgZ(1,"p"),u._uU(2,"signed-in-page works!"),u.qZA())},dependencies:[wx]})}return n})(),JF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-info"]],decls:215,vars:0,consts:[[1,"info_page"],[1,"info_box"],[2,"color","white","position","relative","top","10px","font-family","Arial, Helvetica, sans-serif","font-weight","bold"],[2,"color","white","position","relative","top","-45px","left","2000px","font-family","Arial, Helvetica, sans-serif","font-weight","bold"],[2,"color","white","position","relative","font-family","Arial, Helvetica, sans-serif","font-size","medium"],[2,"color","white","position","relative","left","1900px","top","-937px","font-family","Arial, Helvetica, sans-serif","font-size","medium"]],template:function(i,o){1&i&&(u._UZ(0,"app-header"),u.TgZ(1,"div",0)(2,"div",1)(3,"ul")(4,"h1",2),u._uU(5,"Info"),u.qZA(),u.TgZ(6,"h1",3),u._uU(7,"Info2"),u.qZA(),u.TgZ(8,"p",4),u._uU(9," info info.................................................................................................................... "),u._UZ(10,"br"),u._uU(11," info info.................................................................................................................... "),u._UZ(12,"br"),u._uU(13," info info.................................................................................................................... "),u._UZ(14,"br")(15,"br")(16,"br"),u.TgZ(17,"li"),u._uU(18,"info"),u.qZA(),u.TgZ(19,"li"),u._uU(20,"info"),u.qZA(),u.TgZ(21,"li"),u._uU(22,"info"),u.qZA(),u.TgZ(23,"li"),u._uU(24,"info"),u.qZA(),u.TgZ(25,"li"),u._uU(26,"info"),u.qZA(),u.TgZ(27,"li"),u._uU(28,"info"),u.qZA(),u.TgZ(29,"li"),u._uU(30,"info"),u.qZA(),u.TgZ(31,"li"),u._uU(32,"info"),u.qZA(),u.TgZ(33,"li"),u._uU(34,"info"),u.qZA(),u.TgZ(35,"li"),u._uU(36,"info"),u.qZA(),u.TgZ(37,"li"),u._uU(38,"info"),u.qZA(),u.TgZ(39,"li"),u._uU(40,"info"),u.qZA(),u.TgZ(41,"li"),u._uU(42,"info"),u.qZA(),u.TgZ(43,"li"),u._uU(44,"info"),u.qZA(),u.TgZ(45,"li"),u._uU(46,"info"),u.qZA(),u.TgZ(47,"li"),u._uU(48,"info"),u.qZA(),u.TgZ(49,"li"),u._uU(50,"info"),u.qZA(),u.TgZ(51,"li"),u._uU(52,"info"),u.qZA(),u.TgZ(53,"li"),u._uU(54,"info"),u.qZA(),u.TgZ(55,"li"),u._uU(56,"info"),u.qZA(),u.TgZ(57,"li"),u._uU(58,"info"),u.qZA(),u.TgZ(59,"li"),u._uU(60,"info"),u.qZA(),u.TgZ(61,"li"),u._uU(62,"info"),u.qZA(),u.TgZ(63,"li"),u._uU(64,"info"),u.qZA(),u.TgZ(65,"li"),u._uU(66,"info"),u.qZA(),u.TgZ(67,"li"),u._uU(68,"info"),u.qZA(),u.TgZ(69,"li"),u._uU(70,"info"),u.qZA(),u.TgZ(71,"li"),u._uU(72,"info"),u.qZA(),u.TgZ(73,"li"),u._uU(74,"info"),u.qZA(),u.TgZ(75,"li"),u._uU(76,"info"),u.qZA(),u.TgZ(77,"li"),u._uU(78,"info"),u.qZA(),u.TgZ(79,"li"),u._uU(80,"info"),u.qZA(),u.TgZ(81,"li"),u._uU(82,"info"),u.qZA(),u.TgZ(83,"li"),u._uU(84,"info"),u.qZA(),u.TgZ(85,"li"),u._uU(86,"info"),u.qZA(),u.TgZ(87,"li"),u._uU(88,"info"),u.qZA(),u.TgZ(89,"li"),u._uU(90,"info"),u.qZA(),u.TgZ(91,"li"),u._uU(92,"info"),u.qZA(),u.TgZ(93,"li"),u._uU(94,"info"),u.qZA(),u.TgZ(95,"li"),u._uU(96,"info"),u.qZA(),u.TgZ(97,"li"),u._uU(98,"info"),u.qZA(),u.TgZ(99,"li"),u._uU(100,"info"),u.qZA(),u.TgZ(101,"li"),u._uU(102,"info"),u.qZA(),u.TgZ(103,"li"),u._uU(104,"info"),u.qZA(),u.TgZ(105,"li"),u._uU(106,"info"),u.qZA(),u.TgZ(107,"li"),u._uU(108,"info"),u.qZA(),u.TgZ(109,"li"),u._uU(110,"info"),u.qZA()(),u._UZ(111,"p"),u.TgZ(112,"p",5),u._uU(113," info info.................................................................................................................... "),u._UZ(114,"br"),u._uU(115," info info.................................................................................................................... "),u._UZ(116,"br"),u._uU(117," info info.................................................................................................................... "),u._UZ(118,"br")(119,"br")(120,"br"),u.TgZ(121,"li"),u._uU(122,"info"),u.qZA(),u.TgZ(123,"li"),u._uU(124,"info"),u.qZA(),u.TgZ(125,"li"),u._uU(126,"info"),u.qZA(),u.TgZ(127,"li"),u._uU(128,"info"),u.qZA(),u.TgZ(129,"li"),u._uU(130,"info"),u.qZA(),u.TgZ(131,"li"),u._uU(132,"info"),u.qZA(),u.TgZ(133,"li"),u._uU(134,"info"),u.qZA(),u.TgZ(135,"li"),u._uU(136,"info"),u.qZA(),u.TgZ(137,"li"),u._uU(138,"info"),u.qZA(),u.TgZ(139,"li"),u._uU(140,"info"),u.qZA(),u.TgZ(141,"li"),u._uU(142,"info"),u.qZA(),u.TgZ(143,"li"),u._uU(144,"info"),u.qZA(),u.TgZ(145,"li"),u._uU(146,"info"),u.qZA(),u.TgZ(147,"li"),u._uU(148,"info"),u.qZA(),u.TgZ(149,"li"),u._uU(150,"info"),u.qZA(),u.TgZ(151,"li"),u._uU(152,"info"),u.qZA(),u.TgZ(153,"li"),u._uU(154,"info"),u.qZA(),u.TgZ(155,"li"),u._uU(156,"info"),u.qZA(),u.TgZ(157,"li"),u._uU(158,"info"),u.qZA(),u.TgZ(159,"li"),u._uU(160,"info"),u.qZA(),u.TgZ(161,"li"),u._uU(162,"info"),u.qZA(),u.TgZ(163,"li"),u._uU(164,"info"),u.qZA(),u.TgZ(165,"li"),u._uU(166,"info"),u.qZA(),u.TgZ(167,"li"),u._uU(168,"info"),u.qZA(),u.TgZ(169,"li"),u._uU(170,"info"),u.qZA(),u.TgZ(171,"li"),u._uU(172,"info"),u.qZA(),u.TgZ(173,"li"),u._uU(174,"info"),u.qZA(),u.TgZ(175,"li"),u._uU(176,"info"),u.qZA(),u.TgZ(177,"li"),u._uU(178,"info"),u.qZA(),u.TgZ(179,"li"),u._uU(180,"info"),u.qZA(),u.TgZ(181,"li"),u._uU(182,"info"),u.qZA(),u.TgZ(183,"li"),u._uU(184,"info"),u.qZA(),u.TgZ(185,"li"),u._uU(186,"info"),u.qZA(),u.TgZ(187,"li"),u._uU(188,"info"),u.qZA(),u.TgZ(189,"li"),u._uU(190,"info"),u.qZA(),u.TgZ(191,"li"),u._uU(192,"info"),u.qZA(),u.TgZ(193,"li"),u._uU(194,"info"),u.qZA(),u.TgZ(195,"li"),u._uU(196,"info"),u.qZA(),u.TgZ(197,"li"),u._uU(198,"info"),u.qZA(),u.TgZ(199,"li"),u._uU(200,"info"),u.qZA(),u.TgZ(201,"li"),u._uU(202,"info"),u.qZA(),u.TgZ(203,"li"),u._uU(204,"info"),u.qZA(),u.TgZ(205,"li"),u._uU(206,"info"),u.qZA(),u.TgZ(207,"li"),u._uU(208,"info"),u.qZA(),u.TgZ(209,"li"),u._uU(210,"info"),u.qZA(),u.TgZ(211,"li"),u._uU(212,"info"),u.qZA(),u.TgZ(213,"li"),u._uU(214,"info"),u.qZA()()()()())},dependencies:[wx],styles:[".info_box[_ngcontent-%COMP%]{width:2540px;height:1500px;background:black;position:relative;top:20px;opacity:.6}"]})}return n})(),eL=(()=>{class n{constructor(e,i,o){this.router=e,this.appservice=i,this.formBuilder=o,this.profiles=[],this.description="",this.likes=0,this.friends_number=0,this.friends="",this.total_sent_messages=0,this.auth=gi(),this.user=this.auth.currentUser,this.username=this.user?.displayName,this.app=(0,qt.ZF)(ru_firebase),this.db=qi(this.app);const l=this.auth.currentUser,p=this.likes,g=this.friends_number,w=this.total_sent_messages;null!==l&&(this.description_data(l.uid,this.description),this.likes_counter(l.uid,p),this.friends_counter(l.uid,g),this.total_sent_messages_counter(l.uid,w))}ngOnInit(){}description_data(e,i){Fb(jo(so(qi()),`users/${e}/${i}`)).then(l=>{if(l.exists()){const f=l.val().description;this.description=f}}).catch(l=>{console.log(l)})}likes_counter(e,i){Fb(jo(so(qi()),`users/${e}/${i}`)).then(l=>{if(l.exists()){const f=l.val().likes;this.likes=f}}).catch(l=>{console.log(l)})}friends_counter(e,i){Fb(jo(so(qi()),`users/${e}/${i}`)).then(l=>{if(l.exists()){const f=l.val().friends_number;this.likes=f}}).catch(l=>{console.log(l)})}total_sent_messages_counter(e,i){Fb(jo(so(qi()),`users/${e}`)).then(l=>{if(l.exists()){console.log(l.val());const f=l.val().total_sent_messages;this.total_sent_messages=f}}).catch(l=>{console.log(l)})}add_like(){alert("Comming soon....")}share_profile(){alert("Comming soon....")}send_request(){alert("Comming soon....")}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(ni),u.Y36(dx),u.Y36(Jh))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile"]],decls:25,vars:5,consts:[[1,"profile_page"],[1,"profile_box_main"],["src","https://t4.ftcdn.net/jpg/02/15/84/43/360_F_215844325_ttX9YiIIyeaR7Ne6EaLLjMAmy4GvPC69.jpg","alt","profile_picture",1,"profile_picture"],[1,"description_box"],[1,"description"],[1,"likes_friends_messages"],[1,"likes"],[1,"friends"],[1,"sent"],[1,"like_button",3,"click"],[1,"share_button",3,"click"],[1,"friend_request",3,"click"]],template:function(i,o){1&i&&(u._UZ(0,"app-header"),u.TgZ(1,"div",0)(2,"div",1)(3,"h1"),u._uU(4),u.qZA(),u._UZ(5,"img",2),u.TgZ(6,"fieldset",3)(7,"p",4),u._uU(8," Description: "),u._UZ(9,"br")(10,"br"),u._uU(11),u.qZA()(),u.TgZ(12,"fieldset",5)(13,"span",6),u._uU(14),u.qZA(),u.TgZ(15,"p",7),u._uU(16),u.qZA(),u.TgZ(17,"p",8),u._uU(18),u.qZA(),u.TgZ(19,"button",9),u.NdJ("click",function(){return o.add_like()}),u._uU(20,"Like"),u.qZA(),u.TgZ(21,"button",10),u.NdJ("click",function(){return o.share_profile()}),u._uU(22,"Share"),u.qZA(),u.TgZ(23,"button",11),u.NdJ("click",function(){return o.send_request()}),u._uU(24,"Send Friend Request"),u.qZA()()()()),2&i&&(u.xp6(4),u.hij("Username: ",o.username,""),u.xp6(7),u.hij("",o.description," "),u.xp6(3),u.hij("Likes: ",o.likes,""),u.xp6(2),u.hij("Friends: ",o.friends_number,""),u.xp6(2),u.hij("Sent Messages: ",o.total_sent_messages,""))},dependencies:[wx],styles:[".profile_box_main[_ngcontent-%COMP%]{width:2540px;height:350px;background:black}h1[_ngcontent-%COMP%]{color:#fff;position:relative;top:10px;left:20px;font-family:Arial,Helvetica,sans-serif}img[_ngcontent-%COMP%]{max-width:250px;max-height:250px;position:relative;left:15px;top:20px}.description_box[_ngcontent-%COMP%]{width:1750px;height:230px;position:relative;left:310px;bottom:250px}.description[_ngcontent-%COMP%]{color:#fff;position:relative;font-family:Arial,Helvetica,sans-serif;top:-5px}.likes_friends_messages[_ngcontent-%COMP%]{width:350px;height:230px;position:relative;left:2100px;bottom:500px}.likes[_ngcontent-%COMP%], .friends[_ngcontent-%COMP%], .sent[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:30px}.like_button[_ngcontent-%COMP%]{width:65px;height:25px;border:none;border-radius:5px;position:relative;bottom:10px;left:0;font-weight:700}.share_button[_ngcontent-%COMP%]{width:65px;height:25px;border:none;border-radius:5px;position:relative;bottom:10px;left:10px;font-weight:700}.friend_request[_ngcontent-%COMP%]{width:175px;height:25px;border:none;border-radius:5px;position:relative;bottom:10px;left:20px;font-weight:700}"]})}return n})();const KP={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ex;const tL=new Uint8Array(16);function nL(){if(!Ex&&(Ex=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ex))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ex(tL)}const Mi=[];for(let n=0;n<256;++n)Mi.push((n+256).toString(16).slice(1));const rL=function iL(n,t,e){if(KP.randomUUID&&!t&&!n)return KP.randomUUID();const i=(n=n||{}).random||(n.rng||nL)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(let o=0;o<16;++o)t[e+o]=i[o];return t}return function QP(n,t=0){return Mi[n[t+0]]+Mi[n[t+1]]+Mi[n[t+2]]+Mi[n[t+3]]+"-"+Mi[n[t+4]]+Mi[n[t+5]]+"-"+Mi[n[t+6]]+Mi[n[t+7]]+"-"+Mi[n[t+8]]+Mi[n[t+9]]+"-"+Mi[n[t+10]]+Mi[n[t+11]]+Mi[n[t+12]]+Mi[n[t+13]]+Mi[n[t+14]]+Mi[n[t+15]]}(i)};function oL(n,t){if(1&n&&(u.TgZ(0,"div",16)(1,"span")(2,"span",17),u._uU(3),u.qZA(),u._uU(4),u.ALo(5,"date"),u.qZA(),u.TgZ(6,"p"),u._uU(7),u.qZA()()),2&n){const e=t.$implicit;u.xp6(3),u.Oqu(e.username),u.xp6(1),u.hij(" (Sent: ",u.xi3(5,3,e.timestamp,"long"),")"),u.xp6(3),u.Oqu(e.message)}}function aL(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",18)(1,"label",19),u._uU(2,"Your Password:"),u.qZA(),u._UZ(3,"input",20),u.TgZ(4,"label",21),u._uU(5,"New Password:"),u.qZA(),u.TgZ(6,"input",22),u.NdJ("ngModelChange",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.pass_pass=o)}),u.qZA(),u.TgZ(7,"label",23),u._uU(8,"Confirm New Password:"),u.qZA(),u.TgZ(9,"input",24),u.NdJ("ngModelChange",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.con_pass_pass=o)}),u.qZA(),u.TgZ(10,"button",25),u._uU(11," Submit "),u.qZA()()}if(2&n){const e=u.oxw();u.xp6(6),u.Q6J("ngModel",e.pass_pass),u.xp6(3),u.Q6J("ngModel",e.con_pass_pass)}}function lL(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",26)(1,"label",27),u._uU(2,"Your Password:"),u.qZA(),u.TgZ(3,"input",28),u.NdJ("ngModelChange",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.pass_email=o)}),u.qZA(),u.TgZ(4,"label",29),u._uU(5,"Your Email:"),u.qZA(),u._UZ(6,"input",30),u.TgZ(7,"label",31),u._uU(8,"New Email:"),u.qZA(),u.TgZ(9,"input",32),u.NdJ("ngModelChange",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.newemail=o)}),u.qZA(),u.TgZ(10,"button",33),u.NdJ("click",function(){u.CHM(e);const o=u.oxw();return u.KtG(o.change_email())}),u._uU(11," Submit "),u.qZA()()}if(2&n){const e=u.oxw();u.xp6(3),u.Q6J("ngModel",e.pass_email),u.xp6(6),u.Q6J("ngModel",e.newemail)}}function cL(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",34)(1,"label",35),u._uU(2,"Your Password:"),u.qZA(),u.TgZ(3,"input",36),u.NdJ("ngModelChange",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.pass_user=o)}),u.qZA(),u.TgZ(4,"label",37),u._uU(5,"New Username:"),u.qZA(),u.TgZ(6,"input",38),u.NdJ("ngModelChange",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.new_username=o)}),u.qZA(),u.TgZ(7,"button",39),u.NdJ("click",function(){u.CHM(e);const o=u.oxw();return u.KtG(o.change_username())}),u._uU(8,"Submit"),u.qZA()()}if(2&n){const e=u.oxw();u.xp6(3),u.Q6J("ngModel",e.pass_user),u.xp6(3),u.Q6J("ngModel",e.new_username)}}function uL(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",40)(1,"label",41),u._uU(2,"Change Description:"),u.qZA(),u.TgZ(3,"input",42),u.NdJ("ngModelChange",function(o){u.CHM(e);const l=u.oxw();return u.KtG(l.change_description_i=o)}),u.qZA(),u.TgZ(4,"button",43),u.NdJ("click",function(){u.CHM(e);const o=u.oxw();return u.KtG(o.change_desc())}),u._uU(5," Submit "),u.qZA()()}if(2&n){const e=u.oxw();u.xp6(3),u.Q6J("ngModel",e.change_description_i)}}function dL(n,t){1&n&&(u.TgZ(0,"div",44)(1,"h1",45),u._uU(2,"SOON..."),u.qZA()())}function fL(n,t){1&n&&(u.TgZ(0,"div",46)(1,"h1",45),u._uU(2,"SOON..."),u.qZA()())}function hL(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",47)(1,"label",48),u._uU(2,"Your Password:"),u.qZA(),u._UZ(3,"input",49),u.TgZ(4,"p",50),u._uU(5,"Your whole data will be deleted! You sure that you want ot delete your account?"),u.qZA(),u.TgZ(6,"button",51),u.NdJ("click",function(){u.CHM(e);const o=u.oxw();return u.KtG(o.delete_acc())}),u._uU(7,"Submit"),u.qZA()()}}const pL=[{path:"",pathMatch:"full",component:YP},{path:"register",component:QF},{path:"home",component:XF},{path:"sign-in",component:YP},{path:"info",component:JF},{path:"profile",component:eL},{path:"chat",component:(()=>{class n{constructor(e,i){this.formBuilder=e,this.afAuth=i,this.title="Your Chats",this.username="",this.group=[],this.message="",this.chats=[];const o=gi(),f=o.currentUser?.displayName;this.app=(0,qt.ZF)(ru_firebase),this.db=qi(this.app),this.form=this.formBuilder.group({message:[],username:f});const p=o.currentUser;console.log(p?.displayName)}ngOnInit(){VA(so(this.db,"chats"),i=>{const o=i.val();for(let l in o)this.chats.map(f=>f.id).includes(l)||this.chats.push(o[l])})}onChatSubmit(e){const i=e,l=gi().currentUser,f=l?.displayName;i.timestamp=(new Date).toString(),i.id=rL(),this.messages_counter(l?.uid),pg(so(this.db,`chats/${i.id}`),i),this.form=this.formBuilder.group({message:[],username:f})}messages_counter(e){Fb(jo(so(qi()),`users/${e}`)).then(o=>{if(o.exists()){console.log(o.val());const l=o.val().total_sent_messages;console.log(l),pg(so(this.db,`users/${e}/`),{total_sent_messages:l+1})}else alert("Error")})}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(Jh),u.Y36(kf))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-chat"]],decls:21,vars:4,consts:[[3,"formGroup"],[1,"messages-box"],[1,"background-open-chat"],[1,"open-chat"],[1,"chat-border"],["id","history"],["class","mb",4,"ngFor","ngForOf"],["id","message",1,"fw",2,"color","white",3,"formGroup","ngSubmit"],[1,"input-send-box"],[1,"input-send-border"],["type","text","id","input_message","formControlName","message",1,"input_message"],["id","send_message","type","submit",1,"send_message"],[1,"chats-box"],[1,"background-chats"],[1,"chats-border"],[1,"chats"],[1,"mb"],[1,"user_name"]],template:function(i,o){1&i&&(u._UZ(0,"app-header")(1,"router-outlet"),u.TgZ(2,"h1"),u._uU(3),u.qZA(),u.TgZ(4,"div",0)(5,"div",1)(6,"div",2)(7,"div",3),u._UZ(8,"fieldset",4),u.TgZ(9,"div",5),u.YNc(10,oL,8,6,"div",6),u.qZA(),u.TgZ(11,"form",7),u.NdJ("ngSubmit",function(){return o.onChatSubmit(o.form.value)}),u.TgZ(12,"div",8)(13,"fieldset",9),u._UZ(14,"input",10),u.TgZ(15,"button",11),u._uU(16,"Send"),u.qZA()()()()()()(),u.TgZ(17,"div",12)(18,"div",13)(19,"fieldset",14),u._UZ(20,"div",15),u.qZA()()()()),2&i&&(u.xp6(3),u.Oqu(o.title),u.xp6(1),u.Q6J("formGroup",o.form),u.xp6(6),u.Q6J("ngForOf",o.chats),u.xp6(1),u.Q6J("formGroup",o.form))},dependencies:[gs,V_,$h,yr,Hr,wr,Ku,ac,wx,gu],styles:[".messages-box[_ngcontent-%COMP%]{background:black;overflow:hidden;opacity:.5;width:1700px;height:1120px;position:relative;top:23px;left:40px;border-radius:25px}.open-chat[_ngcontent-%COMP%]{width:1680px;height:1140px}.chats-box[_ngcontent-%COMP%]{background:black;overflow:hidden;opacity:.5;width:600px;height:1120px;position:relative;left:1850px;bottom:1100px;border-radius:25px}.background-chats[_ngcontent-%COMP%]{background:white;width:580px;height:1100px;position:relative;top:10px;left:10px;border-radius:20px}.background-open-chat[_ngcontent-%COMP%]{background-color:#fff;width:1680px;height:1100px;position:relative;top:10px;left:10px;border-radius:20px}h1[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Arial,Helvetica,sans-serif}.input_message[_ngcontent-%COMP%]{width:1200px;height:40px;border-radius:25px;font-size:15px;position:relative;top:10px;left:10px}.send_message[_ngcontent-%COMP%]{height:40px;width:100px;border-radius:10px;position:relative;top:10px;left:130px}.chat-border[_ngcontent-%COMP%]{width:1630px;height:1060px;position:absolute;top:10px;left:10px;border-radius:15px}.chats-border[_ngcontent-%COMP%]{height:1060px;width:530px;position:absolute;left:10px;top:10px;border-radius:15px}.input-send-box[_ngcontent-%COMP%]{height:75px;width:1630px;position:absolute;top:995px;left:10px}.input-send-border[_ngcontent-%COMP%]{height:75px;width:1630px;border-radius:15px}#history[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:relative;top:20px;left:5px;width:1640px;height:960px;overflow-y:scroll;color:#000}#message[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:400px;height:100px}.fw[_ngcontent-%COMP%]{width:100%}.mb[_ngcontent-%COMP%]{margin-bottom:1em}.username_input[_ngcontent-%COMP%]{border:black;border-radius:10px;width:250px;height:50px;position:relative;text-align:center}.user_name[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-weight:700;color:red}"]})}return n})()},{path:"settings",component:(()=>{class n{constructor(e){this.router=e,this.title="Settings",this.changePass=!1,this.changeEmail=!1,this.changeUsername=!1,this.changeDescription=!1,this.verifyEmail=!1,this.addPhone=!1,this.deleteAcc=!1,this.new_username="",this.pass_user="",this.pass_email="",this.pass_pass="",this.newemail="",this.con_pass_pass="",this.change_description_i="",this.app=(0,qt.ZF)(ru_firebase),this.db=qi(this.app),null===gi().currentUser&&(alert("You are not signed in!"),this.router.navigateByUrl("/register"))}goback(){alert("Going back..."),this.router.navigateByUrl("/home")}change_desc(){const i=gi().currentUser;i?(this.change_description_function(i.uid,this.change_description_i),alert("Description Successfuly changed!")):alert("Error")}change_description_function(e,i){pg(so(qi(),"users/"+e),{description:i})}change_username(){const i=this.pass_user,o=this.new_username,f=gi().currentUser;""===i?alert("Password is wrong!"):null!==f?(ny(f,{displayName:o}),alert("Username Changed!")):null===f&&alert("You are not signed in!")}change_email(){const i=this.pass_email,o=gi(),l=this.newemail,f=o.currentUser;""===i?alert("Password is wrong!"):null!==f?function mE(n,t){_E((0,F.m9)(n),t,null)}(f,l):null===f&&alert("You are not signed in!")}change_password(){const i=this.pass_pass,o=this.con_pass_pass,p=gi().currentUser;""===i?alert("Password is wrong!"):o!==i?alert("Confirm Password need to be same as password!"):null===p?alert("You are not signed in!"):null!==p&&function gE(n,t){_E((0,F.m9)(n),null,t)}(p,i)}delete_acc(){const p=gi().currentUser;so(qi()),null===p||null!==p&&(p.delete(),alert("User Deleted!"),this.router.navigateByUrl("/register"))}deleteAccFromDatabase(e,i,o,l,f,p,g,w){!function x1(n){Js("remove",n._path),pg(n,null)}(jo(so(qi()),e))}static#e=this.\u0275fac=function(i){return new(i||n)(u.Y36(ni))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-settings"]],decls:29,vars:8,consts:[[1,"settings_box"],[1,"title"],[1,"nav_settings"],["for","",1,"change_pass_nav",3,"click"],["for","",1,"change_email_nav",3,"click"],["for","",1,"change-username-nav",3,"click"],["for","",1,"change_description_nav",3,"click"],["for","",1,"verify_email_nav",3,"click"],["for","",1,"add_phone_number_nav",3,"click"],["for","",1,"delete-acc-nav",3,"click"],["class","change_pass",4,"ngIf"],["class","change_email",4,"ngIf"],["class","change-username",4,"ngIf"],["class","change_description",4,"ngIf"],["class","verify_email",4,"ngIf"],["class","add_phone_number",4,"ngIf"],["class","delete-acc",4,"ngIf"],[1,"go_back",3,"click"],[1,"change_pass"],["for","",1,"your_pass"],["type","password",1,"change_pass_old"],["for","",1,"new_pass"],["type","password",1,"change_pass_new",3,"ngModel","ngModelChange"],["for","",1,"con_new_pass"],["type","password",1,"change_pass_new_again",3,"ngModel","ngModelChange"],["type","submit",1,"change_pass_submit"],[1,"change_email"],["for","",1,"change_email_pass"],["type","password",1,"change_email_pass_input",3,"ngModel","ngModelChange"],["for","",1,"your_email"],["type","email",1,"your_email_input"],["for","",1,"new_email"],["type","email",1,"new_email_input",3,"ngModel","ngModelChange"],["type","submit",1,"new_email_submit",3,"click"],[1,"change-username"],["for","",1,"change_username_pass"],["type","password",1,"change_username_pass_input",3,"ngModel","ngModelChange"],["for","",1,"new_username"],["type","text",1,"new_username_input",3,"ngModel","ngModelChange"],[1,"new_username_submit",3,"click"],[1,"change_description"],["for","",1,"change_description_l"],["type","txt",1,"change_description_input",3,"ngModel","ngModelChange"],["type","submit",1,"change_description_submit",3,"click"],[1,"verify_email"],[2,"color","white","text-align","center","position","relative","top","50px"],[1,"add_phone_number"],[1,"delete-acc"],["for","",1,"delete_pass_l"],["type","password",1,"delete_pass_input"],[1,"delete-acc-warning"],[1,"delete-acc-submit",3,"click"]],template:function(i,o){1&i&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1",1),u._uU(3),u.qZA()(),u.TgZ(4,"nav",2)(5,"label",3),u.NdJ("click",function(){return o.changePass=!o.changePass,o.changeEmail=!1,o.changeUsername=!1,o.changeDescription=!1,o.verifyEmail=!1,o.addPhone=!1,o.deleteAcc=!1}),u._uU(6,"Change Password"),u.qZA(),u.TgZ(7,"label",4),u.NdJ("click",function(){return o.changeEmail=!o.changeEmail,o.changePass=!1,o.changeUsername=!1,o.changeDescription=!1,o.verifyEmail=!1,o.addPhone=!1,o.deleteAcc=!1}),u._uU(8,"Change Email"),u.qZA(),u.TgZ(9,"label",5),u.NdJ("click",function(){return o.changeUsername=!o.changeUsername,o.changeEmail=!1,o.changeDescription=!1,o.changePass=!1,o.verifyEmail=!1,o.addPhone=!1,o.deleteAcc=!1}),u._uU(10,"Change Username"),u.qZA(),u.TgZ(11,"label",6),u.NdJ("click",function(){return o.changeDescription=!o.changeDescription,o.changePass=!1,o.changeUsername=!1,o.changeEmail=!1,o.verifyEmail=!1,o.addPhone=!1,o.deleteAcc=!1}),u._uU(12,"Change Description"),u.qZA(),u.TgZ(13,"label",7),u.NdJ("click",function(){return o.verifyEmail=!o.verifyEmail,o.changeEmail=!1,o.changeDescription=!1,o.changePass=!1,o.changeUsername=!1,o.addPhone=!1,o.deleteAcc=!1}),u._uU(14,"Verify Email"),u.qZA(),u.TgZ(15,"label",8),u.NdJ("click",function(){return o.addPhone=!o.addPhone,o.changeEmail=!1,o.changeDescription=!1,o.changePass=!1,o.changeUsername=!1,o.verifyEmail=!1,o.deleteAcc=!1}),u._uU(16,"Add Phone Number"),u.qZA(),u.TgZ(17,"label",9),u.NdJ("click",function(){return o.deleteAcc=!o.deleteAcc,o.changeEmail=!1,o.changeDescription=!1,o.changePass=!1,o.changeUsername=!1,o.verifyEmail=!1,o.addPhone=!1}),u._uU(18,"Delete Account"),u.qZA()(),u.YNc(19,aL,12,2,"div",10),u.YNc(20,lL,12,2,"div",11),u.YNc(21,cL,9,2,"div",12),u.YNc(22,uL,6,1,"div",13),u.YNc(23,dL,3,0,"div",14),u.YNc(24,fL,3,0,"div",15),u.YNc(25,hL,8,0,"div",16),u.TgZ(26,"div")(27,"button",17),u.NdJ("click",function(){return o.goback()}),u._uU(28,"Go Back"),u.qZA()()()),2&i&&(u.xp6(3),u.Oqu(o.title),u.xp6(16),u.Q6J("ngIf",o.changePass),u.xp6(1),u.Q6J("ngIf",o.changeEmail),u.xp6(1),u.Q6J("ngIf",o.changeUsername),u.xp6(1),u.Q6J("ngIf",o.changeDescription),u.xp6(1),u.Q6J("ngIf",o.verifyEmail),u.xp6(1),u.Q6J("ngIf",o.addPhone),u.xp6(1),u.Q6J("ngIf",o.deleteAcc))},dependencies:[po,yr,Hr,Hh],styles:[".settings_box[_ngcontent-%COMP%]{width:1500px;height:900px;background-color:#fff;border:none;border-radius:10px;position:sticky;margin:auto;background:url(https://doc-08-2c-docs.googleusercontent.com/docs/securesc/68c90smiglihng9534mvqmq1946dmis5/fo0picsp1nhiucmc0l25s29respgpr4j/1631524275000/03522360960922298374/03522360960922298374/1Sx0jhdpEpnNIydS4rnN4kHSJtU1EyWka?e=view&authuser=0&nonce=gcrocepgbb17m&user=03522360960922298374&hash=tfhgbs86ka6divo3llbvp93mg4csvb38) no-repeat center/cover;top:200px;box-shadow:5px 20px 50px #000;overflow:hidden}.title[_ngcontent-%COMP%]{color:#fff;text-align:center;position:relative;font-family:Arial,Helvetica,sans-serif}.nav_settings[_ngcontent-%COMP%]{display:flex}.go_back[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:absolute;top:800px;left:680px;color:#000;text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:1.5em}.change_pass[_ngcontent-%COMP%]{width:750px;height:700px;position:relative;left:350px}.your_pass[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:100px;left:150px}.new_pass[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:170px;right:280px}.con_new_pass[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:195px;right:225px}.change_pass_old[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:100px;left:170px}.change_pass_new[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:125px;left:290px}.change_pass_new_again[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:150px;left:290px}.change_pass_nav[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:20px;position:relative;left:40px;font-weight:700;cursor:pointer}.change_pass_submit[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;top:250px;left:60px;color:#000;text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:1.5em}.change_pass_submit[_ngcontent-%COMP%]:hover{background:rgb(255,255,255);color:#000;box-shadow:0 0 5px #fff,0 0 20px #fff,0 0 40px #fff,0 0 150px #fff}.change_email[_ngcontent-%COMP%]{width:750px;height:700px;position:relative;left:350px}.change_email_pass[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:100px;left:150px}.your_email[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:170px;right:245px}.new_email[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:195px;right:123px}.change_email_pass_input[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:100px;left:170px}.your_email_input[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:125px;left:290px}.new_email_input[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:190px;right:103px}.new_email_submit[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;top:250px;left:368px;color:#000;text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:1.5em}.new_email_submit[_ngcontent-%COMP%]:hover{background:rgb(255,255,255);color:#000;box-shadow:0 0 5px #fff,0 0 20px #fff,0 0 40px #fff,0 0 150px #fff}.change_email_nav[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:20px;position:relative;left:80px;font-weight:700;cursor:pointer}.change-username[_ngcontent-%COMP%]{width:750px;height:700px;position:relative;left:350px}.change-username-nav[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:20px;position:relative;left:120px;font-weight:700;cursor:pointer}.change_username_pass[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:100px;left:150px}.new_username[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:170px;right:280px}.change_username_pass_input[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:100px;left:170px}.new_username_input[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:125px;left:290px}.new_username_submit[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;top:250px;left:60px;color:#000;text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:1.5em}.new_username_submit[_ngcontent-%COMP%]:hover{background:rgb(255,255,255);color:#000;box-shadow:0 0 5px #fff,0 0 20px #fff,0 0 40px #fff,0 0 150px #fff}.verify_email_nav[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:20px;font-weight:700;position:relative;left:200px;cursor:pointer}.add_phone_number_nav[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:20px;font-weight:700;position:relative;left:240px;cursor:pointer}.delete-acc-nav[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:20px;font-weight:700;position:relative;left:280px;cursor:pointer}.delete-acc[_ngcontent-%COMP%]{width:750px;height:700px;position:relative;left:350px}.delete_pass_l[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:170px;left:100px}.delete_pass_input[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:170px;left:150px}.delete-acc-warning[_ngcontent-%COMP%]{text-align:center;color:#ff0}.delete-acc-submit[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;top:250px;left:350px;color:#000;text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:1.5em}.change_description_nav[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:20px;position:relative;left:160px;cursor:pointer}.change_description[_ngcontent-%COMP%]{width:750px;height:700px;position:relative;left:350px}.change_description_l[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;font-weight:700;position:relative;top:150px;left:120px}.change_description_input[_ngcontent-%COMP%]{height:35px;width:300px;border-radius:7px;position:relative;top:147px;left:150px}.change_description_submit[_ngcontent-%COMP%]{width:130px;height:40px;border:none;border-radius:10px;position:relative;top:250px;right:90px;color:#000;text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:1.5em}.change_description_submit[_ngcontent-%COMP%]:hover{background:rgb(255,255,255);color:#000;box-shadow:0 0 5px #fff,0 0 20px #fff,0 0 40px #fff,0 0 150px #fff}"]})}return n})()}];let mL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Hi.forRoot(pL),Hi]})}return n})(),gL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){1&i&&u._UZ(0,"router-outlet")},dependencies:[V_]})}return n})();class XP{}class _L{}const El="*";function eN(n,t=null){return{type:2,steps:n,options:t}}function gg(n){return{type:6,styles:n,offset:null}}class Hb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class tN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,o=0;const l=this.players.length;0==l?queueMicrotask(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==l&&this._onFinish()}),f.onDestroy(()=>{++i==l&&this._onDestroy()}),f.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((f,p)=>Math.max(f,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function nN(n){return new u.vHH(3e3,!1)}function ou(n){switch(n.length){case 0:return new Hb;case 1:return n[0];default:return new tN(n)}}function iN(n,t,e=new Map,i=new Map){const o=[],l=[];let f=-1,p=null;if(t.forEach(g=>{const w=g.get("offset"),x=w==f,D=x&&p||new Map;g.forEach((R,W)=>{let X=W,me=R;if("offset"!==W)switch(X=n.normalizePropertyName(X,o),me){case"!":me=e.get(W);break;case El:me=i.get(W);break;default:me=n.normalizeStyleValue(W,X,me,o)}D.set(X,me)}),x||l.push(D),p=D,f=w}),o.length)throw function VL(n){return new u.vHH(3502,!1)}();return l}function mM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&gM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&gM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&gM(e,"destroy",n)))}}function gM(n,t,e){const l=_M(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),f=n._data;return null!=f&&(l._data=f),l}function _M(n,t,e,i,o="",l=0,f){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:l,disabled:!!f}}function ao(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function rN(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const XL=(()=>typeof document>"u"?null:document.documentElement)();function vM(n){const t=n.parentNode||n.host||null;return t===XL?null:t}let Ff=null,oN=!1;function sN(n,t){for(;t;){if(t===n)return!0;t=vM(t)}return!1}function aN(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let lN=(()=>{class n{validateStyleProperty(e){return function e2(n){Ff||(Ff=function t2(){return typeof document<"u"?document.body:null}()||{},oN=!!Ff.style&&"WebkitAppearance"in Ff.style);let t=!0;return Ff.style&&!function JL(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ff.style,!t&&oN&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ff.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return sN(e,i)}getParentElement(e){return vM(e)}query(e,i,o){return aN(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,l,f,p=[],g){return new Hb(o,l)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})(),yM=(()=>{class n{static#e=this.NOOP=new lN}return n})();const n2=1e3,bM="ng-enter",Cx="ng-leave",xx="ng-trigger",Ix=".ng-trigger",uN="ng-animating",wM=".ng-animating";function Cl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:EM(parseFloat(t[1]),t[2])}function EM(n,t){return"s"===t?n*n2:n}function Dx(n,t,e){return n.hasOwnProperty("duration")?n:function o2(n,t,e){let o,l=0,f="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(nN()),{duration:0,delay:0,easing:""};o=EM(parseFloat(p[1]),p[2]);const g=p[3];null!=g&&(l=EM(parseFloat(g),p[4]));const w=p[5];w&&(f=w)}else o=n;if(!e){let p=!1,g=t.length;o<0&&(t.push(function vL(){return new u.vHH(3100,!1)}()),p=!0),l<0&&(t.push(function yL(){return new u.vHH(3101,!1)}()),p=!0),p&&t.splice(g,0,nN())}return{duration:o,delay:l,easing:f}}(n,t,e)}function $b(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function dN(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function su(n,t=new Map,e){if(e)for(let[i,o]of e)t.set(i,o);for(let[i,o]of n)t.set(i,o);return t}function ea(n,t,e){t.forEach((i,o)=>{const l=xM(o);e&&!e.has(o)&&e.set(o,n.style[l]),n.style[l]=i})}function Lf(n,t){t.forEach((e,i)=>{const o=xM(i);n.style[o]=""})}function zb(n){return Array.isArray(n)?1==n.length?n[0]:eN(n):n}const CM=new RegExp("{{\\s*(.+?)\\s*}}","g");function hN(n){let t=[];if("string"==typeof n){let e;for(;e=CM.exec(n);)t.push(e[1]);CM.lastIndex=0}return t}function Gb(n,t,e){const i=n.toString(),o=i.replace(CM,(l,f)=>{let p=t[f];return null==p&&(e.push(function wL(n){return new u.vHH(3003,!1)}()),p=""),p.toString()});return o==i?n:o}function Tx(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const l2=/-+([a-z0-9])/g;function xM(n){return n.replace(l2,(...t)=>t[1].toUpperCase())}function lo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function EL(n){return new u.vHH(3004,!1)}()}}function pN(n,t){return window.getComputedStyle(n)[t]}const Sx="*";function d2(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function f2(n,t,e){if(":"==n[0]){const g=function h2(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function FL(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function kL(n){return new u.vHH(3015,!1)}()),t;const o=i[1],l=i[2],f=i[3];t.push(mN(o,f));"<"==l[0]&&!(o==Sx&&f==Sx)&&t.push(mN(f,o))}(i,e,t)):e.push(n),e}const Ax=new Set(["true","1"]),Mx=new Set(["false","0"]);function mN(n,t){const e=Ax.has(n)||Mx.has(n),i=Ax.has(t)||Mx.has(t);return(o,l)=>{let f=n==Sx||n==o,p=t==Sx||t==l;return!f&&e&&"boolean"==typeof o&&(f=o?Ax.has(n):Mx.has(n)),!p&&i&&"boolean"==typeof l&&(p=l?Ax.has(t):Mx.has(t)),f&&p}}const p2=new RegExp("s*:selfs*,?","g");function IM(n,t,e,i){return new m2(n).build(t,e,i)}class m2{constructor(t){this._driver=t}build(t,e,i){const o=new v2(e);return this._resetContextStyleTimingState(o),lo(this,zb(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0;const l=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push(function xL(){return new u.vHH(3006,!1)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const g=p,w=g.name;w.toString().split(/\s*,\s*/).forEach(x=>{g.name=x,l.push(this.visitState(g,e))}),g.name=w}else if(1==p.type){const g=this.visitTransition(p,e);i+=g.queryCount,o+=g.depCount,f.push(g)}else e.errors.push(function IL(){return new u.vHH(3007,!1)}())}),{type:7,name:t.name,states:l,transitions:f,queryCount:i,depCount:o,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,f=o||{};i.styles.forEach(p=>{p instanceof Map&&p.forEach(g=>{hN(g).forEach(w=>{f.hasOwnProperty(w)||l.add(w)})})}),l.size&&(Tx(l.values()),e.errors.push(function DL(n,t){return new u.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=lo(this,zb(t.animation),e);return{type:1,matchers:d2(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Uf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>lo(this,i,e)),options:Uf(t.options)}}visitGroup(t,e){const i=e.currentTime;let o=0;const l=t.steps.map(f=>{e.currentTime=i;const p=lo(this,f,e);return o=Math.max(o,e.currentTime),p});return e.currentTime=o,{type:3,steps:l,options:Uf(t.options)}}visitAnimate(t,e){const i=function b2(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return DM(Dx(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=DM(0,0,"");return l.dynamic=!0,l.strValue=e,l}const o=Dx(e,t);return DM(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let o,l=t.styles?t.styles:gg({});if(5==l.type)o=this.visitKeyframes(l,e);else{let f=t.styles,p=!1;if(!f){p=!0;const w={};i.easing&&(w.easing=i.easing),f=gg(w)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(f,e);g.isEmptyStep=p,o=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let p of o)"string"==typeof p?p===El?i.push(p):e.errors.push(new u.vHH(3002,!1)):i.push(dN(p));let l=!1,f=null;return i.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(f=p.get("easing"),p.delete("easing")),!l))for(let g of p.values())if(g.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:i,easing:f,offset:t.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(f=>{"string"!=typeof f&&f.forEach((p,g)=>{const w=e.collectedStyles.get(e.currentQuerySelector),x=w.get(g);let D=!0;x&&(l!=o&&l>=x.startTime&&o<=x.endTime&&(e.errors.push(function SL(n,t,e,i,o){return new u.vHH(3010,!1)}()),D=!1),l=x.startTime),D&&w.set(g,{startTime:l,endTime:o}),e.options&&function a2(n,t,e){const i=t.params||{},o=hN(n);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||e.push(function bL(n){return new u.vHH(3001,!1)}())})}(p,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function AL(){return new u.vHH(3011,!1)}()),i;let l=0;const f=[];let p=!1,g=!1,w=0;const x=t.steps.map(Je=>{const dt=this._makeStyleAst(Je,e);let Nt=null!=dt.offset?dt.offset:function y2(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(dt.styles),st=0;return null!=Nt&&(l++,st=dt.offset=Nt),g=g||st<0||st>1,p=p||st<w,w=st,f.push(st),dt});g&&e.errors.push(function ML(){return new u.vHH(3012,!1)}()),p&&e.errors.push(function RL(){return new u.vHH(3200,!1)}());const D=t.steps.length;let R=0;l>0&&l<D?e.errors.push(function OL(){return new u.vHH(3202,!1)}()):0==l&&(R=1/(D-1));const W=D-1,X=e.currentTime,me=e.currentAnimateTimings,je=me.duration;return x.forEach((Je,dt)=>{const Nt=R>0?dt==W?1:R*dt:f[dt],st=Nt*je;e.currentTime=X+me.delay+st,me.duration=st,this._validateStyleAst(Je,e),Je.offset=Nt,i.styles.push(Je)}),i}visitReference(t,e){return{type:8,animation:lo(this,zb(t.animation),e),options:Uf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Uf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Uf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[l,f]=function g2(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(p2,"")),n=n.replace(/@\*/g,Ix).replace(/@\w+/g,e=>Ix+"-"+e.slice(1)).replace(/:animating/g,wM),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,ao(e.collectedStyles,e.currentQuerySelector,new Map);const p=lo(this,zb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:p,originalSelector:t.selector,options:Uf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function PL(){return new u.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Dx(t.timings,e.errors,!0);return{type:12,animation:lo(this,zb(t.animation),e),timings:i,options:null}}}class v2{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Uf(n){return n?(n=$b(n)).params&&(n.params=function _2(n){return n?$b(n):null}(n.params)):n={},n}function DM(n,t,e){return{duration:n,delay:t,easing:e}}function TM(n,t,e,i,o,l,f=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:f,subTimeline:p}}class Rx{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const C2=new RegExp(":enter","g"),I2=new RegExp(":leave","g");function SM(n,t,e,i,o,l=new Map,f=new Map,p,g,w=[]){return(new D2).buildKeyframes(n,t,e,i,o,l,f,p,g,w)}class D2{buildKeyframes(t,e,i,o,l,f,p,g,w,x=[]){w=w||new Rx;const D=new AM(t,e,w,o,l,x,[]);D.options=g;const R=g.delay?Cl(g.delay):0;D.currentTimeline.delayNextStep(R),D.currentTimeline.setStyles([f],null,D.errors,g),lo(this,i,D);const W=D.timelines.filter(X=>X.containsAnimation());if(W.length&&p.size){let X;for(let me=W.length-1;me>=0;me--){const je=W[me];if(je.element===e){X=je;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([p],null,D.errors,g)}return W.length?W.map(X=>X.buildKeyframes()):[TM(e,[],[],[],0,R,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(t.options),l=e.currentTimeline.currentTime,f=this._visitSubInstructions(i,o,o.options);l!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const o of t){const l=o?.delay;if(l){const f="number"==typeof l?l:Cl(Gb(l,o?.params??{},e.errors));i.delayNextStep(f)}}}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const f=null!=i.duration?Cl(i.duration):null,p=null!=i.delay?Cl(i.delay):null;return 0!==f&&t.forEach(g=>{const w=e.appendInstructionToTimeline(g,f,p);l=Math.max(l,w.duration+w.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),lo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let o=e;const l=t.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ox);const f=Cl(l.delay);o.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>lo(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let o=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?Cl(t.options.delay):0;t.steps.forEach(f=>{const p=e.createSubContext(t.options);l&&p.delayNextStep(l),lo(this,f,p),o=Math.max(o,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Dx(e.params?Gb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const l=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,l=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(g=>{p.forwardTime((g.offset||0)*l),p.setStyles(g.styles,g.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(o+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,o=t.options||{},l=o.delay?Cl(o.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ox);let f=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=p.length;let g=null;p.forEach((w,x)=>{e.currentQueryIndex=x;const D=e.createSubContext(t.options,w);l&&D.delayNextStep(l),w===e.element&&(g=D.currentTimeline),lo(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,o=e.currentTimeline,l=t.timings,f=Math.abs(l.duration),p=f*(e.currentQueryTotal-1);let g=f*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":g=p-g;break;case"full":g=i.currentStaggerTime}const x=e.currentTimeline;g&&x.delayNextStep(g);const D=x.currentTime;lo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-D+(o.startTime-i.currentTimeline.startTime)}}const Ox={};class AM{constructor(t,e,i,o,l,f,p,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=f,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ox,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Px(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let o=this.options;null!=i.duration&&(o.duration=Cl(i.duration)),null!=i.delay&&(o.delay=Cl(i.delay));const l=i.params;if(l){let f=o.params;f||(f=this.options.params={}),Object.keys(l).forEach(p=>{(!e||!f.hasOwnProperty(p))&&(f[p]=Gb(l[p],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){const o=e||this.element,l=new AM(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=Ox,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},l=new T2(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,l,f){let p=[];if(o&&p.push(this.element),t.length>0){t=(t=t.replace(C2,"."+this._enterClassName)).replace(I2,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),p.push(...w)}return!l&&0==p.length&&f.push(function NL(n){return new u.vHH(3014,!1)}()),p}}class Px{constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Px(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||El),this._currentKeyframe.set(e,El);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&this._previousKeyframe.set("easing",e);const l=o&&o.params||{},f=function S2(n,t){const e=new Map;let i;return n.forEach(o=>{if("*"===o){i=i||t.keys();for(let l of i)e.set(l,El)}else su(o,e)}),e}(t,this._globalTimelineStyles);for(let[p,g]of f){const w=Gb(g,l,i);this._pendingStyles.set(p,w),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??El),this._updateStyle(p,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((p,g)=>{const w=su(p,new Map,this._backFill);w.forEach((x,D)=>{"!"===x?t.add(D):x===El&&e.add(D)}),i||w.set("offset",g/this.duration),o.push(w)});const l=t.size?Tx(t.values()):[],f=e.size?Tx(e.values()):[];if(i){const p=o[0],g=new Map(p);p.set("offset",0),g.set("offset",1),o=[p,g]}return TM(this.element,o,l,f,this.duration,this.startTime,this.easing,!1)}}class T2 extends Px{constructor(t,e,i,o,l,f,p=!1){super(t,e,f.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],f=i+e,p=e/f,g=su(t[0]);g.set("offset",0),l.push(g);const w=su(t[0]);w.set("offset",vN(p)),l.push(w);const x=t.length-1;for(let D=1;D<=x;D++){let R=su(t[D]);const W=R.get("offset");R.set("offset",vN((e+W*i)/f)),l.push(R)}i=f,e=0,o="",t=l}return TM(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function vN(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class MM{}const A2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class M2 extends MM{normalizePropertyName(t,e){return xM(t)}normalizeStyleValue(t,e,i,o){let l="";const f=i.toString().trim();if(A2.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&o.push(function CL(n,t){return new u.vHH(3005,!1)}())}return f+l}}function yN(n,t,e,i,o,l,f,p,g,w,x,D,R){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:l,toState:i,toStyles:f,timelines:p,queriedElements:g,preStyleProps:w,postStyleProps:x,totalTime:D,errors:R}}const RM={};class bN{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return function R2(n,t,e,i,o){return n.some(l=>l(t,e,i,o))}(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,i):new Map}build(t,e,i,o,l,f,p,g,w,x){const D=[],R=this.ast.options&&this.ast.options.params||RM,X=this.buildStyles(i,p&&p.params||RM,D),me=g&&g.params||RM,je=this.buildStyles(o,me,D),Je=new Set,dt=new Map,Nt=new Map,st="void"===o,an={params:O2(me,R),delay:this.ast.options?.delay},yn=x?[]:SM(t,e,this.ast.animation,l,f,X,je,an,w,D);let ri=0;if(yn.forEach(co=>{ri=Math.max(co.duration+co.delay,ri)}),D.length)return yN(e,this._triggerName,i,o,st,X,je,[],[],dt,Nt,ri,D);yn.forEach(co=>{const ms=co.element,wk=ao(dt,ms,new Set);co.preStyleProps.forEach($f=>wk.add($f));const e0=ao(Nt,ms,new Set);co.postStyleProps.forEach($f=>e0.add($f)),ms!==e&&Je.add(ms)});const $o=Tx(Je.values());return yN(e,this._triggerName,i,o,st,X,je,yn,$o,dt,Nt,ri)}}function O2(n,t){const e=$b(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class P2{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,o=$b(this.defaultParams);return Object.keys(t).forEach(l=>{const f=t[l];null!==f&&(o[l]=f)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,p)=>{f&&(f=Gb(f,o,e));const g=this.normalizer.normalizePropertyName(p,e);f=this.normalizer.normalizeStyleValue(p,g,f,e),i.set(p,f)})}),i}}class k2{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new P2(o.style,o.options&&o.options.params||{},i))}),wN(this.states,"true","1"),wN(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new bN(t,o,this.states))}),this.fallbackTransition=function F2(n,t,e){return new bN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(f=>f.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function wN(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const L2=new Rx;class U2{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],l=IM(this._driver,e,i,[]);if(i.length)throw function jL(n){return new u.vHH(3503,!1)}();this._animations.set(t,l)}_buildPlayer(t,e,i){const o=t.element,l=iN(this._normalizer,t.keyframes,e,i);return this._driver.animate(o,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const o=[],l=this._animations.get(t);let f;const p=new Map;if(l?(f=SM(this._driver,e,l,bM,Cx,new Map,new Map,i,L2,o),f.forEach(x=>{const D=ao(p,x.element,new Map);x.postStyleProps.forEach(R=>D.set(R,null))})):(o.push(function HL(){return new u.vHH(3300,!1)}()),f=[]),o.length)throw function $L(n){return new u.vHH(3504,!1)}();p.forEach((x,D)=>{x.forEach((R,W)=>{x.set(W,this._driver.computeStyle(D,W,El))})});const w=ou(f.map(x=>{const D=p.get(x.element);return this._buildPlayer(x,new Map,D)}));return this._playersById.set(t,w),w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function zL(n){return new u.vHH(3301,!1)}();return e}listen(t,e,i,o){const l=_M(e,"","","");return mM(this._getPlayer(t),i,l,o),()=>{}}command(t,e,i,o){if("register"==i)return void this.register(t,o[0]);if("create"==i)return void this.create(t,e,o[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const EN="ng-animate-queued",OM="ng-animate-disabled",$2=[],CN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},z2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ps="__ng_removed";class PM{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function q2(n){return n??null}(i?t.value:t),i){const l=$b(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const Wb="void",NM=new PM(Wb);class G2{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ho(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.has(e))throw function GL(n,t){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function WL(n){return new u.vHH(3303,!1)}();if(!function Y2(n){return"start"==n||"done"==n}(i))throw function ZL(n,t){return new u.vHH(3400,!1)}();const l=ao(this._elementListeners,t,[]),f={name:e,phase:i,callback:o};l.push(f);const p=ao(this._engine.statesByElement,t,new Map);return p.has(e)||(Ho(t,xx),Ho(t,xx+"-"+e),p.set(e,NM)),()=>{this._engine.afterFlush(()=>{const g=l.indexOf(f);g>=0&&l.splice(g,1),this._triggers.has(e)||p.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function qL(n){return new u.vHH(3401,!1)}();return e}trigger(t,e,i,o=!0){const l=this._getTrigger(e),f=new kM(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(Ho(t,xx),Ho(t,xx+"-"+e),this._engine.statesByElement.set(t,p=new Map));let g=p.get(e);const w=new PM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&w.absorbOptions(g.options),p.set(e,w),g||(g=NM),w.value!==Wb&&g.value===w.value){if(!function X2(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(g.params,w.params)){const me=[],je=l.matchStyles(g.value,g.params,me),Je=l.matchStyles(w.value,w.params,me);me.length?this._engine.reportError(me):this._engine.afterFlush(()=>{Lf(t,je),ea(t,Je)})}return}const R=ao(this._engine.playersByElement,t,[]);R.forEach(me=>{me.namespaceId==this.id&&me.triggerName==e&&me.queued&&me.destroy()});let W=l.matchTransition(g.value,w.value,t,w.params),X=!1;if(!W){if(!o)return;W=l.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:W,fromState:g,toState:w,player:f,isFallbackTransition:X}),X||(Ho(t,EN),f.onStart(()=>{_g(t,EN)})),f.onDone(()=>{let me=this.players.indexOf(f);me>=0&&this.players.splice(me,1);const je=this._engine.playersByElement.get(t);if(je){let Je=je.indexOf(f);Je>=0&&je.splice(Je,1)}}),this.players.push(f),R.push(f),f}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ix,!0);i.forEach(o=>{if(o[ps])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(f=>f.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){const l=this._engine.statesByElement.get(t),f=new Map;if(l){const p=[];if(l.forEach((g,w)=>{if(f.set(w,g.value),this._triggers.has(w)){const x=this.trigger(t,w,Wb,o);x&&p.push(x)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,f),i&&ou(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const o=new Set;e.forEach(l=>{const f=l.name;if(o.has(f))return;o.add(f);const g=this._triggers.get(f).fallbackTransition,w=i.get(f)||NM,x=new PM(Wb),D=new kM(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:g,fromState:w,toState:x,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)o=!0;else{let f=t;for(;f=f.parentNode;)if(i.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[ps];(!l||l===CN)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ho(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,f=this._elementListeners.get(l);f&&f.forEach(p=>{if(p.name==i.triggerName){const g=_M(l,i.triggerName,i.fromState.value,i.toState.value);g._data=t,mM(i.player,p.phase,g,p.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const l=i.transition.ast.depCount,f=o.transition.ast.depCount;return 0==l||0==f?l-f:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class W2{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new G2(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let f=!1,p=this.driver.getParentElement(e);for(;p;){const g=o.get(p);if(g){const w=i.indexOf(g);i.splice(w+1,0,t),f=!0;break}p=this.driver.getParentElement(p)}f||i.unshift(t)}else i.push(t);return o.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let o of i.values())if(o.namespaceId){const l=this._fetchNamespace(o.namespaceId);l&&e.add(l)}return e}trigger(t,e,i,o){if(Nx(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!Nx(e))return;const l=e[ps];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ho(t,OM)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_g(t,OM))}removeNode(t,e,i){if(Nx(e)){const o=t?this._fetchNamespace(t):null;o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,o,l){this.collectedLeaveElements.push(e),e[ps]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,o,l){return Nx(e)?this._fetchNamespace(t).listen(e,i,o,l):()=>{}}_buildInstruction(t,e,i,o,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,Ix,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wM,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ou(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ps];if(e&&e.setForRemoval){if(t[ps]=CN,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(OM)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ho(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ou(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw function YL(n){return new u.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new Rx,o=[],l=new Map,f=[],p=new Map,g=new Map,w=new Map,x=new Set;this.disabledNodes.forEach(Ke=>{x.add(Ke);const it=this.driver.query(Ke,".ng-animate-queued",!0);for(let ft=0;ft<it.length;ft++)x.add(it[ft])});const D=this.bodyNode,R=Array.from(this.statesByElement.keys()),W=DN(R,this.collectedEnterElements),X=new Map;let me=0;W.forEach((Ke,it)=>{const ft=bM+me++;X.set(it,ft),Ke.forEach(jt=>Ho(jt,ft))});const je=[],Je=new Set,dt=new Set;for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++){const it=this.collectedLeaveElements[Ke],ft=it[ps];ft&&ft.setForRemoval&&(je.push(it),Je.add(it),ft.hasAnimation?this.driver.query(it,".ng-star-inserted",!0).forEach(jt=>Je.add(jt)):dt.add(it))}const Nt=new Map,st=DN(R,Array.from(Je));st.forEach((Ke,it)=>{const ft=Cx+me++;Nt.set(it,ft),Ke.forEach(jt=>Ho(jt,ft))}),t.push(()=>{W.forEach((Ke,it)=>{const ft=X.get(it);Ke.forEach(jt=>_g(jt,ft))}),st.forEach((Ke,it)=>{const ft=Nt.get(it);Ke.forEach(jt=>_g(jt,ft))}),je.forEach(Ke=>{this.processLeaveNode(Ke)})});const an=[],yn=[];for(let Ke=this._namespaceList.length-1;Ke>=0;Ke--)this._namespaceList[Ke].drainQueuedTransitions(e).forEach(ft=>{const jt=ft.player,vi=ft.element;if(an.push(jt),this.collectedEnterElements.length){const Ki=vi[ps];if(Ki&&Ki.setForMove){if(Ki.previousTriggersValues&&Ki.previousTriggersValues.has(ft.triggerName)){const zf=Ki.previousTriggersValues.get(ft.triggerName),zo=this.statesByElement.get(ft.element);if(zo&&zo.has(ft.triggerName)){const Gx=zo.get(ft.triggerName);Gx.value=zf,zo.set(ft.triggerName,Gx)}}return void jt.destroy()}}const ta=!D||!this.driver.containsElement(D,vi),uo=Nt.get(vi),cu=X.get(vi),Dn=this._buildInstruction(ft,i,cu,uo,ta);if(Dn.errors&&Dn.errors.length)return void yn.push(Dn);if(ta)return jt.onStart(()=>Lf(vi,Dn.fromStyles)),jt.onDestroy(()=>ea(vi,Dn.toStyles)),void o.push(jt);if(ft.isFallbackTransition)return jt.onStart(()=>Lf(vi,Dn.fromStyles)),jt.onDestroy(()=>ea(vi,Dn.toStyles)),void o.push(jt);const xk=[];Dn.timelines.forEach(Ki=>{Ki.stretchStartingKeyframe=!0,this.disabledNodes.has(Ki.element)||xk.push(Ki)}),Dn.timelines=xk,i.append(vi,Dn.timelines),f.push({instruction:Dn,player:jt,element:vi}),Dn.queriedElements.forEach(Ki=>ao(p,Ki,[]).push(jt)),Dn.preStyleProps.forEach((Ki,zf)=>{if(Ki.size){let zo=g.get(zf);zo||g.set(zf,zo=new Set),Ki.forEach((Gx,QM)=>zo.add(QM))}}),Dn.postStyleProps.forEach((Ki,zf)=>{let zo=w.get(zf);zo||w.set(zf,zo=new Set),Ki.forEach((Gx,QM)=>zo.add(QM))})});if(yn.length){const Ke=[];yn.forEach(it=>{Ke.push(function KL(n,t){return new u.vHH(3505,!1)}())}),an.forEach(it=>it.destroy()),this.reportError(Ke)}const ri=new Map,$o=new Map;f.forEach(Ke=>{const it=Ke.element;i.has(it)&&($o.set(it,it),this._beforeAnimationBuild(Ke.player.namespaceId,Ke.instruction,ri))}),o.forEach(Ke=>{const it=Ke.element;this._getPreviousPlayers(it,!1,Ke.namespaceId,Ke.triggerName,null).forEach(jt=>{ao(ri,it,[]).push(jt),jt.destroy()})});const co=je.filter(Ke=>SN(Ke,g,w)),ms=new Map;IN(ms,this.driver,dt,w,El).forEach(Ke=>{SN(Ke,g,w)&&co.push(Ke)});const e0=new Map;W.forEach((Ke,it)=>{IN(e0,this.driver,new Set(Ke),g,"!")}),co.forEach(Ke=>{const it=ms.get(Ke),ft=e0.get(Ke);ms.set(Ke,new Map([...it?.entries()??[],...ft?.entries()??[]]))});const $f=[],Ek=[],Ck={};f.forEach(Ke=>{const{element:it,player:ft,instruction:jt}=Ke;if(i.has(it)){if(x.has(it))return ft.onDestroy(()=>ea(it,jt.toStyles)),ft.disabled=!0,ft.overrideTotalTime(jt.totalTime),void o.push(ft);let vi=Ck;if($o.size>1){let uo=it;const cu=[];for(;uo=uo.parentNode;){const Dn=$o.get(uo);if(Dn){vi=Dn;break}cu.push(uo)}cu.forEach(Dn=>$o.set(Dn,vi))}const ta=this._buildAnimation(ft.namespaceId,jt,ri,l,e0,ms);if(ft.setRealPlayer(ta),vi===Ck)$f.push(ft);else{const uo=this.playersByElement.get(vi);uo&&uo.length&&(ft.parentPlayer=ou(uo)),o.push(ft)}}else Lf(it,jt.fromStyles),ft.onDestroy(()=>ea(it,jt.toStyles)),Ek.push(ft),x.has(it)&&o.push(ft)}),Ek.forEach(Ke=>{const it=l.get(Ke.element);if(it&&it.length){const ft=ou(it);Ke.setRealPlayer(ft)}}),o.forEach(Ke=>{Ke.parentPlayer?Ke.syncPlayerEvents(Ke.parentPlayer):Ke.destroy()});for(let Ke=0;Ke<je.length;Ke++){const it=je[Ke],ft=it[ps];if(_g(it,Cx),ft&&ft.hasAnimation)continue;let jt=[];if(p.size){let ta=p.get(it);ta&&ta.length&&jt.push(...ta);let uo=this.driver.query(it,wM,!0);for(let cu=0;cu<uo.length;cu++){let Dn=p.get(uo[cu]);Dn&&Dn.length&&jt.push(...Dn)}}const vi=jt.filter(ta=>!ta.destroyed);vi.length?K2(this,it,vi):this.processLeaveNode(it)}return je.length=0,$f.forEach(Ke=>{this.players.push(Ke),Ke.onDone(()=>{Ke.destroy();const it=this.players.indexOf(Ke);this.players.splice(it,1)}),Ke.play()}),$f}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,l){let f=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(f=p)}else{const p=this.playersByElement.get(t);if(p){const g=!l||l==Wb;p.forEach(w=>{w.queued||!g&&w.triggerName!=o||f.push(w)})}}return(i||o)&&(f=f.filter(p=>!(i&&i!=p.namespaceId||o&&o!=p.triggerName))),f}_beforeAnimationBuild(t,e,i){const l=e.element,f=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const w=g.element,x=w!==l,D=ao(i,w,[]);this._getPreviousPlayers(w,x,f,p,e.toState).forEach(W=>{const X=W.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),W.destroy(),D.push(W)})}Lf(l,e.fromStyles)}_buildAnimation(t,e,i,o,l,f){const p=e.triggerName,g=e.element,w=[],x=new Set,D=new Set,R=e.timelines.map(X=>{const me=X.element;x.add(me);const je=me[ps];if(je&&je.removedBeforeQueried)return new Hb(X.duration,X.delay);const Je=me!==g,dt=function Q2(n){const t=[];return TN(n,t),t}((i.get(me)||$2).map(ri=>ri.getRealPlayer())).filter(ri=>!!ri.element&&ri.element===me),Nt=l.get(me),st=f.get(me),an=iN(this._normalizer,X.keyframes,Nt,st),yn=this._buildPlayer(X,an,dt);if(X.subTimeline&&o&&D.add(me),Je){const ri=new kM(t,p,me);ri.setRealPlayer(yn),w.push(ri)}return yn});w.forEach(X=>{ao(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function Z2(n,t,e){let i=n.get(t);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,X.element,X))}),x.forEach(X=>Ho(X,uN));const W=ou(R);return W.onDestroy(()=>{x.forEach(X=>_g(X,uN)),ea(g,e.toStyles)}),D.forEach(X=>{ao(o,X,[]).push(W)}),W}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Hb(t.duration,t.delay)}}class kM{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Hb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>mM(t,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ao(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Nx(n){return n&&1===n.nodeType}function xN(n,t){const e=n.style.display;return n.style.display=t??"none",e}function IN(n,t,e,i,o){const l=[];e.forEach(g=>l.push(xN(g)));const f=[];i.forEach((g,w)=>{const x=new Map;g.forEach(D=>{const R=t.computeStyle(w,D,o);x.set(D,R),(!R||0==R.length)&&(w[ps]=z2,f.push(w))}),n.set(w,x)});let p=0;return e.forEach(g=>xN(g,l[p++])),f}function DN(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const o=new Set(t),l=new Map;function f(p){if(!p)return 1;let g=l.get(p);if(g)return g;const w=p.parentNode;return g=e.has(w)?w:o.has(w)?1:f(w),l.set(p,g),g}return t.forEach(p=>{const g=f(p);1!==g&&e.get(g).push(p)}),e}function Ho(n,t){n.classList?.add(t)}function _g(n,t){n.classList?.remove(t)}function K2(n,t,e){ou(e).onDone(()=>n.processLeaveNode(t))}function TN(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof tN?TN(i.players,t):t.push(i)}}function SN(n,t,e){const i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(l=>o.add(l)):t.set(n,i),e.delete(n),!0}class kx{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new W2(t,e,i),this._timelineEngine=new U2(t,e,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(t,e,i,o,l){const f=t+"-"+o;let p=this._triggerCache[f];if(!p){const g=[],x=IM(this._driver,l,g,[]);if(g.length)throw function BL(n,t){return new u.vHH(3404,!1)}();p=function N2(n,t,e){return new k2(n,t,e)}(o,x,this._normalizer),this._triggerCache[f]=p}this._transitionEngine.registerTrigger(e,o,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if("@"==i.charAt(0)){const[l,f]=rN(i);this._timelineEngine.command(l,e,f,o)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,l){if("@"==i.charAt(0)){const[f,p]=rN(i);return this._timelineEngine.listen(f,e,p,l)}return this._transitionEngine.listen(t,e,i,o,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let eU=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&ea(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ea(this._element,this._initialStyles),this._endStyles&&(ea(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Lf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Lf(this._element,this._endStyles),this._endStyles=null),ea(this._element,this._initialStyles),this._state=3)}}return n})();function FM(n){let t=null;return n.forEach((e,i)=>{(function tU(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class AN{constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&t.set(o,this._finished?i:pN(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nU{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return sN(t,e)}getParentElement(t){return vM(t)}query(t,e,i){return aN(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,o,l,f=[]){const g={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(g.easing=l);const w=new Map,x=f.filter(W=>W instanceof AN);(function c2(n,t){return 0===n||0===t})(i,o)&&x.forEach(W=>{W.currentSnapshot.forEach((X,me)=>w.set(me,X))});let D=function s2(n){return n.length?n[0]instanceof Map?n:n.map(t=>dN(t)):[]}(e).map(W=>su(W));D=function u2(n,t,e){if(e.size&&t.length){let i=t[0],o=[];if(e.forEach((l,f)=>{i.has(f)||o.push(f),i.set(f,l)}),o.length)for(let l=1;l<t.length;l++){let f=t[l];o.forEach(p=>f.set(p,pN(n,p)))}}return t}(t,D,w);const R=function J2(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=FM(t[0]),t.length>1&&(i=FM(t[t.length-1]))):t instanceof Map&&(e=FM(t)),e||i?new eU(n,e,i):null}(t,D);return new AN(t,D,g,R)}}let iU=(()=>{class n extends XP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?eN(e):e;return MN(this._renderer,null,i,"register",[o]),new rU(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(u.FYo),u.LFG(se))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();class rU extends _L{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new oU(this._id,t,e||{},this._renderer)}}class oU{constructor(t,e,i,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return MN(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function MN(n,t,e,i,o){return n.setProperty(t,`@@${e}:${i}`,o)}const RN="@.disabled";let sU=(()=>{class n{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(l,f)=>{const p=f?.parentNode(l);p&&f.removeChild(p,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(l);return x||(x=new ON("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,x)),x}const f=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const g=x=>{Array.isArray(x)?x.forEach(g):this.engine.registerTrigger(f,p,e,x.name,x)};return i.data.animation.forEach(g),new aU(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[f,p]=l;f(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(u.FYo),u.LFG(kx),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();class ON{constructor(t,e,i,o){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==RN?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class aU extends ON{constructor(t,e,i,o,l){super(e,i,o,l),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==RN?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const o=function lU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.slice(1),f="";return"@"!=l.charAt(0)&&([l,f]=function cU(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(l)),this.engine.listen(this.namespaceId,o,l,f,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}const PN=[{provide:XP,useClass:iU},{provide:MM,useFactory:function dU(){return new M2}},{provide:kx,useClass:(()=>{class n extends kx{constructor(e,i,o,l){super(e.body,i,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(se),u.LFG(yM),u.LFG(MM),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})()},{provide:u.FYo,useFactory:function fU(n,t,e){return new sU(n,t,e)},deps:[bi,kx,u.R0b]}],LM=[{provide:yM,useFactory:()=>new nU},{provide:u.QbO,useValue:"BrowserAnimations"},...PN],NN=[{provide:yM,useClass:lN},{provide:u.QbO,useValue:"NoopAnimations"},...PN];let UM,hU=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?NN:LM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({providers:LM,imports:[Du]})}return n})(),pU=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({providers:[pU]})}return n})();try{UM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{UM=!1}let Zb,kN=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function mo(n){return n===vs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!UM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qb(n){return function gU(){if(null==Zb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zb=!0}))}finally{Zb=Zb||!1}return Zb}()?n:!!n.capture}function LN(n){return Array.isArray(n)?n:[n]}var TU=T(6321);const BN=new Set;let Vf,AU=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):RU}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function MU(n,t){if(!BN.has(n))try{Vf||(Vf=document.createElement("style"),t&&(Vf.nonce=t),Vf.setAttribute("type","text/css"),document.head.appendChild(Vf)),Vf.sheet&&(Vf.sheet.insertRule(`@media ${n} {body{ }}`,0),BN.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(kN),u.LFG(u.Ojb,8))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let OU=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ar.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return VN(LN(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let l=np(VN(LN(e)).map(f=>this._registerQuery(f).observable));return l=ip(l.pipe(As(1)),l.pipe(function DU(n){return Cr((t,e)=>n<=e)}(1),function SU(n,t=TU.z){return(0,Vi.e)((e,i)=>{let o=null,l=null,f=null;const p=()=>{if(o){o.unsubscribe(),o=null;const w=l;l=null,i.next(w)}};function g(){const w=f+n,x=t.now();if(x<w)return o=this.schedule(void 0,w-x),void i.add(o);p()}e.subscribe((0,wi.x)(i,w=>{l=w,f=t.now(),o||(o=t.schedule(g,n),i.add(o))},()=>{p(),i.complete()},void 0,()=>{l=o=null}))})}(0))),l.pipe((0,vt.U)(f=>{const p={matches:!1,breakpoints:{}};return f.forEach(({matches:g,query:w})=>{p.matches=p.matches||g,p.breakpoints[w]=g}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new tr.y(f=>{const p=g=>this._zone.run(()=>f.next(g));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(m_(i),(0,vt.U)(({matches:f})=>({query:e,matches:f})),v_(this._destroySubject)),mql:i};return this._queries.set(e,l),l}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(AU),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VN(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const zN="cdk-high-contrast-black-on-white",GN="cdk-high-contrast-white-on-black",VM="cdk-high-contrast-active";let $U=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,u.f3M)(OU).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(VM,zN,GN),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(VM,zN):2===i&&e.add(VM,GN)}}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG(kN),u.LFG(se))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})();const ZU=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function WU(){return!0}});let Yi=(()=>{class n{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function yU(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(u.LFG($U),u.LFG(ZU,8),u.LFG(se))};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[WN,WN]})}return n})();const YN=qb({passive:!0,capture:!0});class KU{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=function vU(n){return n.composedPath?n.composedPath()[0]:n.target}(t);e&&this._events.get(t.type)?.forEach((i,o)=>{(o===e||o.contains(e))&&i.forEach(l=>l.handleEvent(t))})}}addHandler(t,e,i,o){const l=this._events.get(e);if(l){const f=l.get(i);f?f.add(o):l.set(i,new Set([o]))}else this._events.set(e,new Map([[i,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,YN)})}removeHandler(t,e,i){const o=this._events.get(t);if(!o)return;const l=o.get(e);l&&(l.delete(i),0===l.size&&o.delete(e),0===o.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,YN)))}}class jM{static#e=this._eventManager=new KU;constructor(t,e,i,o){this._target=t,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=UN(i))}fadeInRipple(t,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...KN,...i.animation},f=i.radius||function XU(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}(t,e,o),p=t-o.left,g=e-o.top,w=l.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=p-f+"px",x.style.top=g-f+"px",x.style.height=2*f+"px",x.style.width=2*f+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(x);const D=window.getComputedStyle(x),W=D.transitionDuration,X="none"===D.transitionProperty||"0s"===W||"0s, 0s"===W||0===o.width&&0===o.height,me=new YU(this,x,i,X);x.style.transform="scale3d(1, 1, 1)",me.state=0,i.persistent||(this._mostRecentTransientRipple=me);return!X&&(w||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Je=()=>this._finishRippleTransition(me),dt=()=>this._destroyRipple(me);x.addEventListener("transitionend",Je),x.addEventListener("transitioncancel",dt)}),this._activeRipples.set(me,null),(X||!w)&&this._finishRippleTransition(me),me}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...KN,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=UN(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,XN.forEach(i=>{jM._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{JN.forEach(e=>{this._triggerElement.addEventListener(e,this,QN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=function VU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!function jU(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(XN.forEach(e=>jM._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&JN.forEach(e=>t.removeEventListener(e,this,QN)))}}let JU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Yi,Yi]})}return n})(),HM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Yi,fi,mU,Yi]})}return n})(),sB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})(),aB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Yi,HM,HM,sB,Yi]})}return n})(),VB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Yi,Yi]})}return n})(),ZB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Yi,fi,Yi]})}return n})(),qB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Yi,Yi]})}return n})(),QB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Yi,JU,Yi]})}return n})();var _k=T(1954);const Jb={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Jb;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=t(l=>{e=void 0,n(l)});return new Ju.w0(()=>e?.(o))},requestAnimationFrame(...n){const{delegate:t}=Jb;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Jb;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var vk=T(2631);new class JB extends vk.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class XB extends _k.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Jb.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(o=l[l.length-1])||void 0===o?void 0:o.id)!==e&&(Jb.cancelAnimationFrame(e),t._scheduled=void 0)}});let KM,tV=1;const $x={};function yk(n){return n in $x&&(delete $x[n],!0)}const nV={setImmediate(n){const t=tV++;return $x[t]=!0,KM||(KM=Promise.resolve()),KM.then(()=>yk(t)&&n()),t},clearImmediate(n){yk(n)}},{setImmediate:iV,clearImmediate:rV}=nV,zx={setImmediate(...n){const{delegate:t}=zx;return(t?.setImmediate||iV)(...n)},clearImmediate(n){const{delegate:t}=zx;return(t?.clearImmediate||rV)(n)},delegate:void 0};new class sV extends vk.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class oV extends _k.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=zx.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(o=l[l.length-1])||void 0===o?void 0:o.id)!==e&&(zx.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});let bk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})(),cV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[fi,Yi,bk,bk,Yi]})}return n})(),uV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=u.oAB({type:n,bootstrap:[gL]});static#n=this.\u0275inj=u.cJS({imports:[Du,mL,uc,ep,KF,Nf.hO.initializeApp(ru_firebase),hU,HM,VB,ZB,aB,qB,cV,QB]})}return n})();ze().bootstrapModule(uV).catch(n=>console.error(n))},5619:(qe,pe,T)=>{T.d(pe,{X:()=>z});var u=T(8645);class z extends u.x{constructor(G){super(),this._value=G}get value(){return this.getValue()}_subscribe(G){const Y=super._subscribe(G);return!Y.closed&&G.next(this._value),Y}getValue(){const{hasError:G,thrownError:Y,_value:se}=this;if(G)throw Y;return this._throwIfClosed(),se}next(G){super.next(this._value=G)}}},5592:(qe,pe,T)=>{T.d(pe,{y:()=>_e});var u=T(305),z=T(7394),B=T(4850),G=T(8407),Y=T(2653),se=T(4674),ce=T(1441);let _e=(()=>{class ee{constructor(ie){ie&&(this._subscribe=ie)}lift(ie){const Ne=new ee;return Ne.source=this,Ne.operator=ie,Ne}subscribe(ie,Ne,Le){const Fe=function k(ee){return ee&&ee instanceof u.Lv||function N(ee){return ee&&(0,se.m)(ee.next)&&(0,se.m)(ee.error)&&(0,se.m)(ee.complete)}(ee)&&(0,z.Nn)(ee)}(ie)?ie:new u.Hp(ie,Ne,Le);return(0,ce.x)(()=>{const{operator:be,source:Ge}=this;Fe.add(be?be.call(Fe,Ge):Ge?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(ie){try{return this._subscribe(ie)}catch(Ne){ie.error(Ne)}}forEach(ie,Ne){return new(Ne=oe(Ne))((Le,Fe)=>{const be=new u.Hp({next:Ge=>{try{ie(Ge)}catch(we){Fe(we),be.unsubscribe()}},error:Fe,complete:Le});this.subscribe(be)})}_subscribe(ie){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(ie)}[B.L](){return this}pipe(...ie){return(0,G.U)(ie)(this)}toPromise(ie){return new(ie=oe(ie))((Ne,Le)=>{let Fe;this.subscribe(be=>Fe=be,be=>Le(be),()=>Ne(Fe))})}}return ee.create=Ae=>new ee(Ae),ee})();function oe(ee){var Ae;return null!==(Ae=ee??Y.config.Promise)&&void 0!==Ae?Ae:Promise}},8645:(qe,pe,T)=>{T.d(pe,{x:()=>ce});var u=T(5592),z=T(7394);const G=(0,T(2306).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=T(9039),se=T(1441);let ce=(()=>{class oe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(k){const ee=new _e(this,this);return ee.operator=k,ee}_throwIfClosed(){if(this.closed)throw new G}next(k){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(k)}})}error(k){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=k;const{observers:ee}=this;for(;ee.length;)ee.shift().error(k)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:k}=this;for(;k.length;)k.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var k;return(null===(k=this.observers)||void 0===k?void 0:k.length)>0}_trySubscribe(k){return this._throwIfClosed(),super._trySubscribe(k)}_subscribe(k){return this._throwIfClosed(),this._checkFinalizedStatuses(k),this._innerSubscribe(k)}_innerSubscribe(k){const{hasError:ee,isStopped:Ae,observers:ie}=this;return ee||Ae?z.Lc:(this.currentObservers=null,ie.push(k),new z.w0(()=>{this.currentObservers=null,(0,Y.P)(ie,k)}))}_checkFinalizedStatuses(k){const{hasError:ee,thrownError:Ae,isStopped:ie}=this;ee?k.error(Ae):ie&&k.complete()}asObservable(){const k=new u.y;return k.source=this,k}}return oe.create=(N,k)=>new _e(N,k),oe})();class _e extends ce{constructor(N,k){super(),this.destination=N,this.source=k}next(N){var k,ee;null===(ee=null===(k=this.destination)||void 0===k?void 0:k.next)||void 0===ee||ee.call(k,N)}error(N){var k,ee;null===(ee=null===(k=this.destination)||void 0===k?void 0:k.error)||void 0===ee||ee.call(k,N)}complete(){var N,k;null===(k=null===(N=this.destination)||void 0===N?void 0:N.complete)||void 0===k||k.call(N)}_subscribe(N){var k,ee;return null!==(ee=null===(k=this.source)||void 0===k?void 0:k.subscribe(N))&&void 0!==ee?ee:z.Lc}}},305:(qe,pe,T)=>{T.d(pe,{Hp:()=>Le,Lv:()=>ee});var u=T(4674),z=T(7394),B=T(2653),G=T(3894),Y=T(2420);const se=oe("C",void 0,void 0);function oe(Te,Ee,xe){return{kind:Te,value:Ee,error:xe}}var N=T(7599),k=T(1441);class ee extends z.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,z.Nn)(Ee)&&Ee.add(this)):this.destination=we}static create(Ee,xe,Se){return new Le(Ee,xe,Se)}next(Ee){this.isStopped?Ge(function _e(Te){return oe("N",Te,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ge(function ce(Te){return oe("E",void 0,Te)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ge(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function ie(Te,Ee){return Ae.call(Te,Ee)}class Ne{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Ee)}catch(Se){Fe(Se)}}error(Ee){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Ee)}catch(Se){Fe(Se)}else Fe(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(xe){Fe(xe)}}}class Le extends ee{constructor(Ee,xe,Se){let q;if(super(),(0,u.m)(Ee)||!Ee)q={next:Ee??void 0,error:xe??void 0,complete:Se??void 0};else{let Q;this&&B.config.useDeprecatedNextContext?(Q=Object.create(Ee),Q.unsubscribe=()=>this.unsubscribe(),q={next:Ee.next&&ie(Ee.next,Q),error:Ee.error&&ie(Ee.error,Q),complete:Ee.complete&&ie(Ee.complete,Q)}):q=Ee}this.destination=new Ne(q)}}function Fe(Te){B.config.useDeprecatedSynchronousErrorHandling?(0,k.O)(Te):(0,G.h)(Te)}function Ge(Te,Ee){const{onStoppedNotification:xe}=B.config;xe&&N.z.setTimeout(()=>xe(Te,Ee))}const we={closed:!0,next:Y.Z,error:function be(Te){throw Te},complete:Y.Z}},7394:(qe,pe,T)=>{T.d(pe,{Lc:()=>se,w0:()=>Y,Nn:()=>ce});var u=T(4674);const B=(0,T(2306).d)(oe=>function(k){oe(this),this.message=k?`${k.length} errors occurred during unsubscription:\n${k.map((ee,Ae)=>`${Ae+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=k});var G=T(9039);class Y{constructor(N){this.initialTeardown=N,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let N;if(!this.closed){this.closed=!0;const{_parentage:k}=this;if(k)if(this._parentage=null,Array.isArray(k))for(const ie of k)ie.remove(this);else k.remove(this);const{initialTeardown:ee}=this;if((0,u.m)(ee))try{ee()}catch(ie){N=ie instanceof B?ie.errors:[ie]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const ie of Ae)try{_e(ie)}catch(Ne){N=N??[],Ne instanceof B?N=[...N,...Ne.errors]:N.push(Ne)}}if(N)throw new B(N)}}add(N){var k;if(N&&N!==this)if(this.closed)_e(N);else{if(N instanceof Y){if(N.closed||N._hasParent(this))return;N._addParent(this)}(this._finalizers=null!==(k=this._finalizers)&&void 0!==k?k:[]).push(N)}}_hasParent(N){const{_parentage:k}=this;return k===N||Array.isArray(k)&&k.includes(N)}_addParent(N){const{_parentage:k}=this;this._parentage=Array.isArray(k)?(k.push(N),k):k?[k,N]:N}_removeParent(N){const{_parentage:k}=this;k===N?this._parentage=null:Array.isArray(k)&&(0,G.P)(k,N)}remove(N){const{_finalizers:k}=this;k&&(0,G.P)(k,N),N instanceof Y&&N._removeParent(this)}}Y.EMPTY=(()=>{const oe=new Y;return oe.closed=!0,oe})();const se=Y.EMPTY;function ce(oe){return oe instanceof Y||oe&&"closed"in oe&&(0,u.m)(oe.remove)&&(0,u.m)(oe.add)&&(0,u.m)(oe.unsubscribe)}function _e(oe){(0,u.m)(oe)?oe():oe.unsubscribe()}},2653:(qe,pe,T)=>{T.d(pe,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(qe,pe,T)=>{T.d(pe,{E:()=>z});const z=new(T(5592).y)(Y=>Y.complete())},2459:(qe,pe,T)=>{T.d(pe,{D:()=>Ee});var u=T(4829),z=T(3093),B=T(5137),se=T(5592),_e=T(4971),oe=T(4674),N=T(7103);function ee(xe,Se){if(!xe)throw new Error("Iterable cannot be null");return new se.y(q=>{(0,N.f)(q,Se,()=>{const Q=xe[Symbol.asyncIterator]();(0,N.f)(q,Se,()=>{Q.next().then(J=>{J.done?q.complete():q.next(J.value)})},0,!0)})})}var Ae=T(8382),ie=T(4026),Ne=T(4266),Le=T(3664),Fe=T(5726),be=T(9853),Ge=T(541);function Ee(xe,Se){return Se?function Te(xe,Se){if(null!=xe){if((0,Ae.c)(xe))return function G(xe,Se){return(0,u.Xf)(xe).pipe((0,B.R)(Se),(0,z.Q)(Se))}(xe,Se);if((0,Ne.z)(xe))return function ce(xe,Se){return new se.y(q=>{let Q=0;return Se.schedule(function(){Q===xe.length?q.complete():(q.next(xe[Q++]),q.closed||this.schedule())})})}(xe,Se);if((0,ie.t)(xe))return function Y(xe,Se){return(0,u.Xf)(xe).pipe((0,B.R)(Se),(0,z.Q)(Se))}(xe,Se);if((0,Fe.D)(xe))return ee(xe,Se);if((0,Le.T)(xe))return function k(xe,Se){return new se.y(q=>{let Q;return(0,N.f)(q,Se,()=>{Q=xe[_e.h](),(0,N.f)(q,Se,()=>{let J,Ce;try{({value:J,done:Ce}=Q.next())}catch(Ct){return void q.error(Ct)}Ce?q.complete():q.next(J)},0,!0)}),()=>(0,oe.m)(Q?.return)&&Q.return()})}(xe,Se);if((0,Ge.L)(xe))return function we(xe,Se){return ee((0,Ge.Q)(xe),Se)}(xe,Se)}throw(0,be.z)(xe)}(xe,Se):(0,u.Xf)(xe)}},4829:(qe,pe,T)=>{T.d(pe,{Xf:()=>Ae});var u=T(7582),z=T(4266),B=T(4026),G=T(5592),Y=T(8382),se=T(5726),ce=T(9853),_e=T(3664),oe=T(541),N=T(4674),k=T(3894),ee=T(4850);function Ae(Te){if(Te instanceof G.y)return Te;if(null!=Te){if((0,Y.c)(Te))return function ie(Te){return new G.y(Ee=>{const xe=Te[ee.L]();if((0,N.m)(xe.subscribe))return xe.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,z.z)(Te))return function Ne(Te){return new G.y(Ee=>{for(let xe=0;xe<Te.length&&!Ee.closed;xe++)Ee.next(Te[xe]);Ee.complete()})}(Te);if((0,B.t)(Te))return function Le(Te){return new G.y(Ee=>{Te.then(xe=>{Ee.closed||(Ee.next(xe),Ee.complete())},xe=>Ee.error(xe)).then(null,k.h)})}(Te);if((0,se.D)(Te))return be(Te);if((0,_e.T)(Te))return function Fe(Te){return new G.y(Ee=>{for(const xe of Te)if(Ee.next(xe),Ee.closed)return;Ee.complete()})}(Te);if((0,oe.L)(Te))return function Ge(Te){return be((0,oe.Q)(Te))}(Te)}throw(0,ce.z)(Te)}function be(Te){return new G.y(Ee=>{(function we(Te,Ee){var xe,Se,q,Q;return(0,u.mG)(this,void 0,void 0,function*(){try{for(xe=(0,u.KL)(Te);!(Se=yield xe.next()).done;)if(Ee.next(Se.value),Ee.closed)return}catch(J){q={error:J}}finally{try{Se&&!Se.done&&(Q=xe.return)&&(yield Q.call(xe))}finally{if(q)throw q.error}}Ee.complete()})})(Te,Ee).catch(xe=>Ee.error(xe))})}},3019:(qe,pe,T)=>{T.d(pe,{T:()=>se});var u=T(7537),z=T(4829),B=T(6232),G=T(4564),Y=T(2459);function se(...ce){const _e=(0,G.yG)(ce),oe=(0,G._6)(ce,1/0),N=ce;return N.length?1===N.length?(0,z.Xf)(N[0]):(0,u.J)(oe)((0,Y.D)(N,_e)):B.E}},2096:(qe,pe,T)=>{T.d(pe,{of:()=>B});var u=T(4564),z=T(2459);function B(...G){const Y=(0,u.yG)(G);return(0,z.D)(G,Y)}},8251:(qe,pe,T)=>{T.d(pe,{x:()=>z});var u=T(305);function z(G,Y,se,ce,_e){return new B(G,Y,se,ce,_e)}class B extends u.Lv{constructor(Y,se,ce,_e,oe,N){super(Y),this.onFinalize=oe,this.shouldUnsubscribe=N,this._next=se?function(k){try{se(k)}catch(ee){Y.error(ee)}}:super._next,this._error=_e?function(k){try{_e(k)}catch(ee){Y.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(k){Y.error(k)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},7398:(qe,pe,T)=>{T.d(pe,{U:()=>B});var u=T(9360),z=T(8251);function B(G,Y){return(0,u.e)((se,ce)=>{let _e=0;se.subscribe((0,z.x)(ce,oe=>{ce.next(G.call(Y,oe,_e++))}))})}},7537:(qe,pe,T)=>{T.d(pe,{J:()=>B});var u=T(1631),z=T(2737);function B(G=1/0){return(0,u.z)(z.y,G)}},1631:(qe,pe,T)=>{T.d(pe,{z:()=>_e});var u=T(7398),z=T(4829),B=T(9360),G=T(7103),Y=T(8251),ce=T(4674);function _e(oe,N,k=1/0){return(0,ce.m)(N)?_e((ee,Ae)=>(0,u.U)((ie,Ne)=>N(ee,ie,Ae,Ne))((0,z.Xf)(oe(ee,Ae))),k):("number"==typeof N&&(k=N),(0,B.e)((ee,Ae)=>function se(oe,N,k,ee,Ae,ie,Ne,Le){const Fe=[];let be=0,Ge=0,we=!1;const Te=()=>{we&&!Fe.length&&!be&&N.complete()},Ee=Se=>be<ee?xe(Se):Fe.push(Se),xe=Se=>{ie&&N.next(Se),be++;let q=!1;(0,z.Xf)(k(Se,Ge++)).subscribe((0,Y.x)(N,Q=>{Ae?.(Q),ie?Ee(Q):N.next(Q)},()=>{q=!0},void 0,()=>{if(q)try{for(be--;Fe.length&&be<ee;){const Q=Fe.shift();Ne?(0,G.f)(N,Ne,()=>xe(Q)):xe(Q)}Te()}catch(Q){N.error(Q)}}))};return oe.subscribe((0,Y.x)(N,Ee,()=>{we=!0,Te()})),()=>{Le?.()}}(ee,Ae,oe,k)))}},3093:(qe,pe,T)=>{T.d(pe,{Q:()=>G});var u=T(7103),z=T(9360),B=T(8251);function G(Y,se=0){return(0,z.e)((ce,_e)=>{ce.subscribe((0,B.x)(_e,oe=>(0,u.f)(_e,Y,()=>_e.next(oe),se),()=>(0,u.f)(_e,Y,()=>_e.complete(),se),oe=>(0,u.f)(_e,Y,()=>_e.error(oe),se)))})}},3020:(qe,pe,T)=>{T.d(pe,{B:()=>Y});var u=T(4829),z=T(8645),B=T(305),G=T(9360);function Y(ce={}){const{connector:_e=(()=>new z.x),resetOnError:oe=!0,resetOnComplete:N=!0,resetOnRefCountZero:k=!0}=ce;return ee=>{let Ae,ie,Ne,Le=0,Fe=!1,be=!1;const Ge=()=>{ie?.unsubscribe(),ie=void 0},we=()=>{Ge(),Ae=Ne=void 0,Fe=be=!1},Te=()=>{const Ee=Ae;we(),Ee?.unsubscribe()};return(0,G.e)((Ee,xe)=>{Le++,!be&&!Fe&&Ge();const Se=Ne=Ne??_e();xe.add(()=>{Le--,0===Le&&!be&&!Fe&&(ie=se(Te,k))}),Se.subscribe(xe),!Ae&&Le>0&&(Ae=new B.Hp({next:q=>Se.next(q),error:q=>{be=!0,Ge(),ie=se(we,oe,q),Se.error(q)},complete:()=>{Fe=!0,Ge(),ie=se(we,N),Se.complete()}}),(0,u.Xf)(Ee).subscribe(Ae))})(ee)}}function se(ce,_e,...oe){if(!0===_e)return void ce();if(!1===_e)return;const N=new B.Hp({next:()=>{N.unsubscribe(),ce()}});return(0,u.Xf)(_e(...oe)).subscribe(N)}},5137:(qe,pe,T)=>{T.d(pe,{R:()=>z});var u=T(9360);function z(B,G=0){return(0,u.e)((Y,se)=>{se.add(B.schedule(()=>Y.subscribe(se),G))})}},4664:(qe,pe,T)=>{T.d(pe,{w:()=>G});var u=T(4829),z=T(9360),B=T(8251);function G(Y,se){return(0,z.e)((ce,_e)=>{let oe=null,N=0,k=!1;const ee=()=>k&&!oe&&_e.complete();ce.subscribe((0,B.x)(_e,Ae=>{oe?.unsubscribe();let ie=0;const Ne=N++;(0,u.Xf)(Y(Ae,Ne)).subscribe(oe=(0,B.x)(_e,Le=>_e.next(se?se(Ae,Le,Ne,ie++):Le),()=>{oe=null,ee()}))},()=>{k=!0,ee()}))})}},9397:(qe,pe,T)=>{T.d(pe,{b:()=>Y});var u=T(4674),z=T(9360),B=T(8251),G=T(2737);function Y(se,ce,_e){const oe=(0,u.m)(se)||ce||_e?{next:se,error:ce,complete:_e}:se;return oe?(0,z.e)((N,k)=>{var ee;null===(ee=oe.subscribe)||void 0===ee||ee.call(oe);let Ae=!0;N.subscribe((0,B.x)(k,ie=>{var Ne;null===(Ne=oe.next)||void 0===Ne||Ne.call(oe,ie),k.next(ie)},()=>{var ie;Ae=!1,null===(ie=oe.complete)||void 0===ie||ie.call(oe),k.complete()},ie=>{var Ne;Ae=!1,null===(Ne=oe.error)||void 0===Ne||Ne.call(oe,ie),k.error(ie)},()=>{var ie,Ne;Ae&&(null===(ie=oe.unsubscribe)||void 0===ie||ie.call(oe)),null===(Ne=oe.finalize)||void 0===Ne||Ne.call(oe)}))}):G.y}},1954:(qe,pe,T)=>{T.d(pe,{o:()=>Y});var u=T(7394);class z extends u.w0{constructor(ce,_e){super()}schedule(ce,_e=0){return this}}const B={setInterval(se,ce,..._e){const{delegate:oe}=B;return oe?.setInterval?oe.setInterval(se,ce,..._e):setInterval(se,ce,..._e)},clearInterval(se){const{delegate:ce}=B;return(ce?.clearInterval||clearInterval)(se)},delegate:void 0};var G=T(9039);class Y extends z{constructor(ce,_e){super(ce,_e),this.scheduler=ce,this.work=_e,this.pending=!1}schedule(ce,_e=0){var oe;if(this.closed)return this;this.state=ce;const N=this.id,k=this.scheduler;return null!=N&&(this.id=this.recycleAsyncId(k,N,_e)),this.pending=!0,this.delay=_e,this.id=null!==(oe=this.id)&&void 0!==oe?oe:this.requestAsyncId(k,this.id,_e),this}requestAsyncId(ce,_e,oe=0){return B.setInterval(ce.flush.bind(ce,this),oe)}recycleAsyncId(ce,_e,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return _e;null!=_e&&B.clearInterval(_e)}execute(ce,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ce,_e);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,_e){let N,oe=!1;try{this.work(ce)}catch(k){oe=!0,N=k||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),N}unsubscribe(){if(!this.closed){const{id:ce,scheduler:_e}=this,{actions:oe}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(oe,this),null!=ce&&(this.id=this.recycleAsyncId(_e,ce,null)),this.delay=null,super.unsubscribe()}}}},2631:(qe,pe,T)=>{T.d(pe,{v:()=>B});var u=T(4552);class z{constructor(Y,se=z.now){this.schedulerActionCtor=Y,this.now=se}schedule(Y,se=0,ce){return new this.schedulerActionCtor(this,Y).schedule(ce,se)}}z.now=u.l.now;class B extends z{constructor(Y,se=z.now){super(Y,se),this.actions=[],this._active=!1}flush(Y){const{actions:se}=this;if(this._active)return void se.push(Y);let ce;this._active=!0;do{if(ce=Y.execute(Y.state,Y.delay))break}while(Y=se.shift());if(this._active=!1,ce){for(;Y=se.shift();)Y.unsubscribe();throw ce}}}},6321:(qe,pe,T)=>{T.d(pe,{z:()=>B});var u=T(1954);const B=new(T(2631).v)(u.o)},4552:(qe,pe,T)=>{T.d(pe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},7599:(qe,pe,T)=>{T.d(pe,{z:()=>u});const u={setTimeout(z,B,...G){const{delegate:Y}=u;return Y?.setTimeout?Y.setTimeout(z,B,...G):setTimeout(z,B,...G)},clearTimeout(z){const{delegate:B}=u;return(B?.clearTimeout||clearTimeout)(z)},delegate:void 0}},4971:(qe,pe,T)=>{T.d(pe,{h:()=>z});const z=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(qe,pe,T)=>{T.d(pe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(qe,pe,T)=>{T.d(pe,{_6:()=>se,jO:()=>G,yG:()=>Y});var u=T(4674);function B(ce){return ce[ce.length-1]}function G(ce){return(0,u.m)(B(ce))?ce.pop():void 0}function Y(ce){return function z(ce){return ce&&(0,u.m)(ce.schedule)}(B(ce))?ce.pop():void 0}function se(ce,_e){return"number"==typeof B(ce)?ce.pop():_e}},9039:(qe,pe,T)=>{function u(z,B){if(z){const G=z.indexOf(B);0<=G&&z.splice(G,1)}}T.d(pe,{P:()=>u})},2306:(qe,pe,T)=>{function u(z){const G=z(Y=>{Error.call(Y),Y.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}T.d(pe,{d:()=>u})},1441:(qe,pe,T)=>{T.d(pe,{O:()=>G,x:()=>B});var u=T(2653);let z=null;function B(Y){if(u.config.useDeprecatedSynchronousErrorHandling){const se=!z;if(se&&(z={errorThrown:!1,error:null}),Y(),se){const{errorThrown:ce,error:_e}=z;if(z=null,ce)throw _e}}else Y()}function G(Y){u.config.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=Y)}},7103:(qe,pe,T)=>{function u(z,B,G,Y=0,se=!1){const ce=B.schedule(function(){G(),se?z.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(z.add(ce),!se)return ce}T.d(pe,{f:()=>u})},2737:(qe,pe,T)=>{function u(z){return z}T.d(pe,{y:()=>u})},4266:(qe,pe,T)=>{T.d(pe,{z:()=>u});const u=z=>z&&"number"==typeof z.length&&"function"!=typeof z},5726:(qe,pe,T)=>{T.d(pe,{D:()=>z});var u=T(4674);function z(B){return Symbol.asyncIterator&&(0,u.m)(B?.[Symbol.asyncIterator])}},4674:(qe,pe,T)=>{function u(z){return"function"==typeof z}T.d(pe,{m:()=>u})},8382:(qe,pe,T)=>{T.d(pe,{c:()=>B});var u=T(4850),z=T(4674);function B(G){return(0,z.m)(G[u.L])}},3664:(qe,pe,T)=>{T.d(pe,{T:()=>B});var u=T(4971),z=T(4674);function B(G){return(0,z.m)(G?.[u.h])}},4026:(qe,pe,T)=>{T.d(pe,{t:()=>z});var u=T(4674);function z(B){return(0,u.m)(B?.then)}},541:(qe,pe,T)=>{T.d(pe,{L:()=>G,Q:()=>B});var u=T(7582),z=T(4674);function B(Y){return(0,u.FC)(this,arguments,function*(){const ce=Y.getReader();try{for(;;){const{value:_e,done:oe}=yield(0,u.qq)(ce.read());if(oe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(_e)}}finally{ce.releaseLock()}})}function G(Y){return(0,z.m)(Y?.getReader)}},9360:(qe,pe,T)=>{T.d(pe,{A:()=>z,e:()=>B});var u=T(4674);function z(G){return(0,u.m)(G?.lift)}function B(G){return Y=>{if(z(Y))return Y.lift(function(se){try{return G(se,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(qe,pe,T)=>{function u(){}T.d(pe,{Z:()=>u})},8407:(qe,pe,T)=>{T.d(pe,{U:()=>B,z:()=>z});var u=T(2737);function z(...G){return B(G)}function B(G){return 0===G.length?u.y:1===G.length?G[0]:function(se){return G.reduce((ce,_e)=>_e(ce),se)}}},3894:(qe,pe,T)=>{T.d(pe,{h:()=>B});var u=T(2653),z=T(7599);function B(G){z.z.setTimeout(()=>{const{onUnhandledError:Y}=u.config;if(!Y)throw G;Y(G)})}},9853:(qe,pe,T)=>{function u(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(pe,{z:()=>u})},8926:(qe,pe,T)=>{T.d(pe,{QbO:()=>hw,tb:()=>Wc,AFp:()=>L_,ip1:()=>Xt,hGG:()=>rA,z2F:()=>Kc,Ojb:()=>U_,sBO:()=>Km,Sil:()=>US,EJc:()=>hn,Xts:()=>as,SBq:()=>Cd,lqb:()=>Do,qLn:()=>So,vpe:()=>Ao,XFs:()=>et,OlP:()=>Bt,zs3:()=>Ir,ZZ4:()=>rg,aQg:()=>og,soG:()=>wf,YKP:()=>Py,h0i:()=>ll,PXZ:()=>wt,R0b:()=>Zn,FiY:()=>zu,Lbi:()=>pp,g9A:()=>vd,Qsj:()=>ER,FYo:()=>yw,JOm:()=>Zh,q3G:()=>Ns,tp0:()=>jh,Rgc:()=>ul,dDg:()=>OC,eoX:()=>PC,q4F:()=>Ga,GfV:()=>xd,s_b:()=>Gs,ifc:()=>hr,VuI:()=>Tb,MMx:()=>$E,Lck:()=>jE,eFA:()=>Gm,Gpc:()=>Ge,f3M:()=>Ot,X6Q:()=>Ym,$WT:()=>aa,_c5:()=>sg,qFp:()=>mA,rg0:()=>va,c2e:()=>TC,zSh:()=>O_,HDt:()=>Vm,wAp:()=>Vc,vHH:()=>q,lri:()=>yl,rWj:()=>fb,JZr:()=>Se,EiD:()=>dd,mCW:()=>ld,qzn:()=>xr,JVY:()=>sd,pB0:()=>ad,eBb:()=>SI,L6k:()=>w_,LAX:()=>lp,cg1:()=>xm,kL8:()=>wE,dqk:()=>Ft,Z0I:()=>Vn,eJc:()=>gf,QGY:()=>Uv,F4k:()=>im,RDi:()=>Os,AaK:()=>Le,z3N:()=>ss,qOj:()=>Md,Xq5:()=>$p,TTD:()=>wa,_Bn:()=>VE,jDz:()=>zE,xp6:()=>cD,uIk:()=>Ro,ekj:()=>Wd,Suo:()=>$c,Xpm:()=>Xf,lG2:()=>th,Yz7:()=>rt,cJS:()=>Yn,oAB:()=>eh,Yjl:()=>gu,Y36:()=>Ls,_UZ:()=>jd,qZA:()=>em,TgZ:()=>Oc,EpF:()=>nm,n5z:()=>Jg,LFG:()=>at,$8M:()=>b,$Z:()=>sv,NdJ:()=>Bv,CRH:()=>lC,oxw:()=>oE,ALo:()=>oS,xi3:()=>$y,Hsn:()=>tT,F$t:()=>zd,Q6J:()=>Bd,iGM:()=>fl,KtG:()=>zg,CHM:()=>Tu,P3R:()=>sw,YNc:()=>Kp,_uU:()=>fE,Oqu:()=>hE,hij:()=>Bc});var u=T(8645),z=T(7394),B=T(5592),G=T(3019),Y=T(5619),se=T(2096),ce=T(3020),_e=T(4664),oe=T(2737),N=T(9360),k=T(8251);function Ae(r,s){return r===s}function ie(r){for(let s in r)if(r[s]===ie)return s;throw Error("Could not find renamed property on target object.")}function Ne(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function Le(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Le).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Fe(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const be=ie({__forward_ref__:ie});function Ge(r){return r.__forward_ref__=Ge,r.toString=function(){return Le(this())},r}function we(r){return Te(r)?r():r}function Te(r){return"function"==typeof r&&r.hasOwnProperty(be)&&r.__forward_ref__===Ge}function Ee(r){return r&&!!r.\u0275providers}const Se="https://g.co/ng/security#xss";class q extends Error{constructor(s,a){super(function Q(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function J(r){return"string"==typeof r?r:null==r?"":String(r)}function $t(r,s){throw new q(-201,!1)}function ct(r,s){null==r&&function Re(r,s,a,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,r,null,"!=")}function rt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Yn(r){return{providers:r.providers||[],imports:r.imports||[]}}function si(r){return Rr(r,bn)||Rr(r,mt)}function Vn(r){return null!==si(r)}function Rr(r,s){return r.hasOwnProperty(s)?r[s]:null}function dr(r){return r&&(r.hasOwnProperty(ot)||r.hasOwnProperty(ai))?r[ot]:null}const bn=ie({\u0275prov:ie}),ot=ie({\u0275inj:ie}),mt=ie({ngInjectableDef:ie}),ai=ie({ngInjectorDef:ie});var et=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(et||{});let pn;function It(r){const s=pn;return pn=r,s}function fr(r,s,a){const c=si(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&et.Optional?null:void 0!==s?s:void $t(Le(r))}const Ft=globalThis,P={},O="__NG_DI_FLAG__",j="ngTempTokenPath",te=/\n/gm,ht="__source";let Rt;function ln(r){const s=Rt;return Rt=r,s}function Oi(r,s=et.Default){if(void 0===Rt)throw new q(-203,!1);return null===Rt?fr(r,void 0,s):Rt.get(r,s&et.Optional?null:void 0,s)}function at(r,s=et.Default){return(function yi(){return pn}()||Oi)(we(r),s)}function Ot(r,s=et.Default){return at(r,ho(s))}function ho(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function na(r){const s=[];for(let a=0;a<r.length;a++){const c=we(r[a]);if(Array.isArray(c)){if(0===c.length)throw new q(900,!1);let d,h=et.Default;for(let m=0;m<c.length;m++){const _=c[m],y=ra(_);"number"==typeof y?-1===y?d=_.token:h|=y:d=_}s.push(at(d,h))}else s.push(at(c))}return s}function ia(r,s){return r[O]=s,r.prototype[O]=s,r}function ra(r){return r[O]}function Xi(r){return{toString:r}.toString()}var Go=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Go||{}),hr=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(hr||{});const Ji={},kt=[],uu=ie({\u0275cmp:ie}),du=ie({\u0275dir:ie}),Wo=ie({\u0275pipe:ie}),fu=ie({\u0275mod:ie}),er=ie({\u0275fac:ie}),oa=ie({__NG_ELEMENT_ID__:ie}),sa=ie({__NG_ENV_ID__:ie});function Wf(r,s,a){let c=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const h=s.length;if(d+h===c||r.charCodeAt(d+h)<=32)return d}a=d+1}}function gs(r,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const h=a[c++],m=a[c++],_=a[c++];r.setAttribute(s,m,_,h)}else{const h=d,m=a[++c];t0(h)?r.setProperty(s,h,m):r.setAttribute(s,h,m),c++}}return c}function hu(r){return 3===r||4===r||6===r}function t0(r){return 64===r.charCodeAt(0)}function po(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||bg(r,a,d,null,-1===a||2===a?s[++c]:null)}}return r}function bg(r,s,a,c,d){let h=0,m=r.length;if(-1===s)m=-1;else for(;h<r.length;){const _=r[h++];if("number"==typeof _){if(_===s){m=-1;break}if(_>s){m=h-1;break}}}for(;h<r.length;){const _=r[h];if("number"==typeof _)break;if(_===a){if(null===c)return void(null!==d&&(r[h+1]=d));if(c===r[h+1])return void(r[h+2]=d)}h++,null!==c&&h++,null!==d&&h++}-1!==m&&(r.splice(m,0,s),h=m+1),r.splice(h++,0,a),null!==c&&r.splice(h++,0,c),null!==d&&r.splice(h++,0,d)}const Zf="ng-template";function pu(r,s,a){let c=0,d=!0;for(;c<r.length;){let h=r[c++];if("string"==typeof h&&d){const m=r[c++];if(a&&"class"===h&&-1!==Wf(m.toLowerCase(),s,0))return!0}else{if(1===h){for(;c<r.length&&"string"==typeof(h=r[c++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(d=!1)}}return!1}function _s(r){return 4===r.type&&r.value!==Zf}function qf(r,s,a){return s===(4!==r.type||a?r.value:Zf)}function wg(r,s,a){let c=4;const d=r.attrs||[],h=function Cg(r){for(let s=0;s<r.length;s++)if(hu(r[s]))return s;return r.length}(d);let m=!1;for(let _=0;_<s.length;_++){const y=s[_];if("number"!=typeof y){if(!m)if(4&c){if(c=2|1&c,""!==y&&!qf(r,y,a)||""===y&&1===s.length){if(pr(c))return!1;m=!0}}else{const E=8&c?y:s[++_];if(8&c&&null!==r.attrs){if(!pu(r.attrs,E,a)){if(pr(c))return!1;m=!0}continue}const M=Yf(8&c?"class":y,d,_s(r),a);if(-1===M){if(pr(c))return!1;m=!0;continue}if(""!==E){let V;V=M>h?"":d[M+1].toLowerCase();const $=8&c?V:null;if($&&-1!==Wf($,E,0)||2&c&&E!==V){if(pr(c))return!1;m=!0}}}}else{if(!m&&!pr(c)&&!pr(y))return!1;if(m&&pr(y))continue;m=!1,c=y|1&c}}return pr(c)||m}function pr(r){return 0==(1&r)}function Yf(r,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let h=!1;for(;d<s.length;){const m=s[d];if(m===r)return d;if(3===m||6===m)h=!0;else{if(1===m||2===m){let _=s[++d];for(;"string"==typeof _;)_=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=h?1:2}return-1}return function n0(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const c=r[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,r)}function Eg(r,s,a=!1){for(let c=0;c<s.length;c++)if(wg(r,s[c],a))return!0;return!1}function Pi(r,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(r.length===c.length){for(let d=0;d<r.length;d++)if(r[d]!==c[d])continue e;return!0}}return!1}function Qf(r,s){return r?":not("+s.trim()+")":s}function ui(r){let s=r[0],a=1,c=2,d="",h=!1;for(;a<r.length;){let m=r[a];if("string"==typeof m)if(2&c){const _=r[++a];d+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!pr(m)&&(s+=Qf(h,d),d=""),c=m,h=h||!pr(c);a++}return""!==d&&(s+=Qf(h,d)),s}function Xf(r){return Xi(()=>{const s=la(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Go.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||hr.Emulated,styles:r.styles||kt,_:null,schemas:r.schemas||null,tView:null,id:""};nh(a);const c=r.dependencies;return a.directiveDefs=Dl(c,!1),a.pipeDefs=Dl(c,!0),a.id=function Ag(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Dg(r){return Dt(r)||jn(r)}function mu(r){return null!==r}function eh(r){return Xi(()=>({type:r.type,bootstrap:r.bootstrap||kt,declarations:r.declarations||kt,imports:r.imports||kt,exports:r.exports||kt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Il(r,s){if(null==r)return Ji;const a={};for(const c in r)if(r.hasOwnProperty(c)){let d=r[c],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),a[d]=c,s&&(s[d]=h)}return a}function th(r){return Xi(()=>{const s=la(r);return nh(s),s})}function gu(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Dt(r){return r[uu]||null}function jn(r){return r[du]||null}function di(r){return r[Wo]||null}function aa(r){const s=Dt(r)||jn(r)||di(r);return null!==s&&s.standalone}function Ni(r,s){const a=r[fu]||null;if(!a&&!0===s)throw new Error(`Type ${Le(r)} does not have '\u0275mod' property.`);return a}function la(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Ji,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||kt,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Il(r.inputs,s),outputs:Il(r.outputs)}}function nh(r){r.features?.forEach(s=>s(r))}function Dl(r,s){if(!r)return null;const a=s?di:Dg;return()=>("function"==typeof r?r():r).map(c=>a(c)).filter(mu)}const on=0,Ve=1,gt=2,cn=3,fi=4,vs=5,Hn=6,Nr=7,Wt=8,mo=9,go=10,pt=11,Tl=12,Mg=13,ys=14,wn=15,Zo=16,ca=17,ki=18,Sl=19,ua=20,_o=21,kr=22,da=23,bs=24,_t=25,Al=1,Ml=2,mr=7,qo=9,kn=11;function mn(r){return Array.isArray(r)&&"object"==typeof r[Al]}function $n(r){return Array.isArray(r)&&!0===r[Al]}function Rl(r){return 0!=(4&r.flags)}function Fr(r){return r.componentOffset>-1}function Ol(r){return 1==(1&r.flags)}function gr(r){return!!r.template}function Pl(r){return 0!=(512&r[gt])}function vo(r,s){return r.hasOwnProperty(er)?r[er]:null}let Mn=null,pa=!1;function Fi(r){const s=Mn;return Mn=r,s}const ma={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ng(r){if(!Ko(r)||r.dirty){if(!r.producerMustRecompute(r)&&!dh(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function bu(r){r.dirty=!0,function Fn(r){if(void 0===r.liveConsumerNode)return;const s=pa;pa=!0;try{for(const a of r.liveConsumerNode)a.dirty||bu(a)}finally{pa=s}}(r),r.consumerMarkedDirty?.(r)}function uh(r){return r&&(r.nextProducerIndex=0),Fi(r)}function Nl(r,s){if(Fi(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Ko(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)ws(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function dh(r){Es(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],c=r.producerLastReadVersion[s];if(c!==a.version||(Ng(a),c!==a.version))return!0}return!1}function kl(r){if(Es(r),Ko(r))for(let s=0;s<r.producerNode.length;s++)ws(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function ws(r,s){if(function kg(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Es(r),1===r.liveConsumerNode.length)for(let c=0;c<r.producerNode.length;c++)ws(r.producerNode[c],r.producerIndexOfThis[c]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const c=r.liveConsumerIndexOfThis[s],d=r.liveConsumerNode[s];Es(d),d.producerIndexOfThis[c]=s}}function Ko(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Es(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let hh=null;function va(r){const s=Fi(null);try{return r()}finally{Fi(s)}}const Bl=()=>{},ya=(()=>({...ma,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Bl}))();class ba{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function wa(){return Ea}function Ea(r){return r.type.prototype.ngOnChanges&&(r.setInput=Cu),_h}function _h(){const r=Vl(this),s=r?.current;if(s){const a=r.previous;if(a===Ji)r.previous=s;else for(let c in s)a[c]=s[c];r.current=null,this.ngOnChanges(s)}}function Cu(r,s,a,c){const d=this.declaredInputs[a],h=Vl(r)||function jg(r,s){return r[vh]=s}(r,{previous:Ji,current:null}),m=h.current||(h.current={}),_=h.previous,y=_[d];m[d]=new ba(y&&y.currentValue,s,_===Ji),r[c]=s}wa.ngInherit=!0;const vh="__ngSimpleChanges__";function Vl(r){return r[vh]||null}const bi=function(r,s,a){};function Jt(r){for(;Array.isArray(r);)r=r[on];return r}function xa(r,s){return Jt(s[r])}function Rn(r,s){return Jt(s[r.index])}function $l(r,s){return r.data[s]}function Li(r,s){const a=s[r];return mn(a)?a:a[on]}function Cs(r,s){return null==s?null:r[s]}function xs(r){r[ca]=0}function h0(r){1024&r[gt]||(r[gt]|=1024,Eh(r,1))}function wh(r){1024&r[gt]&&(r[gt]&=-1025,Eh(r,-1))}function Eh(r,s){let a=r[cn];if(null===a)return;a[vs]+=s;let c=a;for(a=a[cn];null!==a&&(1===s&&1===c[vs]||-1===s&&0===c[vs]);)a[vs]+=s,c=a,a=a[cn]}const ze={lFrame:Yl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Dh(){return ze.bindingsEnabled}function Ia(){return null!==ze.skipHydrationRootTNode}function ve(){return ze.lFrame.lView}function Tt(){return ze.lFrame.tView}function Tu(r){return ze.lFrame.contextLView=r,r[Wt]}function zg(r){return ze.lFrame.contextLView=null,r}function zn(){let r=Sh();for(;null!==r&&64===r.type;)r=r.parent;return r}function Sh(){return ze.lFrame.currentTNode}function Ur(r,s){const a=ze.lFrame;a.currentTNode=r,a.isParent=s}function Wl(){return ze.lFrame.isParent}function Ah(){ze.lFrame.isParent=!1}function Vr(){return ze.lFrame.bindingIndex++}function Oh(r,s){const a=ze.lFrame;a.bindingIndex=a.bindingRootIndex=r,Zl(s)}function Zl(r){ze.lFrame.currentDirectiveIndex=r}function gn(){return ze.lFrame.currentQueryIndex}function tr(r){ze.lFrame.currentQueryIndex=r}function Mu(r){const s=r[Ve];return 2===s.type?s.declTNode:1===s.type?r[Hn]:null}function Nh(r,s,a){if(a&et.SkipSelf){let d=s,h=r;for(;!(d=d.parent,null!==d||a&et.Host||(d=Mu(h),null===d||(h=h[ys],10&d.type))););if(null===d)return!1;s=d,r=h}const c=ze.lFrame=ql();return c.currentTNode=s,c.lView=r,!0}function Ta(r){const s=ql(),a=r[Ve];ze.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ql(){const r=ze.lFrame,s=null===r?null:r.child;return null===s?Yl(r):s}function Yl(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Ru(){const r=ze.lFrame;return ze.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Sa=Ru;function jr(){const r=Ru();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Qn(){return ze.lFrame.selectedIndex}function Gn(r){ze.lFrame.selectedIndex=r}function en(){const r=ze.lFrame;return $l(r.tView,r.selectedIndex)}let Kl=!0;function Ql(){return Kl}function wo(r){Kl=r}function Nu(r,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const h=r.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:y,ngAfterViewChecked:E,ngOnDestroy:I}=h;m&&(r.contentHooks??=[]).push(-a,m),_&&((r.contentHooks??=[]).push(a,_),(r.contentCheckHooks??=[]).push(a,_)),y&&(r.viewHooks??=[]).push(-a,y),E&&((r.viewHooks??=[]).push(a,E),(r.viewCheckHooks??=[]).push(a,E)),null!=I&&(r.destroyHooks??=[]).push(a,I)}}function yr(r,s,a){Wn(r,s,3,a)}function nr(r,s,a,c){(3&r[gt])===a&&Wn(r,s,a,c)}function Is(r,s){let a=r[gt];(3&a)===s&&(a&=8191,a+=1,r[gt]=a)}function Wn(r,s,a,c){const h=c??-1,m=s.length-1;let _=0;for(let y=void 0!==c?65535&r[ca]:0;y<m;y++)if("number"==typeof s[y+1]){if(_=s[y],null!=c&&_>=c)break}else s[y]<0&&(r[ca]+=65536),(_<h||-1==h)&&(ku(r,a,s,y),r[ca]=(4294901760&r[ca])+y+2),y++}function Eo(r,s){bi(4,r,s);const a=Fi(null);try{s.call(r)}finally{Fi(a),bi(5,r,s)}}function ku(r,s,a,c){const d=a[c]<0,h=a[c+1],_=r[d?-a[c]:a[c]];d?r[gt]>>13<r[ca]>>16&&(3&r[gt])===s&&(r[gt]+=8192,Eo(_,h)):Eo(_,h)}const br=-1;class Ma{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Jl(r){return r!==br}function Ds(r){return 32767&r}function Ts(r,s){let a=function kh(r){return r>>16}(r),c=s;for(;a>0;)c=c[ys],a--;return c}let Fh=!0;function Ra(r){const s=Fh;return Fh=r,s}const ec=255,Bu=5;let Vu=0;const Ei={};function Xo(r,s){const a=es(r,s);if(-1!==a)return a;const c=s[Ve];c.firstCreatePass&&(r.injectorIndex=s.length,Jo(c.data,r),Jo(s,null),Jo(c.blueprint,null));const d=ts(r,s),h=r.injectorIndex;if(Jl(d)){const m=Ds(d),_=Ts(d,s),y=_[Ve].data;for(let E=0;E<8;E++)s[h+E]=_[m+E]|y[m+E]}return s[h+8]=d,h}function Jo(r,s){r.push(0,0,0,0,0,0,0,0,s)}function es(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function ts(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=v(d),null===c)return br;if(a++,d=d[ys],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return br}function Ss(r,s,a){!function tc(r,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(oa)&&(c=a[oa]),null==c&&(c=a[oa]=Vu++);const d=c&ec;s.data[r+(d>>Bu)]|=1<<d}(r,s,a)}function Xn(r,s,a){if(a&et.Optional||void 0!==r)return r;$t()}function Co(r,s,a,c){if(a&et.Optional&&void 0===c&&(c=null),!(a&(et.Self|et.Host))){const d=r[mo],h=It(void 0);try{return d?d.get(s,c,a&et.Optional):fr(s,c,a&et.Optional)}finally{It(h)}}return Xn(c,0,a)}function ju(r,s,a,c=et.Default,d){if(null!==r){if(2048&s[gt]&&!(c&et.Self)){const m=function tI(r,s,a,c,d){let h=r,m=s;for(;null!==h&&null!==m&&2048&m[gt]&&!(512&m[gt]);){const _=Qg(h,m,a,c|et.Self,Ei);if(_!==Ei)return _;let y=h.parent;if(!y){const E=m[ua];if(E){const I=E.get(a,Ei,c);if(I!==Ei)return I}y=v(m),m=m[ys]}h=y}return d}(r,s,a,c,Ei);if(m!==Ei)return m}const h=Qg(r,s,a,c,Ei);if(h!==Ei)return h}return Co(s,a,c,d)}function Qg(r,s,a,c,d){const h=function Hu(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(oa)?r[oa]:void 0;return"number"==typeof s?s>=0?s&ec:Xg:s}(a);if("function"==typeof h){if(!Nh(s,r,c))return c&et.Host?Xn(d,0,c):Co(s,a,c,d);try{let m;if(m=h(c),null!=m||c&et.Optional)return m;$t()}finally{Sa()}}else if("number"==typeof h){let m=null,_=es(r,s),y=br,E=c&et.Host?s[wn][Hn]:null;for((-1===_||c&et.SkipSelf)&&(y=-1===_?ts(r,s):s[_+8],y!==br&&Lh(c,!1)?(m=s[Ve],_=Ds(y),s=Ts(y,s)):_=-1);-1!==_;){const I=s[Ve];if(ir(h,_,I.data)){const M=Oa(_,s,a,m,c,E);if(M!==Ei)return M}y=s[_+8],y!==br&&Lh(c,s[Ve].data[_+8]===E)&&ir(h,_,s)?(m=I,_=Ds(y),s=Ts(y,s)):_=-1}}return d}function Oa(r,s,a,c,d,h){const m=s[Ve],_=m.data[r+8],I=Hr(_,m,a,null==c?Fr(_)&&Fh:c!=m&&0!=(3&_.type),d&et.Host&&h===_);return null!==I?wr(s,m,I,_):Ei}function Hr(r,s,a,c,d){const h=r.providerIndexes,m=s.data,_=1048575&h,y=r.directiveStart,I=h>>20,V=d?_+I:r.directiveEnd;for(let $=c?_:_+I;$<V;$++){const fe=m[$];if($<y&&a===fe||$>=y&&fe.type===a)return $}if(d){const $=m[y];if($&&gr($)&&$.type===a)return y}return null}function wr(r,s,a,c){let d=r[a];const h=s.data;if(function Zg(r){return r instanceof Ma}(d)){const m=d;m.resolving&&function Ct(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new q(-200,`Circular dependency in DI detected for ${r}${a}`)}(function Ce(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():J(r)}(h[a]));const _=Ra(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?It(m.injectImpl):null;Nh(r,c,et.Default);try{d=r[a]=m.factory(void 0,h,r,c),s.firstCreatePass&&a>=c.directiveStart&&function Wg(r,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(c){const m=Ea(s);(a.preOrderHooks??=[]).push(r,m),(a.preOrderCheckHooks??=[]).push(r,m)}d&&(a.preOrderHooks??=[]).push(0-r,d),h&&((a.preOrderHooks??=[]).push(r,h),(a.preOrderCheckHooks??=[]).push(r,h))}(a,h[a],s)}finally{null!==E&&It(E),Ra(_),m.resolving=!1,Sa()}}return d}function ir(r,s,a){return!!(a[s+(r>>Bu)]&1<<r)}function Lh(r,s){return!(r&et.Self||r&et.Host&&s)}class xi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return ju(this._tNode,this._lView,s,ho(c),a)}}function Xg(){return new xi(zn(),ve())}function Jg(r){return Xi(()=>{const s=r.prototype.constructor,a=s[er]||Uh(s),c=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==c;){const h=d[er]||Uh(d);if(h&&h!==a)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Uh(r){return Te(r)?()=>{const s=Uh(we(r));return s&&s()}:vo(r)}function v(r){const s=r[Ve],a=s.type;return 2===a?s.declTNode:1===a?r[Hn]:null}function b(r){return function Kg(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const h=a[d];if(hu(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(h===s)return a[d+1];d+=2}}}return null}(zn(),r)}const S="__parameters__";function Oe(r,s,a){return Xi(()=>{const c=function re(r){return function(...a){if(r){const c=r(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...h){if(this instanceof d)return c.apply(this,h),this;const m=new d(...h);return _.annotation=m,_;function _(y,E,I){const M=y.hasOwnProperty(S)?y[S]:Object.defineProperty(y,S,{value:[]})[S];for(;M.length<=I;)M.push(null);return(M[I]=M[I]||[]).push(m),y}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}function Er(r,s){r.forEach(a=>Array.isArray(a)?Er(a,s):s(a))}function nc(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Na(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function ns(r,s){const a=[];for(let c=0;c<r;c++)a.push(s);return a}function hi(r,s,a){let c=ic(r,s);return c>=0?r[1|c]=a:(c=~c,function nI(r,s,a,c){let d=r.length;if(d==s)r.push(a,c);else if(1===d)r.push(c,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=c}}(r,c,s,a)),c}function t_(r,s){const a=ic(r,s);if(a>=0)return r[1|a]}function ic(r,s){return function E0(r,s,a){let c=0,d=r.length>>a;for(;d!==c;){const h=c+(d-c>>1),m=r[h<<a];if(s===m)return h<<a;m>s?d=h:c=h+1}return~(d<<a)}(r,s,1)}const zu=ia(Oe("Optional"),8),jh=ia(Oe("SkipSelf"),4);function cc(r){return 128==(128&r.flags)}var Zh=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Zh||{});const l_=new Map;let k0=0;const Qu="__ngContext__";function Jn(r,s){mn(s)?(r[Qu]=s[Sl],function Fa(r){l_.set(r[Sl],r)}(s)):r[Qu]=s}let Kh;function Qh(r,s){return Kh(r,s)}function Xh(r){const s=r[cn];return $n(s)?s[cn]:s}function _I(r){return yI(r[Tl])}function vI(r){return yI(r[fi])}function yI(r){for(;null!==r&&!$n(r);)r=r[fi];return r}function uc(r,s,a,c,d){if(null!=c){let h,m=!1;$n(c)?h=c:mn(c)&&(m=!0,c=c[on]);const _=Jt(c);0===r&&null!==a?null==d?Ju(s,a,_):Bi(s,a,_,d||null,!0):1===r&&null!==a?Bi(s,a,_,d||null,!0):2===r?function Cn(r,s,a){const c=ar(r,s);c&&function p_(r,s,a,c){r.removeChild(s,a,c)}(r,c,s,a)}(s,_,m):3===r&&s.destroyNode(_),null!=h&&function CI(r,s,a,c,d){const h=a[mr];h!==Jt(a)&&uc(s,r,c,h,d);for(let _=kn;_<a.length;_++){const y=a[_];id(y[Ve],y,r,s,c,h)}}(s,r,h,a,d)}}function Qe(r,s,a){return r.createElement(s,a)}function Z0(r,s){const a=r[qo],c=a.indexOf(s);wh(s),a.splice(c,1)}function La(r,s){if(r.length<=kn)return;const a=kn+s,c=r[a];if(c){const d=c[Zo];null!==d&&d!==r&&Z0(d,c),s>0&&(r[a-1][fi]=c[fi]);const h=Na(r,kn+s);!function zr(r,s){id(r,s,s[pt],2,null,null),s[on]=null,s[Hn]=null}(c[Ve],c);const m=h[ki];null!==m&&m.detachView(h[Ve]),c[cn]=null,c[fi]=null,c[gt]&=-129}return c}function Ua(r,s){if(!(256&s[gt])){const a=s[pt];s[da]&&kl(s[da]),s[bs]&&kl(s[bs]),a.destroyNode&&id(r,s,a,3,null,null),function np(r){let s=r[Tl];if(!s)return f_(r[Ve],r);for(;s;){let a=null;if(mn(s))a=s[Tl];else{const c=s[kn];c&&(a=c)}if(!a){for(;s&&!s[fi]&&s!==r;)mn(s)&&f_(s[Ve],s),s=s[cn];null===s&&(s=r),mn(s)&&f_(s[Ve],s),a=s&&s[fi]}s=a}}(s)}}function f_(r,s){if(!(256&s[gt])){s[gt]&=-129,s[gt]|=256,function q0(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Ma)){const h=a[c+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const _=d[h[m]],y=h[m+1];bi(4,_,y);try{y.call(_)}finally{bi(5,_,y)}}else{bi(4,d,h);try{h.call(d)}finally{bi(5,d,h)}}}}}(r,s),function ip(r,s){const a=r.cleanup,c=s[Nr];if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const m=a[h+3];m>=0?c[m]():c[-m].unsubscribe(),h+=2}else a[h].call(c[a[h+1]]);null!==c&&(s[Nr]=null);const d=s[_o];if(null!==d){s[_o]=null;for(let h=0;h<d.length;h++)(0,d[h])()}}(r,s),1===s[Ve].type&&s[pt].destroy();const a=s[Zo];if(null!==a&&$n(s[cn])){a!==s[cn]&&Z0(a,s);const c=s[ki];null!==c&&c.detachView(r)}!function U0(r){l_.delete(r[Sl])}(s)}}function h_(r,s,a){return function Ba(r,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[on];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:h}=r.data[c.directiveStart+d];if(h===hr.None||h===hr.Emulated)return null}return Rn(c,a)}}(r,s.parent,a)}function Bi(r,s,a,c,d){r.insertBefore(s,a,c,d)}function Ju(r,s,a){r.appendChild(s,a)}function Vi(r,s,a,c,d){null!==c?Bi(r,s,a,c,d):Ju(r,s,a)}function ar(r,s){return r.parentNode(s)}function As(r,s,a){return Cr(r,s,a)}let ti,Rs,op,rd,Cr=function m_(r,s,a){return 40&r.type?Rn(r,a):null};function td(r,s,a,c){const d=h_(r,c,s),h=s[pt],_=As(c.parent||s[Hn],c,s);if(null!=d)if(Array.isArray(a))for(let y=0;y<a.length;y++)Vi(h,d,a[y],_,!1);else Vi(h,d,a,_,!1);void 0!==ti&&ti(h,c,s,a,d)}function nd(r,s){if(null!==s){const a=s.type;if(3&a)return Rn(s,r);if(4&a)return Ms(-1,r[s.index]);if(8&a){const c=s.child;if(null!==c)return nd(r,c);{const d=r[s.index];return $n(d)?Ms(-1,d):Jt(d)}}if(32&a)return Qh(s,r)()||Jt(r[s.index]);{const c=is(r,s);return null!==c?Array.isArray(c)?c[0]:nd(Xh(r[wn]),c):nd(r,s.next)}}return null}function is(r,s){return null!==s?r[wn][Hn].projection[s.projection]:null}function Ms(r,s){const a=kn+r+1;if(a<s.length){const c=s[a],d=c[Ve].firstChild;if(null!==d)return nd(c,d)}return s[mr]}function g_(r,s,a,c,d,h,m){for(;null!=a;){const _=c[a.index],y=a.type;if(m&&0===s&&(_&&Jn(Jt(_),c),a.flags|=2),32!=(32&a.flags))if(8&y)g_(r,s,a.child,c,d,h,!1),uc(s,r,d,_,h);else if(32&y){const E=Qh(a,c);let I;for(;I=E();)uc(s,r,d,I,h);uc(s,r,d,_,h)}else 16&y?Y0(r,s,c,a,d,h):uc(s,r,d,_,h);a=m?a.projectionNext:a.next}}function id(r,s,a,c,d,h){g_(a,c,r.firstChild,s,d,h,!1)}function Y0(r,s,a,c,d,h){const m=a[wn],y=m[Hn].projection[c.projection];if(Array.isArray(y))for(let E=0;E<y.length;E++)uc(s,r,d,y[E],h);else{let E=y;const I=m[cn];cc(c)&&(E.flags|=128),g_(r,s,E,I,d,h,!0)}}function v_(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function yt(r,s,a){const{mergedAttrs:c,classes:d,styles:h}=a;null!==c&&gs(r,s,c),null!==d&&v_(r,s,d),null!==h&&function xI(r,s,a){r.setAttribute(s,"style",a)}(r,s,h)}function Gr(r){return function y_(){if(void 0===Rs&&(Rs=null,Ft.trustedTypes))try{Rs=Ft.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Rs}()?.createHTML(r)||r}function Os(r){op=r}function X0(r){return function sp(){if(void 0===rd&&(rd=null,Ft.trustedTypes))try{rd=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return rd}()?.createScriptURL(r)||r}class Ps{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Se})`}}class J0 extends Ps{getTypeName(){return"HTML"}}class ap extends Ps{getTypeName(){return"Style"}}class hc extends Ps{getTypeName(){return"Script"}}class Zt extends Ps{getTypeName(){return"URL"}}class od extends Ps{getTypeName(){return"ResourceURL"}}function ss(r){return r instanceof Ps?r.changingThisBreaksApplicationSecurity:r}function xr(r,s){const a=function TI(r){return r instanceof Ps&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Se})`)}return a===s}function sd(r){return new J0(r)}function w_(r){return new ap(r)}function SI(r){return new hc(r)}function lp(r){return new Zt(r)}function ad(r){return new od(r)}class cp{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Gr(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class AI{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Gr(s),a}}const up=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ld(r){return(r=String(r)).match(up)?r:"unsafe:"+r}function xo(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function cd(...r){const s={};for(const a of r)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const ew=xo("area,br,col,hr,img,wbr"),tw=xo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dp=xo("rp,rt"),x_=cd(ew,cd(tw,xo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cd(dp,xo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cd(dp,tw)),I_=xo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),D_=cd(I_,xo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nw=xo("script,style,template");class MI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!x_.hasOwnProperty(a))return this.sanitizedSomething=!0,!nw.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let d=0;d<c.length;d++){const h=c.item(d),m=h.name,_=m.toLowerCase();if(!D_.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let y=h.value;I_[_]&&(y=ld(y)),this.buf.push(" ",m,'="',T_(y),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();x_.hasOwnProperty(a)&&!ew.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(T_(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Va=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RI=/([^\#-~ |!])/g;function T_(r){return r.replace(/&/g,"&amp;").replace(Va,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(RI,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ud;function dd(r,s){let a=null;try{ud=ud||function E_(r){const s=new AI(r);return function C_(){try{return!!(new window.DOMParser).parseFromString(Gr(""),"text/html")}catch{return!1}}()?new cp(s):s}(r);let c=s?String(s):"";a=ud.getInertBodyElement(c);let d=5,h=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=h,h=a.innerHTML,a=ud.getInertBodyElement(c)}while(c!==h);return Gr((new MI).sanitizeChildren(ja(a)||a))}finally{if(a){const c=ja(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ja(r){return"content"in r&&function S_(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ns=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Ns||{});function fd(r){const s=pc();return s?s.sanitize(Ns.URL,r)||"":xr(r,"URL")?ss(r):ld(J(r))}function rw(r){const s=pc();if(s)return X0(s.sanitize(Ns.RESOURCE_URL,r)||"");if(xr(r,"ResourceURL"))return X0(ss(r));throw new q(904,!1)}function sw(r,s,a){return function hd(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?rw:fd}(s,a)(r)}function pc(){const r=ve();return r&&r[go].sanitizer}class Bt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=rt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const as=new Bt("ENVIRONMENT_INITIALIZER"),Wr=new Bt("INJECTOR",-1),pd=new Bt("INJECTOR_DEF_TYPES");class Io{get(s,a=P){if(a===P){const c=new Error(`NullInjectorError: No provider for ${Le(s)}!`);throw c.name="NullInjectorError",c}return a}}function gc(...r){return{\u0275providers:md(0,r),\u0275fromNgModule:!0}}function md(r,...s){const a=[],c=new Set;let d;const h=m=>{a.push(m)};return Er(s,m=>{const _=m;fp(_,h,[],c)&&(d||=[],d.push(_))}),void 0!==d&&A_(d,h),a}function A_(r,s){for(let a=0;a<r.length;a++){const{ngModule:c,providers:d}=r[a];M_(d,h=>{s(h,c)})}}function fp(r,s,a,c){if(!(r=we(r)))return!1;let d=null,h=dr(r);const m=!h&&Dt(r);if(h||m){if(m&&!m.standalone)return!1;d=r}else{const y=r.ngModule;if(h=dr(y),!h)return!1;d=y}const _=c.has(d);if(m){if(_)return!1;if(c.add(d),m.dependencies){const y="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const E of y)fp(E,s,a,c)}}else{if(!h)return!1;{if(null!=h.imports&&!_){let E;c.add(d);try{Er(h.imports,I=>{fp(I,s,a,c)&&(E||=[],E.push(I))})}finally{}void 0!==E&&A_(E,s)}if(!_){const E=vo(d)||(()=>new d);s({provide:d,useFactory:E,deps:kt},d),s({provide:pd,useValue:d,multi:!0},d),s({provide:as,useValue:()=>at(d),multi:!0},d)}const y=h.providers;if(null!=y&&!_){const E=r;M_(y,I=>{s(I,E)})}}}return d!==r&&void 0!==r.providers}function M_(r,s){for(let a of r)Ee(a)&&(a=a.\u0275providers),Array.isArray(a)?M_(a,s):s(a)}const kI=ie({provide:String,useValue:ie});function R_(r){return null!==r&&"object"==typeof r&&kI in r}function Ha(r){return"function"==typeof r}const O_=new Bt("Set Injector scope."),gd={},P_={};let _d;function N_(){return void 0===_d&&(_d=new Io),_d}class Do{}class ks extends Do{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fs(s,m=>this.processProvider(m)),this.records.set(Wr,Zr(void 0,this)),d.has("environment")&&this.records.set(Do,Zr(void 0,this));const h=this.records.get(O_);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(pd.multi,kt,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=ln(this),c=It(void 0);try{return s()}finally{ln(a),It(c)}}get(s,a=P,c=et.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(sa))return s[sa](this);c=ho(c);const h=ln(this),m=It(void 0);try{if(!(c&et.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=function LI(r){return"function"==typeof r||"object"==typeof r&&r instanceof Bt}(s)&&si(s);y=E&&this.injectableDefInScope(E)?Zr(hp(s),gd):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(c&et.Self?N_():this.parent).get(s,a=c&et.Optional&&a===P?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[j]=_[j]||[]).unshift(Le(s)),h)throw _;return function Gf(r,s,a,c){const d=r[j];throw s[ht]&&d.unshift(s[ht]),r.message=function yg(r,s,a,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=Le(s);if(Array.isArray(s))d=s.map(Le).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let _=s[m];h.push(m+":"+("string"==typeof _?JSON.stringify(_):Le(_)))}d=`{${h.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${r.replace(te,"\n  ")}`}("\n"+r.message,d,a,c),r.ngTokenPath=d,r[j]=null,r}(_,s,"R3InjectorError",this.source)}throw _}finally{It(m),ln(h)}}resolveInjectorInitializers(){const s=ln(this),a=It(void 0);try{const d=this.get(as.multi,kt,et.Self);for(const h of d)h()}finally{ln(s),It(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(Le(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(s){let a=Ha(s=we(s))?s:we(s&&s.provide);const c=function F_(r){return R_(r)?Zr(void 0,r.useValue):Zr(To(r),gd)}(s);if(Ha(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Zr(void 0,gd,!0),d.factory=()=>na(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===gd&&(a.value=P_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function dw(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=we(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function hp(r){const s=si(r),a=null!==s?s.factory:vo(r);if(null!==a)return a;if(r instanceof Bt)throw new q(204,!1);if(r instanceof Function)return function k_(r){const s=r.length;if(s>0)throw ns(s,"?"),new q(204,!1);const a=function Or(r){return r&&(r[bn]||r[mt])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new q(204,!1)}function To(r,s,a){let c;if(Ha(r)){const d=we(r);return vo(d)||hp(d)}if(R_(r))c=()=>we(r.useValue);else if(function cw(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...na(r.deps||[]));else if(function lw(r){return!(!r||!r.useExisting)}(r))c=()=>at(we(r.useExisting));else{const d=we(r&&(r.useClass||r.provide));if(!function uw(r){return!!r.deps}(r))return vo(d)||hp(d);c=()=>new d(...na(r.deps))}return c}function Zr(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Fs(r,s){for(const a of r)Array.isArray(a)?Fs(a,s):a&&Ee(a)?Fs(a.\u0275providers,s):s(a)}const L_=new Bt("AppId",{providedIn:"root",factory:()=>UI}),UI="ng",vd=new Bt("Platform Initializer"),pp=new Bt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hw=new Bt("AnimationModuleType"),U_=new Bt("CSP nonce",{providedIn:"root",factory:()=>function fc(){if(void 0!==op)return op;if(typeof document<"u")return document;throw new q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let gw=(r,s,a)=>null;function $_(r,s,a=!1){return gw(r,s,a)}class bc{}class wc{}class Ed{resolveComponentFactory(s){throw function jI(r){const s=Error(`No component factory found for ${Le(r)}.`);return s.ngComponent=r,s}(s)}}let xp=(()=>{class r{static#e=this.NULL=new Ed}return r})();function HI(){return Ec(zn(),ve())}function Ec(r,s){return new Cd(Rn(r,s))}let Cd=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=HI}return r})();function $I(r){return r instanceof Cd?r.nativeElement:r}class yw{}let ER=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function zI(){const r=ve(),a=Li(zn().index,r);return(mn(a)?a:r)[pt]}()}return r})(),bw=(()=>{class r{static#e=this.\u0275prov=rt({token:r,providedIn:"root",factory:()=>null})}return r})();class xd{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ga=new xd("16.2.10"),W_={};function Y_(r,s=null,a=null,c){const d=Wa(r,s,a,c);return d.resolveInjectorInitializers(),d}function Wa(r,s=null,a=null,c,d=new Set){const h=[a||kt,gc(r)];return c=c||("object"==typeof r?void 0:Le(r)),new ks(h,s||N_(),c||null,d)}let Ir=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=P;static#t=this.NULL=new Io;static create(a,c){if(Array.isArray(a))return Y_({name:""},c,a,"");{const d=a.name??"";return Y_({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=rt({token:r,providedIn:"any",factory:()=>at(Wr)});static#i=this.__NG_ELEMENT_ID__=-1}return r})();function K_(r){return r.ngOriginalError}class So{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&K_(s);for(;a&&K_(a);)a=K_(a);return a||null}}function J_(r){return s=>{setTimeout(r,void 0,s)}}const Ao=class KI extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,h=a||(()=>null),m=c;if(s&&"object"==typeof s){const y=s;d=y.next?.bind(y),h=y.error?.bind(y),m=y.complete?.bind(y)}this.__isAsync&&(h=J_(h),d&&(d=J_(d)),m&&(m=J_(m)));const _=super.subscribe({next:d,error:h,complete:m});return s instanceof z.w0&&s.add(_),_}};function Dw(...r){}class Zn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ao(!1),this.onMicrotaskEmpty=new Ao(!1),this.onStable=new Ao(!1),this.onError=new Ao(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Ip(){const r="function"==typeof Ft.requestAnimationFrame;let s=Ft[r?"requestAnimationFrame":"setTimeout"],a=Ft[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function JI(r){const s=()=>{!function XI(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Ft,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Dp(r),r.isCheckStableRunning=!0,ev(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Dp(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,h,m,_)=>{if(function tD(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(_))return a.invokeTask(d,h,m,_);try{return eD(r),a.invokeTask(d,h,m,_)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&s(),tv(r)}},onInvoke:(a,c,d,h,m,_,y)=>{try{return eD(r),a.invoke(d,h,m,_,y)}finally{r.shouldCoalesceRunChangeDetection&&s(),tv(r)}},onHasTask:(a,c,d,h)=>{a.hasTask(d,h),c===d&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Dp(r),ev(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,c,d,h)=>(a.handleError(d,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zn.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Zn.isInAngularZone())throw new q(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+d,s,QI,Dw,Dw);try{return h.runTask(m,a,c)}finally{h.cancelTask(m)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const QI={};function ev(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Dp(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function eD(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function tv(r){r._nesting--,ev(r)}class Tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ao,this.onMicrotaskEmpty=new Ao,this.onStable=new Ao,this.onError=new Ao}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const Sw=new Bt("",{providedIn:"root",factory:Aw});function Aw(){const r=Ot(Zn);let s=!0;const a=new B.y(d=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new B.y(d=>{let h;r.runOutsideAngular(()=>{h=r.onStable.subscribe(()=>{Zn.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const m=r.onUnstable.subscribe(()=>{Zn.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{d.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});return(0,G.T)(a,c.pipe((0,ce.B)()))}function Yr(r){return r instanceof Function?r():r}let Cc=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=rt({token:r,providedIn:"root",factory:()=>new r})}return r})();function xc(r){for(;r;){r[gt]|=64;const s=Xh(r);if(Pl(r)&&!s)return r;r=s}return null}const Pw=new Bt("",{providedIn:"root",factory:()=>!1});let Ap=null;function rv(r,s){return r[s]??ov()}function Mp(r,s){const a=ov();a.producerNode?.length&&(r[s]=Ap,a.lView=r,Ap=Uw())}const lD={...ma,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{xc(r.lView)},lView:null};function Uw(){return Object.create(lD)}function ov(){return Ap??=Uw(),Ap}const bt={};function cD(r){Bw(Tt(),ve(),Qn()+r,!1)}function Bw(r,s,a,c){if(!c)if(3==(3&s[gt])){const h=r.preOrderCheckHooks;null!==h&&yr(s,h,a)}else{const h=r.preOrderHooks;null!==h&&nr(s,h,0,a)}Gn(a)}function Ls(r,s=et.Default){const a=ve();return null===a?at(r,s):ju(zn(),a,we(r),s)}function sv(){throw new Error("invalid")}function Dd(r,s,a,c,d,h,m,_,y,E,I){const M=s.blueprint.slice();return M[on]=d,M[gt]=140|c,(null!==E||r&&2048&r[gt])&&(M[gt]|=2048),xs(M),M[cn]=M[ys]=r,M[Wt]=a,M[go]=m||r&&r[go],M[pt]=_||r&&r[pt],M[mo]=y||r&&r[mo]||null,M[Hn]=h,M[Sl]=function F0(){return k0++}(),M[kr]=I,M[ua]=E,M[wn]=2==s.type?r[wn]:M,M}function ji(r,s,a,c,d){let h=r.data[s];if(null===h)h=function av(r,s,a,c,d){const h=Sh(),m=Wl(),y=r.data[s]=function fD(r,s,a,c,d,h){let m=s?s.injectorIndex:-1,_=0;return Ia()&&(_|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,a,s,c,d);return null===r.firstChild&&(r.firstChild=y),null!==h&&(m?null==h.child&&null!==y.parent&&(h.child=y):null===h.next&&(h.next=y,y.prev=h)),y}(r,s,a,c,d),function Rh(){return ze.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=a,h.value=c,h.attrs=d;const m=function Da(){const r=ze.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Ur(h,!0),h}function Rp(r,s,a,c){if(0===a)return-1;const d=s.length;for(let h=0;h<a;h++)s.push(c),r.blueprint.push(c),r.data.push(null);return d}function uD(r,s,a,c,d){const h=rv(s,da),m=Qn(),_=2&c;try{Gn(-1),_&&s.length>_t&&Bw(r,s,_t,!1),bi(_?2:0,d);const E=_?h:null,I=uh(E);try{null!==E&&(E.dirty=!1),a(c,d)}finally{Nl(E,I)}}finally{_&&null===s[da]&&Mp(s,da),Gn(m),bi(_?3:1,d)}}function Vw(r,s,a){if(Rl(s)){const c=Fi(null);try{const h=s.directiveEnd;for(let m=s.directiveStart;m<h;m++){const _=r.data[m];_.contentQueries&&_.contentQueries(1,a[m],m)}}finally{Fi(c)}}}function Op(r,s,a){Dh()&&(function NR(r,s,a,c){const d=a.directiveStart,h=a.directiveEnd;Fr(a)&&function Ic(r,s,a){const c=Rn(s,r),d=Np(a);let m=16;a.signals?m=4096:a.onPush&&(m=64);const _=Td(r,Dd(r,d,null,m,c,s,null,r[go].rendererFactory.createRenderer(c,a),null,null,null));r[s.index]=_}(s,a,r.data[d+a.componentOffset]),r.firstCreatePass||Xo(a,s),Jn(c,s);const m=a.initialInputs;for(let _=d;_<h;_++){const y=r.data[_],E=wr(s,r,_,a);Jn(E,s),null!==m&&UR(0,_-d,E,y,0,m),gr(y)&&(Li(a.index,s)[Wt]=wr(s,r,_,a))}}(r,s,a,Rn(a,s)),64==(64&a.flags)&&yD(r,s,a))}function Pp(r,s,a=Rn){const c=s.localNames;if(null!==c){let d=s.index+1;for(let h=0;h<c.length;h+=2){const m=c[h+1],_=-1===m?a(s,r):r[m];r[d++]=_}}}function Np(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=lv(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function lv(r,s,a,c,d,h,m,_,y,E,I){const M=_t+c,V=M+d,$=function dD(r,s){const a=[];for(let c=0;c<s;c++)a.push(c<r?null:bt);return a}(M,V),fe="function"==typeof E?E():E;return $[Ve]={type:r,blueprint:$,template:a,queries:null,viewQuery:_,declTNode:s,data:$.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:y,consts:fe,incompleteFirstPass:!1,ssrId:I}}let Hw=r=>null;function hD(r,s,a,c){for(let d in r)if(r.hasOwnProperty(d)){a=null===a?{}:a;const h=r[d];null===c?cv(a,s,d,h):c.hasOwnProperty(d)&&cv(a,s,c[d],h)}return a}function cv(r,s,a,c){r.hasOwnProperty(a)?r[a].push(s,c):r[a]=[s,c]}function uv(r,s,a,c){if(Dh()){const d=null===c?null:{"":-1},h=function FR(r,s){const a=r.directiveRegistry;let c=null,d=null;if(a)for(let h=0;h<a.length;h++){const m=a[h];if(Eg(s,m.selectors,!1))if(c||(c=[]),gr(m))if(null!==m.findHostDirectiveDefs){const _=[];d=d||new Map,m.findHostDirectiveDefs(m,_,d),c.unshift(..._,m),Gw(r,s,_.length)}else c.unshift(m),Gw(r,s,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,c,d),c.push(m)}return null===c?null:[c,d]}(r,a);let m,_;null===h?m=_=null:[m,_]=h,null!==m&&$w(r,s,a,m,d,_),d&&function LR(r,s,a){if(s){const c=r.localNames=[];for(let d=0;d<s.length;d+=2){const h=a[s[d+1]];if(null==h)throw new q(-301,!1);c.push(s[d],h)}}}(a,c,d)}a.mergedAttrs=po(a.mergedAttrs,a.attrs)}function $w(r,s,a,c,d,h){for(let E=0;E<c.length;E++)Ss(Xo(a,s),r,c[E].type);!function F(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,c.length);for(let E=0;E<c.length;E++){const I=c[E];I.providersResolver&&I.providersResolver(I)}let m=!1,_=!1,y=Rp(r,s,c.length,null);for(let E=0;E<c.length;E++){const I=c[E];a.mergedAttrs=po(a.mergedAttrs,I.hostAttrs),qt(r,a,s,y,I),he(y,I,d),null!==I.contentQueries&&(a.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(a.flags|=64);const M=I.type.prototype;!m&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),m=!0),!_&&(M.ngOnChanges||M.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),_=!0),y++}!function pD(r,s,a){const d=s.directiveEnd,h=r.data,m=s.attrs,_=[];let y=null,E=null;for(let I=s.directiveStart;I<d;I++){const M=h[I],V=a?a.get(M):null,fe=V?V.outputs:null;y=hD(M.inputs,I,y,V?V.inputs:null),E=hD(M.outputs,I,E,fe);const De=null===y||null===m||_s(s)?null:BR(y,I,m);_.push(De)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=8),y.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=_,s.inputs=y,s.outputs=E}(r,a,h)}function yD(r,s,a){const c=a.directiveStart,d=a.directiveEnd,h=a.index,m=function g0(){return ze.lFrame.currentDirectiveIndex}();try{Gn(h);for(let _=c;_<d;_++){const y=r.data[_],E=s[_];Zl(_),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&kR(y,E)}}finally{Gn(-1),Zl(m)}}function kR(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Gw(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function he(r,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=r;gr(s)&&(a[""]=r)}}function qt(r,s,a,c,d){r.data[c]=d;const h=d.factory||(d.factory=vo(d.type)),m=new Ma(h,gr(d),Ls);r.blueprint[c]=m,a[c]=m,function zw(r,s,a,c,d){const h=d.hostBindings;if(h){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const _=~s.index;(function vD(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=_&&m.push(_),m.push(a,c,h)}}(r,s,c,Rp(r,a,d.hostVars,bt),d)}function Qr(r,s,a,c,d,h){const m=Rn(r,s);!function qa(r,s,a,c,d,h,m){if(null==h)r.removeAttribute(s,d,a);else{const _=null==m?J(h):m(h,c||"",d);r.setAttribute(s,d,_,a)}}(s[pt],m,h,r.value,a,c,d)}function UR(r,s,a,c,d,h){const m=h[s];if(null!==m)for(let _=0;_<m.length;)bD(c,a,m[_++],m[_++],m[_++])}function bD(r,s,a,c,d){const h=Fi(null);try{const m=r.inputTransforms;null!==m&&m.hasOwnProperty(c)&&(d=m[c].call(s,d)),null!==r.setInput?r.setInput(s,d,a,c):s[c]=d}finally{Fi(h)}}function BR(r,s,a){let c=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;if(r.hasOwnProperty(h)){null===c&&(c=[]);const m=r[h];for(let _=0;_<m.length;_+=2)if(m[_]===s){c.push(h,m[_+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function wD(r,s,a,c){return[r,!0,!1,s,null,0,c,a,null,null,null]}function ED(r,s){const a=r.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c+1];if(-1!==h){const m=r.data[h];tr(a[c]),m.contentQueries(2,s[h],h)}}}function Td(r,s){return r[Tl]?r[Mg][fi]=s:r[Tl]=s,r[Mg]=s,s}function kp(r,s,a){tr(0);const c=Fi(null);try{s(r,a)}finally{Fi(c)}}function xD(r){return r[Nr]||(r[Nr]=[])}function dv(r){return r.cleanup||(r.cleanup=[])}function Ww(r,s){const a=r[mo],c=a?a.get(So,null):null;c&&c.handleError(s)}function Fp(r,s,a,c,d){for(let h=0;h<a.length;){const m=a[h++],_=a[h++];bD(r.data[m],s[m],c,_,d)}}function Lp(r,s){const a=Li(s,r),c=a[Ve];!function DD(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(c,a);const d=a[on];null!==d&&null===a[kr]&&(a[kr]=$_(d,a[mo])),Dc(c,a,a[Wt])}function Dc(r,s,a){Ta(s);try{const c=r.viewQuery;null!==c&&kp(1,c,a);const d=r.template;null!==d&&uD(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&ED(r,s),r.staticViewQueries&&kp(2,r.viewQuery,a);const h=r.components;null!==h&&function $i(r,s){for(let a=0;a<s.length;a++)Lp(r,s[a])}(s,h)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{s[gt]&=-5,jr()}}let Xr=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const h=typeof Zone>"u"?null:Zone.current,m=function gh(r,s,a){const c=Object.create(ya);a&&(c.consumerAllowSignalWrites=!0),c.fn=r,c.schedule=s;const d=m=>{c.cleanupFn=m};return c.ref={notify:()=>bu(c),run:()=>{if(c.dirty=!1,c.hasRun&&!dh(c))return;c.hasRun=!0;const m=uh(c);try{c.cleanupFn(),c.cleanupFn=Bl,c.fn(d)}finally{Nl(c,m)}},cleanup:()=>c.cleanupFn()},c.ref}(a,E=>{this.all.has(E)&&this.queue.set(E,h)},d);let _;this.all.add(m),m.notify();const y=()=>{m.cleanup(),_?.(),this.all.delete(m),this.queue.delete(m)};return _=c?.onDestroy(y),{destroy:y}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=rt({token:r,providedIn:"root",factory:()=>new r})}return r})();function ls(r,s,a){let c=a?r.styles:null,d=a?r.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const _=s[m];"number"==typeof _?h=_:1==h?d=Fe(d,_):2==h&&(c=Fe(c,_+": "+s[++m]+";"))}a?r.styles=c:r.stylesWithoutHost=c,a?r.classes=d:r.classesWithoutHost=d}function Ya(r,s,a,c,d=!1){for(;null!==a;){const h=s[a.index];null!==h&&c.push(Jt(h)),$n(h)&&Ue(h,c);const m=a.type;if(8&m)Ya(r,s,a.child,c);else if(32&m){const _=Qh(a,s);let y;for(;y=_();)c.push(y)}else if(16&m){const _=is(s,a);if(Array.isArray(_))c.push(..._);else{const y=Xh(s[wn]);Ya(y[Ve],y,_,c,!0)}}a=d?a.projectionNext:a.next}return c}function Ue(r,s){for(let a=kn;a<r.length;a++){const c=r[a],d=c[Ve].firstChild;null!==d&&Ya(c[Ve],c,d,s)}r[mr]!==r[on]&&s.push(r[mr])}function lr(r,s,a,c=!0){const d=s[go],h=d.rendererFactory,m=d.afterRenderEventManager;h.begin?.(),m?.begin();try{Up(r,s,r.template,a)}catch(y){throw c&&Ww(s,y),y}finally{h.end?.(),d.effectManager?.flush(),m?.end()}}function Up(r,s,a,c){const d=s[gt];if(256!=(256&d)){s[go].effectManager?.flush(),Ta(s);try{xs(s),function Au(r){return ze.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&uD(r,s,a,2,c);const m=3==(3&d);if(m){const E=r.preOrderCheckHooks;null!==E&&yr(s,E,null)}else{const E=r.preOrderHooks;null!==E&&nr(s,E,0,null),Is(s,0)}if(function TD(r){for(let s=_I(r);null!==s;s=vI(s)){if(!s[Ml])continue;const a=s[qo];for(let c=0;c<a.length;c++){h0(a[c])}}}(s),fv(s,2),null!==r.contentQueries&&ED(r,s),m){const E=r.contentCheckHooks;null!==E&&yr(s,E)}else{const E=r.contentHooks;null!==E&&nr(s,E,1),Is(s,1)}!function SR(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const c=rv(s,bs);try{for(let d=0;d<a.length;d++){const h=a[d];if(h<0)Gn(~h);else{const m=h,_=a[++d],y=a[++d];Oh(_,m),c.dirty=!1;const E=uh(c);try{y(2,s[m])}finally{Nl(c,E)}}}}finally{null===s[bs]&&Mp(s,bs),Gn(-1)}}(r,s);const _=r.components;null!==_&&Bp(s,_,0);const y=r.viewQuery;if(null!==y&&kp(2,y,c),m){const E=r.viewCheckHooks;null!==E&&yr(s,E)}else{const E=r.viewHooks;null!==E&&nr(s,E,2),Is(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[gt]&=-73,wh(s)}finally{jr()}}}function fv(r,s){for(let a=_I(r);null!==a;a=vI(a))for(let c=kn;c<a.length;c++)Tc(a[c],s)}function SD(r,s,a){Tc(Li(s,r),a)}function Tc(r,s){if(!function Iu(r){return 128==(128&r[gt])}(r))return;const a=r[Ve],c=r[gt];if(80&c&&0===s||1024&c||2===s)Up(a,r,a.template,r[Wt]);else if(r[vs]>0){fv(r,1);const d=a.components;null!==d&&Bp(r,d,1)}}function Bp(r,s,a){for(let c=0;c<s.length;c++)SD(r,s[c],a)}class Sc{get rootNodes(){const s=this._lView,a=s[Ve];return Ya(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(s){this._lView[Wt]=s}get destroyed(){return 256==(256&this._lView[gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[cn];if($n(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(La(s,c),Na(a,c))}this._attachedToViewContainer=!1}Ua(this._lView[Ve],this._lView)}onDestroy(s){!function Ch(r,s){if(256==(256&r[gt]))throw new q(911,!1);null===r[_o]&&(r[_o]=[]),r[_o].push(s)}(this._lView,s)}markForCheck(){xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[gt]&=-129}reattach(){this._lView[gt]|=128}detectChanges(){lr(this._lView[Ve],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bI(r,s){id(r,s,s[pt],2,null,null)}(this._lView[Ve],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=s}}class AD extends Sc{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;lr(s[Ve],s,s[Wt],!1)}checkNoChanges(){}get context(){return null}}class qw extends xp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Dt(s);return new Ac(a,this.ngModule)}}function un(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class hv{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=ho(c);const d=this.injector.get(s,W_,c);return d!==W_||a===W_?d:this.parentInjector.get(s,a,c)}}class Ac extends wc{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=un(s.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return un(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function xg(r){return r.map(ui).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let h=(d=d||this.ngModule)instanceof Do?d:d?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new hv(s,h):s,_=m.get(yw,null);if(null===_)throw new q(407,!1);const M={rendererFactory:_,sanitizer:m.get(bw,null),effectManager:m.get(Xr,null),afterRenderEventManager:m.get(Cc,null)},V=_.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",fe=c?function AR(r,s,a,c){const h=c.get(Pw,!1)||a===hr.ShadowDom,m=r.selectRootElement(s,h);return function jw(r){Hw(r)}(m),m}(V,c,this.componentDef.encapsulation,m):Qe(V,$,function _n(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}($)),Ye=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ye=null;null!==fe&&(ye=$_(fe,m,!0));const ut=lv(0,null,null,1,0,null,null,null,null,null,null),Et=Dd(null,ut,null,Ye,null,null,M,V,m,null,ye);let Pt,Si;Ta(Et);try{const Vo=this.componentDef;let ur,eu=null;Vo.findHostDirectiveDefs?(ur=[],eu=new Map,Vo.findHostDirectiveDefs(Vo,ur,eu),ur.push(Vo)):ur=[Vo];const ug=function cs(r,s){const a=r[Ve],c=_t;return r[c]=s,ji(a,c,2,"#host",null)}(Et,fe),gA=function mv(r,s,a,c,d,h,m){const _=d[Ve];!function Yw(r,s,a,c){for(const d of r)s.mergedAttrs=po(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(ls(s,s.mergedAttrs,!0),null!==a&&yt(c,a,s))}(c,r,s,m);let y=null;null!==s&&(y=$_(s,d[mo]));const E=h.rendererFactory.createRenderer(s,a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const M=Dd(d,Np(a),null,I,d[r.index],r,h,E,null,null,y);return _.firstCreatePass&&Gw(_,r,c.length-1),Td(d,M),d[r.index]=M}(ug,fe,Vo,ur,Et,M,V);Si=$l(ut,_t),fe&&function Ad(r,s,a,c){if(c)gs(r,a,["ng-version",Ga.full]);else{const{attrs:d,classes:h}=function Ig(r){const s=[],a=[];let c=1,d=2;for(;c<r.length;){let h=r[c];if("string"==typeof h)2===d?""!==h&&s.push(h,r[++c]):8===d&&a.push(h);else{if(!pr(d))break;d=h}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&gs(r,a,d),h&&h.length>0&&v_(r,a,h.join(" "))}}(V,Vo,fe,c),void 0!==a&&function RD(r,s,a){const c=r.projection=[];for(let d=0;d<s.length;d++){const h=a[d];c.push(null!=h?Array.from(h):null)}}(Si,this.ngContentSelectors,a),Pt=function MD(r,s,a,c,d,h){const m=zn(),_=d[Ve],y=Rn(m,d);$w(_,d,m,a,null,c);for(let I=0;I<a.length;I++)Jn(wr(d,_,m.directiveStart+I,m),d);yD(_,d,m),y&&Jn(y,d);const E=wr(d,_,m.directiveStart+m.componentOffset,m);if(r[Wt]=d[Wt]=E,null!==h)for(const I of h)I(E,s);return Vw(_,m,r),E}(gA,Vo,ur,eu,Et,[gv]),Dc(ut,Et,null)}finally{jr()}return new pv(this.componentType,Pt,Ec(Si,Et),Et,Si)}}class pv extends bc{constructor(s,a,c,d,h){super(),this.location=c,this._rootLView=d,this._tNode=h,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new AD(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const h=this._rootLView;Fp(h[Ve],h,d,s,a),this.previousInputValues.set(s,a),xc(Li(this._tNode.index,h))}}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function gv(){const r=zn();Nu(ve()[Ve],r)}function Md(r){let s=function _v(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const c=[r];for(;s;){let d;if(gr(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new q(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const m=r;m.inputs=Mc(r.inputs),m.inputTransforms=Mc(r.inputTransforms),m.declaredInputs=Mc(r.declaredInputs),m.outputs=Mc(r.outputs);const _=d.hostBindings;_&&ND(r,_);const y=d.viewQuery,E=d.contentQueries;if(y&&PD(r,y),E&&vv(r,E),Ne(r.inputs,d.inputs),Ne(r.declaredInputs,d.declaredInputs),Ne(r.outputs,d.outputs),null!==d.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),Ne(m.inputTransforms,d.inputTransforms)),gr(d)&&d.data.animation){const I=r.data;I.animation=(I.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let m=0;m<h.length;m++){const _=h[m];_&&_.ngInherit&&_(r),_===Md&&(a=!1)}}s=Object.getPrototypeOf(s)}!function OD(r){let s=0,a=null;for(let c=r.length-1;c>=0;c--){const d=r[c];d.hostVars=s+=d.hostVars,d.hostAttrs=po(d.hostAttrs,a=po(a,d.hostAttrs))}}(c)}function Mc(r){return r===Ji?{}:r===kt?[]:r}function PD(r,s){const a=r.viewQuery;r.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function vv(r,s){const a=r.contentQueries;r.contentQueries=a?(c,d,h)=>{s(c,d,h),a(c,d,h)}:s}function ND(r,s){const a=r.hostBindings;r.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function $p(r){const s=r.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}r.inputTransforms=a}function zp(r){return!!Pd(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Pd(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function pi(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Ro(r,s,a,c){const d=ve();return pi(d,Vr(),s)&&(Tt(),Qr(en(),d,r,s,a,c)),Ro}function Kp(r,s,a,c,d,h,m,_){const y=ve(),E=Tt(),I=r+_t,M=E.firstCreatePass?function YD(r,s,a,c,d,h,m,_,y){const E=s.consts,I=ji(s,r,4,m||null,Cs(E,_));uv(s,a,I,Cs(E,y)),Nu(s,I);const M=I.tView=lv(2,I,c,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,E,null);return null!==s.queries&&(s.queries.template(s,I),M.queries=s.queries.embeddedTView(I)),I}(I,E,y,s,a,c,d,h,m):E.data[I];Ur(M,!1);const V=Qp(E,y,M,r);Ql()&&td(E,y,V,M),Jn(V,y),Td(y,y[I]=wD(V,y,V,M)),Ol(M)&&Op(E,y,M),null!=m&&Pp(y,M,_)}let Qp=function Xp(r,s,a,c){return wo(!0),s[pt].createComment("")};function Bd(r,s,a){const c=ve();return pi(c,Vr(),s)&&function Hi(r,s,a,c,d,h,m,_){const y=Rn(s,a);let I,E=s.inputs;!_&&null!=E&&(I=E[c])?(Fp(r,a,I,c,d),Fr(s)&&function gD(r,s){const a=Li(s,r);16&a[gt]||(a[gt]|=64)}(a,s.index)):3&s.type&&(c=function mD(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),d=null!=m?m(d,s.value||"",c):d,h.setProperty(y,c,d))}(Tt(),en(),c,r,s,c[pt],a,!1),Bd}function Vd(r,s,a,c,d){const m=d?"class":"style";Fp(r,a,s.inputs[m],m,c)}function Oc(r,s,a,c){const d=ve(),h=Tt(),m=_t+r,_=d[pt],y=h.firstCreatePass?function kv(r,s,a,c,d,h){const m=s.consts,y=ji(s,r,2,c,Cs(m,d));return uv(s,a,y,Cs(m,h)),null!==y.attrs&&ls(y,y.attrs,!1),null!==y.mergedAttrs&&ls(y,y.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,y),y}(m,h,d,s,a,c):h.data[m],E=nE(h,d,y,_,s,r);d[m]=E;const I=Ol(y);return Ur(y,!0),yt(_,E,y),32!=(32&y.flags)&&Ql()&&td(h,d,E,y),0===function Ih(){return ze.lFrame.elementDepthCount}()&&Jn(E,d),function Du(){ze.lFrame.elementDepthCount++}(),I&&(Op(h,d,y),Vw(h,y,d)),null!==c&&Pp(d,y),Oc}function em(){let r=zn();Wl()?Ah():(r=r.parent,Ur(r,!1));const s=r;(function Hg(r){return ze.skipHydrationRootTNode===r})(s)&&function $g(){ze.skipHydrationRootTNode=null}(),function p0(){ze.lFrame.elementDepthCount--}();const a=Tt();return a.firstCreatePass&&(Nu(a,r),Rl(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Fu(r){return 0!=(8&r.flags)}(s)&&Vd(a,s,ve(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Lu(r){return 0!=(16&r.flags)}(s)&&Vd(a,s,ve(),s.stylesWithoutHost,!1),em}function jd(r,s,a,c){return Oc(r,s,a,c),em(),jd}let nE=(r,s,a,c,d,h)=>(wo(!0),Qe(c,d,function En(){return ze.lFrame.currentNamespace}()));function nm(){return ve()}function Uv(r){return!!r&&"function"==typeof r.then}function im(r){return!!r&&"function"==typeof r.subscribe}function Bv(r,s,a,c){const d=ve(),h=Tt(),m=zn();return function rE(r,s,a,c,d,h,m){const _=Ol(c),E=r.firstCreatePass&&dv(r),I=s[Wt],M=xD(s);let V=!0;if(3&c.type||m){const De=Rn(c,s),Be=m?m(De):De,Ye=M.length,ye=m?Et=>m(Jt(Et[c.index])):c.index;let ut=null;if(!m&&_&&(ut=function JD(r,s,a,c){const d=r.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const m=d[h];if(m===a&&d[h+1]===c){const _=s[Nr],y=d[h+2];return _.length>y?_[y]:null}"string"==typeof m&&(h+=2)}return null}(r,s,d,c.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=h,ut.__ngLastListenerFn__=h,V=!1;else{h=Pc(c,s,I,h,!1);const Et=a.listen(Be,d,h);M.push(h,Et),E&&E.push(d,ye,Ye,Ye+1)}}else h=Pc(c,s,I,h,!1);const $=c.outputs;let fe;if(V&&null!==$&&(fe=$[d])){const De=fe.length;if(De)for(let Be=0;Be<De;Be+=2){const Pt=s[fe[Be]][fe[Be+1]].subscribe(h),Si=M.length;M.push(h,Pt),E&&E.push(d,c.index,Si,-(Si+1))}}}(h,d,d[pt],m,r,s,c),Bv}function om(r,s,a,c){try{return bi(6,s,a),!1!==a(c)}catch(d){return Ww(r,d),!1}finally{bi(7,s,a)}}function Pc(r,s,a,c,d){return function h(m){if(m===Function)return c;xc(r.componentOffset>-1?Li(r.index,s):s);let y=om(s,a,c,m),E=h.__ngNextListenerFn__;for(;E;)y=om(s,a,E,m)&&y,E=E.__ngNextListenerFn__;return d&&!1===y&&m.preventDefault(),y}}function oE(r=1){return function wi(r){return(ze.lFrame.contextLView=function vt(r,s){for(;r>0;)s=s[ys],r--;return s}(r,ze.lFrame.contextLView))[Wt]}(r)}function eT(r,s){let a=null;const c=function Kf(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const h=s[d];if("*"!==h){if(null===c?Eg(r,h,!0):Pi(c,h))return d}else a=d}return a}function zd(r){const s=ve()[wn][Hn];if(!s.projection){const c=s.projection=ns(r?r.length:1,null),d=c.slice();let h=s.child;for(;null!==h;){const m=r?eT(h,r):0;null!==m&&(d[m]?d[m].projectionNext=h:c[m]=h,d[m]=h),h=h.next}}}function tT(r,s=0,a){const c=ve(),d=Tt(),h=ji(d,_t+r,16,null,a||null);null===h.projection&&(h.projection=s),Ah(),(!c[kr]||Ia())&&32!=(32&h.flags)&&function __(r,s,a){Y0(s[pt],0,s,a,h_(r,a,s),As(a.parent||s[Hn],a,s))}(d,c,h)}function kc(r,s){return r<<17|s<<2}function rl(r){return r>>17&32767}function Gi(r){return 2|r}function Vs(r){return(131068&r)>>2}function cE(r,s){return-131069&r|s<<2}function Fc(r){return 1|r}function am(r,s,a,c,d){const h=r[a+1],m=null===s;let _=c?rl(h):Vs(h),y=!1;for(;0!==_&&(!1===y||m);){const I=r[_+1];zv(r[_],s)&&(y=!0,r[_+1]=c?Fc(I):Gi(I)),_=c?rl(I):Vs(I)}y&&(r[a+1]=c?Gi(h):Fc(h))}function zv(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&ic(r,s)>=0}function Wd(r,s){return function cr(r,s,a,c){const d=ve(),h=Tt(),m=function yo(r){const s=ze.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}(2);h.firstUpdatePass&&function cT(r,s,a,c){const d=r.data;if(null===d[a+1]){const h=d[Qn()],m=function pm(r,s){return s>=r.expandoStartIndex}(r,a);(function _m(r,s){return 0!=(r.flags&(s?8:16))})(h,c)&&null===s&&!m&&(s=!1),s=function Kv(r,s,a,c){const d=function Ph(r){const s=ze.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let h=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=mm(a=Zd(null,r,s,a,c),s.attrs,c),h=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==d)if(a=Zd(d,r,s,a,c),null===h){let y=function WR(r,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Vs(c))return r[rl(c)]}(r,s,c);void 0!==y&&Array.isArray(y)&&(y=Zd(null,r,s,y[1],c),y=mm(y,s.attrs,c),function Qv(r,s,a,c){r[rl(a?s.classBindings:s.styleBindings)]=c}(r,s,c,y))}else h=function uT(r,s,a){let c;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)c=mm(c,r[h].hostAttrs,a);return mm(c,s.attrs,a)}(r,s,c)}return void 0!==h&&(c?s.residualClasses=h:s.residualStyles=h),a}(d,h,s,c),function GR(r,s,a,c,d,h){let m=h?s.classBindings:s.styleBindings,_=rl(m),y=Vs(m);r[c]=a;let I,E=!1;if(Array.isArray(a)?(I=a[1],(null===I||ic(a,I)>0)&&(E=!0)):I=a,d)if(0!==y){const V=rl(r[_+1]);r[c+1]=kc(V,_),0!==V&&(r[V+1]=cE(r[V+1],c)),r[_+1]=function jv(r,s){return 131071&r|s<<17}(r[_+1],c)}else r[c+1]=kc(_,0),0!==_&&(r[_+1]=cE(r[_+1],c)),_=c;else r[c+1]=kc(y,0),0===_?_=c:r[y+1]=cE(r[y+1],c),y=c;E&&(r[c+1]=Gi(r[c+1])),am(r,I,c,!0),am(r,I,c,!1),function $v(r,s,a,c,d){const h=d?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof s&&ic(h,s)>=0&&(a[c+1]=Fc(a[c+1]))}(s,I,r,c,h),m=kc(_,y),h?s.classBindings=m:s.styleBindings=m}(d,h,s,a,m,c)}}(h,r,m,c),s!==bt&&pi(d,m,s)&&function dT(r,s,a,c,d,h,m,_){if(!(3&s.type))return;const y=r.data,E=y[_+1],I=function Hv(r){return 1==(1&r)}(E)?gm(y,s,a,d,Vs(E),m):void 0;ey(I)||(ey(h)||function sm(r){return 2==(2&r)}(E)&&(h=gm(y,null,a,d,_,m)),function rp(r,s,a,c,d){if(s)d?r.addClass(a,c):r.removeClass(a,c);else{let h=-1===c.indexOf("-")?void 0:Zh.DashCase;null==d?r.removeStyle(a,c,h):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),h|=Zh.Important),r.setStyle(a,c,d,h))}}(c,m,xa(Qn(),a),d,h))}(h,h.data[Qn()],d,d[pt],r,d[m+1]=function qR(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=Le(ss(r)))),r}(s,a),c,m)}(r,s,null,!0),Wd}function Zd(r,s,a,c,d){let h=null;const m=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<m&&(h=s[_],c=mm(c,h.hostAttrs,d),h!==r);)_++;return null!==r&&(a.directiveStylingLast=_),c}function mm(r,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?d=m:d===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),hi(r,m,!!a||s[++h]))}return void 0===r?null:r}function gm(r,s,a,c,d,h){const m=null===s;let _;for(;d>0;){const y=r[d],E=Array.isArray(y),I=E?y[1]:y,M=null===I;let V=a[d+1];V===bt&&(V=M?kt:void 0);let $=M?t_(V,c):I===c?V:void 0;if(E&&!ey($)&&($=t_(y,c)),ey($)&&(_=$,m))return _;const fe=r[d+1];d=m?rl(fe):Vs(fe)}if(null!==s){let y=h?s.residualClasses:s.residualStyles;null!=y&&(_=t_(y,c))}return _}function ey(r){return void 0!==r}function fE(r,s=""){const a=ve(),c=Tt(),d=r+_t,h=c.firstCreatePass?ji(c,d,1,s,null):c.data[d],m=vm(c,a,h,s,r);a[d]=m,Ql()&&td(c,a,m,h),Ur(h,!1)}let vm=(r,s,a,c,d)=>(wo(!0),function ep(r,s){return r.createText(s)}(s[pt],c));function hE(r){return Bc("",r,""),hE}function Bc(r,s,a){const c=ve(),d=function Xa(r,s,a,c){return pi(r,Vr(),a)?s+J(a)+c:bt}(c,r,s,a);return d!==bt&&function Us(r,s,a){const c=xa(s,r);!function dc(r,s,a){r.setValue(s,a)}(r[pt],c,a)}(c,Qn(),d),Bc}const ol=void 0;var ay=["en",[["a","p"],["AM","PM"],ol],[["AM","PM"],ol,ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ol,"{1} 'at' {0}",ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sy(r){const a=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let qd={};function xm(r){const s=function rO(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=EE(s);if(a)return a;const c=s.split("-")[0];if(a=EE(c),a)return a;if("en"===c)return ay;throw new q(701,!1)}function wE(r){return xm(r)[Vc.PluralCase]}function EE(r){return r in qd||(qd[r]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[r]),qd[r]}var Vc=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Vc||{});const jc="en-US";let IE=jc;function My(r,s,a,c,d){if(r=we(r),Array.isArray(r))for(let h=0;h<r.length;h++)My(r[h],s,a,c,d);else{const h=Tt(),m=ve(),_=zn();let y=Ha(r)?r:we(r.provide);const E=To(r),I=1048575&_.providerIndexes,M=_.directiveStart,V=_.providerIndexes>>20;if(Ha(r)||!r.multi){const $=new Ma(E,d,Ls),fe=sf(y,s,d?I:I+V,M);-1===fe?(Ss(Xo(_,m),h,y),rf(h,r,s.length),s.push(y),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),a.push($),m.push($)):(a[fe]=$,m[fe]=$)}else{const $=sf(y,s,I+V,M),fe=sf(y,s,I,I+V),Be=fe>=0&&a[fe];if(d&&!Be||!d&&!($>=0&&a[$])){Ss(Xo(_,m),h,y);const Ye=function Oy(r,s,a,c,d){const h=new Ma(r,a,Ls);return h.multi=[],h.index=s,h.componentProviders=0,jT(h,d,c&&!a),h}(d?Ry:BE,a.length,d,c,E);!d&&Be&&(a[fe].providerFactory=Ye),rf(h,r,s.length,0),s.push(y),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),a.push(Ye),m.push(Ye)}else rf(h,r,$>-1?$:fe,jT(a[d?fe:$],E,!d&&c));!d&&c&&Be&&a[fe].componentProviders++}}}function rf(r,s,a,c){const d=Ha(s),h=function FI(r){return!!r.useClass}(s);if(d||h){const y=(h?we(s.useClass):s).prototype.ngOnDestroy;if(y){const E=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const I=E.indexOf(a);-1===I?E.push(a,[c,y]):E[I+1].push(c,y)}else E.push(a,y)}}}function jT(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function sf(r,s,a,c){for(let d=a;d<c;d++)if(s[d]===r)return d;return-1}function BE(r,s,a,c){return Nm(this.multi,[])}function Ry(r,s,a,c){const d=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=wr(a,a[Ve],this.providerFactory.index,c);h=_.slice(0,m),Nm(d,h);for(let y=m;y<_.length;y++)h.push(_[y])}else h=[],Nm(d,h);return h}function Nm(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function VE(r,s=[]){return a=>{a.providersResolver=(c,d)=>function bO(r,s,a){const c=Tt();if(c.firstCreatePass){const d=gr(r);My(a,c.data,c.blueprint,d,!0),My(s,c.data,c.blueprint,d,!1)}}(c,d?d(r):r,s)}}class ll{}class Py{}function jE(r,s){return new Ny(r,s??null,[])}class Ny extends ll{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qw(this);const d=Ni(s);this._bootstrapComponents=Yr(d.bootstrap),this._r3Injector=Wa(s,a,[{provide:ll,useValue:this},{provide:xp,useValue:this.componentFactoryResolver},...c],Le(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class af extends Py{constructor(s){super(),this.moduleType=s}create(s){return new Ny(this.moduleType,s,[])}}class HE extends ll{constructor(s){super(),this.componentFactoryResolver=new qw(this),this.instance=null;const a=new ks([...s.providers,{provide:ll,useValue:this},{provide:xp,useValue:this.componentFactoryResolver}],s.parent||N_(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function $E(r,s,a=null){return new HE({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let ky=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=md(0,a.type),d=c.length>0?$E([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=rt({token:r,providedIn:"environment",factory:()=>new r(at(Do))})}return r})();function zE(r){r.getStandaloneInjector=s=>s.get(ky).getOrCreateStandaloneInjector(r)}function XE(r,s,a,c,d,h,m){const _=s+a;return function Qa(r,s,a,c){const d=pi(r,s,a);return pi(r,s+1,c)||d}(r,_,d,h)?function Dr(r,s,a){return r[s]=a}(r,_+2,m?c.call(m,d,h):c(d,h)):function cl(r,s){const a=r[s];return a===bt?void 0:a}(r,_+2)}function oS(r,s){const a=Tt();let c;const d=r+_t;a.firstCreatePass?(c=function jy(r,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(r===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const h=c.factory||(c.factory=vo(c.type)),_=It(Ls);try{const y=Ra(!1),E=h();return Ra(y),function KD(r,s,a,c){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=c}(a,ve(),d,E),E}finally{It(_)}}function $y(r,s,a,c){const d=r+_t,h=ve(),m=function Qo(r,s){return r[s]}(h,d);return function cf(r,s){return r[Ve].data[s].pure}(h,d)?XE(h,function Ln(){const r=ze.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}(),s,m.transform,a,c,m):m.transform(a,c)}function uS(){return this._results[Symbol.iterator]()}class km{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ao)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=km.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=uS)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function $r(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function b0(r,s,a){if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++){let d=r[c],h=s[c];if(a&&(d=a(d),h=a(h)),h!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eC(r,s,a,c=!0){const d=s[Ve];if(function wI(r,s,a,c){const d=kn+c,h=a.length;c>0&&(a[d-1][fi]=s),c<h-kn?(s[fi]=a[d],nc(a,kn+c,s)):(a.push(s),s[fi]=null),s[cn]=a;const m=s[Zo];null!==m&&a!==m&&function W0(r,s){const a=r[qo];s[wn]!==s[cn][cn][wn]&&(r[Ml]=!0),null===a?r[qo]=[s]:a.push(s)}(m,s);const _=s[ki];null!==_&&_.insertView(r),s[gt]|=128}(d,s,r,a),c){const h=Ms(a,r),m=s[pt],_=ar(m,r[mr]);null!==_&&function tp(r,s,a,c,d,h){c[on]=d,c[Hn]=s,id(r,c,a,1,d,h)}(d,r[Hn],m,s,_,h)}}let ul=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=pS}return r})();const tC=ul,hS=class extends tC{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,c){const d=function dS(r,s,a,c){const d=s.tView,_=Dd(r,d,a,4096&r[gt]?4096:16,null,s,null,null,null,c?.injector??null,c?.hydrationInfo??null);_[Zo]=r[s.index];const E=r[ki];return null!==E&&(_[ki]=E.createEmbeddedView(d)),Dc(d,_,a),_}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:c});return new Sc(d)}};function pS(){return uf(zn(),ve())}function uf(r,s){return 4&r.type?new hS(s,r,Ec(r,s)):null}let Gs=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Gy}return r})();function Gy(){return sC(zn(),ve())}const No=Gs,ii=class extends No{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Ec(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){const s=ts(this._hostTNode,this._hostLView);if(Jl(s)){const a=Ts(s,this._hostLView),c=Ds(s);return new xi(a[Ve].data[c+8],a)}return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=oC(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-kn}createEmbeddedView(s,a,c){let d,h;"number"==typeof c?d=c:null!=c&&(d=c.index,h=c.injector);const _=s.createEmbeddedViewImpl(a||{},h,null);return this.insertImpl(_,d,false),_}createComponent(s,a,c,d,h){const m=s&&!function Bh(r){return"function"==typeof r}(s);let _;if(m)_=a;else{const De=a||{};_=De.index,c=De.injector,d=De.projectableNodes,h=De.environmentInjector||De.ngModuleRef}const y=m?s:new Ac(Dt(s)),E=c||this.parentInjector;if(!h&&null==y.ngModule){const Be=(m?E:this.parentInjector).get(Do,null);Be&&(h=Be)}Dt(y.componentType??{});const $=y.create(E,d,null,h);return this.insertImpl($.hostView,_,false),$}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView;if(function eI(r){return $n(r[cn])}(d)){const y=this.indexOf(s);if(-1!==y)this.detach(y);else{const E=d[cn],I=new ii(E,E[Hn],E[cn]);I.detach(I.indexOf(s))}}const m=this._adjustIndex(a),_=this._lContainer;return eC(_,d,m,!c),s.attachToViewContainerRef(),nc(Hc(_),m,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=oC(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=La(this._lContainer,a);c&&(Na(Hc(this._lContainer),a),Ua(c[Ve],c))}detach(s){const a=this._adjustIndex(s,-1),c=La(this._lContainer,a);return c&&null!=Na(Hc(this._lContainer),a)?new Sc(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function oC(r){return r[8]}function Hc(r){return r[8]||(r[8]=[])}function sC(r,s){let a;const c=s[r.index];return $n(c)?a=c:(a=wD(c,s,null,r),s[r.index]=a,Td(s,a)),ko(a,s,r,c),new ii(a,r,s)}let ko=function Zs(r,s,a,c){if(r[mr])return;let d;d=8&a.type?Jt(c):function Ws(r,s){const a=r[pt],c=a.createComment(""),d=Rn(s,r);return Bi(a,ar(a,d),c,function ei(r,s){return r.nextSibling(s)}(a,d),!1),c}(s,a),r[mr]=d};class pf{constructor(s){this.queryList=s,this.matches=null}clone(){return new pf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let h=0;h<c;h++){const m=a.getByIndex(h);d.push(this.queries[m.indexInDeclarationView].clone())}return new Fm(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Zy(s,a).matches&&this.queries[a].setDirty()}}class Bn{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Lm{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,h=this.getByIndex(c).embeddedTView(s,d);h&&(h.indexInDeclarationView=c,null!==a?a.push(h):a=[h])}return null!==a?new Lm(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Wy{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Wy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const h=c[d];this.matchTNodeWithReadOption(s,a,gS(a,h)),this.matchTNodeWithReadOption(s,a,Hr(a,s,h,!1,!1))}else c===ul?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Hr(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Cd||d===Gs||d===ul&&4&a.type)this.addMatch(a.index,-2);else{const h=Hr(a,s,d,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function gS(r,s){const a=r.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function vS(r,s,a,c){return-1===a?function _S(r,s){return 11&r.type?Ec(r,s):4&r.type?uf(r,s):null}(s,r):-2===a?function yS(r,s,a){return a===Cd?Ec(s,r):a===ul?uf(s,r):a===Gs?sC(s,r):void 0}(r,s,c):wr(r,r[Ve],a,s)}function aC(r,s,a,c){const d=s[ki].queries[c];if(null===d.matches){const h=r.data,m=a.matches,_=[];for(let y=0;y<m.length;y+=2){const E=m[y];_.push(E<0?null:vS(s,h[E],m[y+1],a.metadata.read))}d.matches=_}return d.matches}function Um(r,s,a,c){const d=r.queries.getByIndex(a),h=d.matches;if(null!==h){const m=aC(r,s,d,a);for(let _=0;_<h.length;_+=2){const y=h[_];if(y>0)c.push(m[_/2]);else{const E=h[_+1],I=s[-y];for(let M=kn;M<I.length;M++){const V=I[M];V[Zo]===V[cn]&&Um(V[Ve],V,E,c)}if(null!==I[qo]){const M=I[qo];for(let V=0;V<M.length;V++){const $=M[V];Um($[Ve],$,E,c)}}}}}return c}function fl(r){const s=ve(),a=Tt(),c=gn();tr(c+1);const d=Zy(a,c);if(r.dirty&&function f0(r){return 4==(4&r[gt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const h=d.crossesNgTemplate?Um(a,s,c,[]):aC(a,s,d,c);r.reset(h,$I),r.notifyOnChanges()}return!0}return!1}function $c(r,s,a,c){const d=Tt();if(d.firstCreatePass){const h=zn();(function mf(r,s,a){null===r.queries&&(r.queries=new Lm),r.queries.track(new Wy(s,a))})(d,new Bn(s,a,c),h.index),function cC(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}!function zc(r,s,a){const c=new km(4==(4&a));(function OR(r,s,a,c){const d=xD(s);d.push(a),r.firstCreatePass&&dv(r).push(c,d.length-1)})(r,s,c,c.destroy),null===s[ki]&&(s[ki]=new Fm),s[ki].queries.push(new pf(c))}(d,ve(),a)}function lC(){return function wS(r,s){return r[ki].queries[s].queryList}(ve(),gn())}function Zy(r,s){return r.queries.getByIndex(s)}function gf(r){return!!Ni(r)}const Xt=new Bt("Application Initializer");let yf=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Ot(Xt,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const h=d();if(Uv(h))a.push(h);else if(im(h)){const m=new Promise((_,y)=>{h.subscribe({complete:_,error:y})});a.push(m)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=rt({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),TC=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=rt({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const wf=new Bt("LocaleId",{providedIn:"root",factory:()=>Ot(wf,et.Optional|et.SkipSelf)||function bf(){return typeof $localize<"u"&&$localize.locale||jc}()}),hn=new Bt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Vm=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Y.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=rt({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class Mr{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let US=(()=>{class r{compileModuleSync(a){return new af(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),h=Yr(Ni(a).declarations).reduce((m,_)=>{const y=Dt(_);return y&&m.push(new Ac(y)),m},[]);return new Mr(c,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=rt({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const yl=new Bt(""),fb=new Bt("");let hb,OC=(()=>{class r{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hb||(function WS(r){hb=r}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}static#e=this.\u0275fac=function(c){return new(c||r)(at(Zn),at(PC),at(fb))};static#t=this.\u0275prov=rt({token:r,factory:r.\u0275fac})}return r})(),PC=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return hb?.findTestabilityInTree(this,a,c)??null}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=rt({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Ut=null;const NC=new Bt("AllowMultipleToken"),pb=new Bt("PlatformDestroyListeners"),Wc=new Bt("appBootstrapListener");class wt{constructor(s,a){this.name=s,this.token=a}}function Gm(r,s,a=[]){const c=`Platform: ${s}`,d=new Bt(c);return(h=[])=>{let m=Ys();if(!m||m.injector.get(NC,!1)){const _=[...a,...h,{provide:d,useValue:!0}];r?r(_):function ZS(r){if(Ut&&!Ut.get(NC,!1))throw new q(400,!1);(function Lo(){!function Ll(r){hh=r}(()=>{throw new q(600,!1)})})(),Ut=r;const s=r.get(Zc);(function kC(r){r.get(vd,null)?.forEach(a=>a())})(r)}(function Wm(r=[],s){return Ir.create({name:s,providers:[{provide:O_,useValue:"platform"},{provide:pb,useValue:new Set([()=>Ut=null])},...r]})}(_,c))}return function qS(r){const s=Ys();if(!s)throw new q(401,!1);return s}()}}function Ys(){return Ut?.get(Zc)??null}let Zc=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function KS(r="zone.js",s){return"noop"===r?new Tw:"zone.js"===r?new Zn(s):r}(c?.ngZone,function qc(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const h=function HT(r,s,a){return new Ny(r,s,a)}(a.moduleType,this.injector,function qm(r){return[{provide:Zn,useFactory:r},{provide:as,multi:!0,useFactory:()=>{const s=Ot(gb,{optional:!0});return()=>s.initialize()}},{provide:LC,useFactory:QS},{provide:Sw,useFactory:Aw}]}(()=>d)),m=h.injector.get(So,null);return d.runOutsideAngular(()=>{const _=d.onError.subscribe({next:y=>{m.handleError(y)}});h.onDestroy(()=>{Qc(this._modules,h),_.unsubscribe()})}),function Zm(r,s,a){try{const c=a();return Uv(c)?c.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>r.handleError(c)),c}}(m,d,()=>{const _=h.injector.get(yf);return _.runInitializers(),_.donePromise.then(()=>(function Dm(r){ct(r,"Expected localeId to be defined"),"string"==typeof r&&(IE=r.toLowerCase().replace(/_/g,"-"))}(h.injector.get(wf,jc)||jc),this._moduleDoBootstrap(h),h))})})}bootstrapModule(a,c=[]){const d=Yc({},c);return function mb(r,s,a){const c=new af(a);return Promise.resolve(c)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(a){const c=a.injector.get(Kc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new q(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(pb,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||r)(at(Ir))};static#t=this.\u0275prov=rt({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Yc(r,s){return Array.isArray(s)?s.reduce(Yc,r):{...r,...s}}let Kc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ot(LC),this.zoneIsStable=Ot(Sw),this.componentTypes=[],this.components=[],this.isStable=Ot(Vm).hasPendingTasks.pipe((0,_e.w)(a=>a?(0,se.of)(!1):this.zoneIsStable),function ee(r,s=oe.y){return r=r??Ae,(0,N.e)((a,c)=>{let d,h=!0;a.subscribe((0,k.x)(c,m=>{const _=s(m);(h||!r(d,_))&&(h=!1,d=_,c.next(m))}))})}(),(0,ce.B)()),this._injector=Ot(Do)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof wc;if(!this._injector.get(yf).done)throw!d&&aa(a),new q(405,!1);let m;m=d?a:this._injector.get(xp).resolveComponentFactory(a),this.componentTypes.push(m.componentType);const _=function xf(r){return r.isBoundToModule}(m)?void 0:this._injector.get(ll),E=m.create(Ir.NULL,[],c||m.selector,_),I=E.location.nativeElement,M=E.injector.get(yl,null);return M?.registerApplication(I),E.onDestroy(()=>{this.detachView(E.hostView),Qc(this.components,E),M?.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Qc(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Wc,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Qc(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new q(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=rt({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Qc(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const LC=new Bt("",{providedIn:"root",factory:()=>Ot(So).handleError.bind(void 0)});function QS(){const r=Ot(Zn),s=Ot(So);return a=>r.runOutsideAngular(()=>s.handleError(a))}let gb=(()=>{class r{constructor(){this.zone=Ot(Zn),this.applicationRef=Ot(Kc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=rt({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ym(){return!1}let Km=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Xc}return r})();function Xc(r){return function vb(r,s,a){if(Fr(r)&&!a){const c=Li(r.index,s);return new Sc(c,c)}return 47&r.type?new Sc(s[wn],s):null}(zn(),ve(),16==(16&r))}class Tf{constructor(){}supports(s){return zp(s)}create(s){return new VC(s)}}const Sf=(r,s)=>s;class VC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Sf}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,h=null;for(;a||c;){const m=!c||a&&a.currentIndex<jC(c,d,h)?a:c,_=jC(m,d,h),y=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{h||(h=[]);const E=_-d,I=y-d;if(E!=I){for(let V=0;V<E;V++){const $=V<h.length?h[V]:h[V]=0,fe=$+V;I<=fe&&fe<E&&(h[V]=$+1)}h[m.previousIndex]=I-E}}_!==y&&s(m,_,y)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!zp(s))throw new q(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,m,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)h=s[_],m=this._trackByFn(_,h),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,h,m,_)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,m,_),c=!0),a=a._next}else d=0,function Od(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,_=>{m=this._trackByFn(d,_),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,_,m,d)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,m,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,d)):s=this._addAfter(new tg(a,c),h,d),s}_verifyReinsertion(s,a,c,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new ng),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ng),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class tg{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wl{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class ng{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new wl,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jC(r,s,a){const c=r.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class tn{constructor(){}supports(s){return s instanceof Map||Pd(s)}create(){return new io}}class io{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Pd(s)))throw new q(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const h=d._prev,m=d._next;return h&&(h._next=m),m&&(m._prev=h),d._next=null,d._prev=null,d}const c=new Af(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class Af{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ig(){return new rg([new Tf])}let rg=(()=>{class r{static#e=this.\u0275prov=rt({token:r,providedIn:"root",factory:ig});constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||ig()),deps:[[r,new jh,new zu]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new q(901,!1)}}return r})();function Ks(){return new og([new tn])}let og=(()=>{class r{static#e=this.\u0275prov=rt({token:r,providedIn:"root",factory:Ks});constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||Ks()),deps:[[r,new jh,new zu]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new q(901,!1)}}return r})();const sg=Gm(null,"core",[]);let rA=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(c){return new(c||r)(at(Kc))};static#t=this.\u0275mod=eh({type:r});static#n=this.\u0275inj=Yn({})}return r})();function Tb(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function mA(r){const s=Dt(r);if(!s)return null;const a=new Ac(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(qe,pe,T)=>{T.d(pe,{Z:()=>Ne});var u=T(9058),z=T(4537),B=T(7592),G=T(7879);class Y{constructor(Fe,be){this._delegate=Fe,this.firebase=be,(0,B._addComponent)(Fe,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Fe,be=B._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(Fe);return!we.isInitialized()&&"EXPLICIT"===(null===(Ge=we.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&we.initialize(),we.getImmediate({identifier:be})}_removeServiceInstance(Fe,be=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(be)}_addComponent(Fe){(0,B._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,B._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),N=function oe(){const Le=function _e(Le){const Fe={},be={__esModule:!0,initializeApp:function Te(q,Q={}){const J=B.initializeApp(q,Q);if((0,u.r3)(Fe,J.name))return Fe[J.name];const Ce=new Le(J,be);return Fe[J.name]=Ce,Ce},app:we,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function xe(q){const Q=q.name,J=Q.replace("-compat","");if(B._registerComponent(q)&&"PUBLIC"===q.type){const Ce=(Ct=we())=>{if("function"!=typeof Ct[J])throw ce.create("invalid-app-argument",{appName:Q});return Ct[J]()};void 0!==q.serviceProps&&(0,u.ZB)(Ce,q.serviceProps),be[J]=Ce,Le.prototype[J]=function(...Ct){return this._getService.bind(this,Q).apply(this,q.multipleInstances?Ct:[])}}return"PUBLIC"===q.type?be[J]:null},removeApp:function Ge(q){delete Fe[q]},useAsService:function Se(q,Q){return"serverAuth"===Q?null:Q},modularAPIs:B}};function we(q){if(!(0,u.r3)(Fe,q=q||B._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:q});return Fe[q]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ee(){return Object.keys(Fe).map(q=>Fe[q])}}),we.App=Le,be}(Y);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function Fe(be){(0,u.ZB)(Le,be)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Le}(),k=new G.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){k.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&k.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=N;!function ie(Le){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Le)}()},7592:(qe,pe,T)=>{T.r(pe),T.d(pe,{FirebaseError:()=>G.ZR,SDK_VERSION:()=>Tn,_DEFAULT_ENTRY_NAME:()=>K,_addComponent:()=>Ie,_addOrOverwriteComponent:()=>Me,_apps:()=>ae,_clearComponents:()=>tt,_components:()=>le,_getProvider:()=>xt,_registerComponent:()=>$e,_removeServiceInstance:()=>dn,deleteApp:()=>Yn,getApp:()=>rt,getApps:()=>qn,initializeApp:()=>Sn,onLog:()=>Rr,registerVersion:()=>Vn,setLogLevel:()=>Or});var u=T(5861),z=T(4537),B=T(7879),G=T(9058),Y=T(1878);class se{constructor(U){this.container=U}getPlatformInfoString(){return this.container.getProviders().map(de=>{if(function ce(ue){const U=ue.getComponent();return"VERSION"===U?.type}(de)){const ke=de.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(de=>de).join(" ")}}const _e="@firebase/app",N=new B.Yd("@firebase/app"),K="[DEFAULT]",ne={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ae=new Map,le=new Map;function Ie(ue,U){try{ue.container.addComponent(U)}catch(de){N.debug(`Component ${U.name} failed to register with FirebaseApp ${ue.name}`,de)}}function Me(ue,U){ue.container.addOrOverwriteComponent(U)}function $e(ue){const U=ue.name;if(le.has(U))return N.debug(`There were multiple attempts to register component ${U}.`),!1;le.set(U,ue);for(const de of ae.values())Ie(de,ue);return!0}function xt(ue,U){const de=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return de&&de.triggerHeartbeat(),ue.container.getProvider(U)}function dn(ue,U,de=K){xt(ue,U).clearInstance(de)}function tt(){le.clear()}const Re=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kt{constructor(U,de,ke){this._isDeleted=!1,this._options=Object.assign({},U),this._config=Object.assign({},de),this._name=de.name,this._automaticDataCollectionEnabled=de.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this.checkDestroyed(),this._automaticDataCollectionEnabled=U}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(U){this._isDeleted=U}checkDestroyed(){if(this.isDeleted)throw Re.create("app-deleted",{appName:this._name})}}const Tn="9.23.0";function Sn(ue,U={}){let de=ue;"object"!=typeof U&&(U={name:U});const ke=Object.assign({name:K,automaticDataCollectionEnabled:!1},U),We=ke.name;if("string"!=typeof We||!We)throw Re.create("bad-app-name",{appName:String(We)});if(de||(de=(0,G.aH)()),!de)throw Re.create("no-options");const Xe=ae.get(We);if(Xe){if((0,G.vZ)(de,Xe.options)&&(0,G.vZ)(ke,Xe.config))return Xe;throw Re.create("duplicate-app",{appName:We})}const Qt=new z.H0(We);for(const O of le.values())Qt.addComponent(O);const P=new Kt(de,ke,Qt);return ae.set(We,P),P}function rt(ue=K){const U=ae.get(ue);if(!U&&ue===K&&(0,G.aH)())return Sn();if(!U)throw Re.create("no-app",{appName:ue});return U}function qn(){return Array.from(ae.values())}function Yn(ue){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(ue){const U=ue.name;ae.has(U)&&(ae.delete(U),yield Promise.all(ue.container.getProviders().map(de=>de.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function Vn(ue,U,de){var ke;let We=null!==(ke=ne[ue])&&void 0!==ke?ke:ue;de&&(We+=`-${de}`);const Xe=We.match(/\s|\//),Qt=U.match(/\s|\//);if(Xe||Qt){const P=[`Unable to register library "${We}" with version "${U}":`];return Xe&&P.push(`library name "${We}" contains illegal characters (whitespace or "/")`),Xe&&Qt&&P.push("and"),Qt&&P.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void N.warn(P.join(" "))}$e(new z.wA(`${We}-version`,()=>({library:We,version:U}),"VERSION"))}function Rr(ue,U){if(null!==ue&&"function"!=typeof ue)throw Re.create("invalid-log-argument");(0,B.Am)(ue,U)}function Or(ue){(0,B.Ub)(ue)}const dr="firebase-heartbeat-database",bn=1,ot="firebase-heartbeat-store";let mt=null;function ai(){return mt||(mt=(0,Y.X3)(dr,bn,{upgrade:(ue,U)=>{0===U&&ue.createObjectStore(ot)}}).catch(ue=>{throw Re.create("idb-open",{originalErrorMessage:ue.message})})),mt}function pn(){return(pn=(0,u.Z)(function*(ue){try{return yield(yield ai()).transaction(ot).objectStore(ot).get(fr(ue))}catch(U){if(U instanceof G.ZR)N.warn(U.message);else{const de=Re.create("idb-get",{originalErrorMessage:U?.message});N.warn(de.message)}}})).apply(this,arguments)}function yi(ue,U){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(ue,U){try{const ke=(yield ai()).transaction(ot,"readwrite");yield ke.objectStore(ot).put(U,fr(ue)),yield ke.done}catch(de){if(de instanceof G.ZR)N.warn(de.message);else{const ke=Re.create("idb-set",{originalErrorMessage:de?.message});N.warn(ke.message)}}})).apply(this,arguments)}function fr(ue){return`${ue.name}!${ue.options.appId}`}class Lt{constructor(U){this.container=U,this._heartbeatsCache=null;const de=this.container.getProvider("app").getImmediate();this._storage=new Pr(de),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var U=this;return(0,u.Z)(function*(){const ke=U.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),We=fo();if(null===U._heartbeatsCache&&(U._heartbeatsCache=yield U._heartbeatsCachePromise),U._heartbeatsCache.lastSentHeartbeatDate!==We&&!U._heartbeatsCache.heartbeats.some(Xe=>Xe.date===We))return U._heartbeatsCache.heartbeats.push({date:We,agent:ke}),U._heartbeatsCache.heartbeats=U._heartbeatsCache.heartbeats.filter(Xe=>{const Qt=new Date(Xe.date).valueOf();return Date.now()-Qt<=2592e6}),U._storage.overwrite(U._heartbeatsCache)})()}getHeartbeatsHeader(){var U=this;return(0,u.Z)(function*(){if(null===U._heartbeatsCache&&(yield U._heartbeatsCachePromise),null===U._heartbeatsCache||0===U._heartbeatsCache.heartbeats.length)return"";const de=fo(),{heartbeatsToSend:ke,unsentEntries:We}=function Ri(ue,U=1024){const de=[];let ke=ue.slice();for(const We of ue){const Xe=de.find(Qt=>Qt.agent===We.agent);if(Xe){if(Xe.dates.push(We.date),An(de)>U){Xe.dates.pop();break}}else if(de.push({agent:We.agent,dates:[We.date]}),An(de)>U){de.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:de,unsentEntries:ke}}(U._heartbeatsCache.heartbeats),Xe=(0,G.L)(JSON.stringify({version:2,heartbeats:ke}));return U._heartbeatsCache.lastSentHeartbeatDate=de,We.length>0?(U._heartbeatsCache.heartbeats=We,yield U._storage.overwrite(U._heartbeatsCache)):(U._heartbeatsCache.heartbeats=[],U._storage.overwrite(U._heartbeatsCache)),Xe})()}}function fo(){return(new Date).toISOString().substring(0,10)}class Pr{constructor(U){this.app=U,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var U=this;return(0,u.Z)(function*(){return(yield U._canUseIndexedDBPromise)&&(yield function et(ue){return pn.apply(this,arguments)}(U.app))||{heartbeats:[]}})()}overwrite(U){var de=this;return(0,u.Z)(function*(){var ke;if(yield de._canUseIndexedDBPromise){const Xe=yield de.read();return yi(de.app,{lastSentHeartbeatDate:null!==(ke=U.lastSentHeartbeatDate)&&void 0!==ke?ke:Xe.lastSentHeartbeatDate,heartbeats:U.heartbeats})}})()}add(U){var de=this;return(0,u.Z)(function*(){var ke;if(yield de._canUseIndexedDBPromise){const Xe=yield de.read();return yi(de.app,{lastSentHeartbeatDate:null!==(ke=U.lastSentHeartbeatDate)&&void 0!==ke?ke:Xe.lastSentHeartbeatDate,heartbeats:[...Xe.heartbeats,...U.heartbeats]})}})()}}function An(ue){return(0,G.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function Qi(ue){$e(new z.wA("platform-logger",U=>new se(U),"PRIVATE")),$e(new z.wA("heartbeat",U=>new Lt(U),"PRIVATE")),Vn(_e,"0.9.13",ue),Vn(_e,"0.9.13","esm2017"),Vn("fire-js","")}("")},4097:(qe,pe,T)=>{T.d(pe,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=T(7592);(0,u.registerVersion)("firebase","9.23.0","app")},120:(qe,pe,T)=>{T.d(pe,{Z:()=>u.Z});var u=T(3399);u.Z.registerVersion("firebase","9.23.0","app-compat")},4303:(qe,pe,T)=>{T.d(pe,{Jn:()=>Tn,KN:()=>Vn,Mq:()=>rt,Xd:()=>$e,ZF:()=>Sn,qX:()=>xt});var u=T(5861),z=T(4537),B=T(7879),G=T(9058),Y=T(1878);class se{constructor(U){this.container=U}getPlatformInfoString(){return this.container.getProviders().map(de=>{if(function ce(ue){const U=ue.getComponent();return"VERSION"===U?.type}(de)){const ke=de.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(de=>de).join(" ")}}const _e="@firebase/app",N=new B.Yd("@firebase/app"),K="[DEFAULT]",ne={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ae=new Map,le=new Map;function Ie(ue,U){try{ue.container.addComponent(U)}catch(de){N.debug(`Component ${U.name} failed to register with FirebaseApp ${ue.name}`,de)}}function $e(ue){const U=ue.name;if(le.has(U))return N.debug(`There were multiple attempts to register component ${U}.`),!1;le.set(U,ue);for(const de of ae.values())Ie(de,ue);return!0}function xt(ue,U){const de=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return de&&de.triggerHeartbeat(),ue.container.getProvider(U)}const Re=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kt{constructor(U,de,ke){this._isDeleted=!1,this._options=Object.assign({},U),this._config=Object.assign({},de),this._name=de.name,this._automaticDataCollectionEnabled=de.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this.checkDestroyed(),this._automaticDataCollectionEnabled=U}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(U){this._isDeleted=U}checkDestroyed(){if(this.isDeleted)throw Re.create("app-deleted",{appName:this._name})}}const Tn="10.5.0";function Sn(ue,U={}){let de=ue;"object"!=typeof U&&(U={name:U});const ke=Object.assign({name:K,automaticDataCollectionEnabled:!1},U),We=ke.name;if("string"!=typeof We||!We)throw Re.create("bad-app-name",{appName:String(We)});if(de||(de=(0,G.aH)()),!de)throw Re.create("no-options");const Xe=ae.get(We);if(Xe){if((0,G.vZ)(de,Xe.options)&&(0,G.vZ)(ke,Xe.config))return Xe;throw Re.create("duplicate-app",{appName:We})}const Qt=new z.H0(We);for(const O of le.values())Qt.addComponent(O);const P=new Kt(de,ke,Qt);return ae.set(We,P),P}function rt(ue=K){const U=ae.get(ue);if(!U&&ue===K&&(0,G.aH)())return Sn();if(!U)throw Re.create("no-app",{appName:ue});return U}function Vn(ue,U,de){var ke;let We=null!==(ke=ne[ue])&&void 0!==ke?ke:ue;de&&(We+=`-${de}`);const Xe=We.match(/\s|\//),Qt=U.match(/\s|\//);if(Xe||Qt){const P=[`Unable to register library "${We}" with version "${U}":`];return Xe&&P.push(`library name "${We}" contains illegal characters (whitespace or "/")`),Xe&&Qt&&P.push("and"),Qt&&P.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void N.warn(P.join(" "))}$e(new z.wA(`${We}-version`,()=>({library:We,version:U}),"VERSION"))}const dr="firebase-heartbeat-database",bn=1,ot="firebase-heartbeat-store";let mt=null;function ai(){return mt||(mt=(0,Y.X3)(dr,bn,{upgrade:(ue,U)=>{0===U&&ue.createObjectStore(ot)}}).catch(ue=>{throw Re.create("idb-open",{originalErrorMessage:ue.message})})),mt}function pn(){return(pn=(0,u.Z)(function*(ue){try{return yield(yield ai()).transaction(ot).objectStore(ot).get(fr(ue))}catch(U){if(U instanceof G.ZR)N.warn(U.message);else{const de=Re.create("idb-get",{originalErrorMessage:U?.message});N.warn(de.message)}}})).apply(this,arguments)}function yi(ue,U){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(ue,U){try{const ke=(yield ai()).transaction(ot,"readwrite");yield ke.objectStore(ot).put(U,fr(ue)),yield ke.done}catch(de){if(de instanceof G.ZR)N.warn(de.message);else{const ke=Re.create("idb-set",{originalErrorMessage:de?.message});N.warn(ke.message)}}})).apply(this,arguments)}function fr(ue){return`${ue.name}!${ue.options.appId}`}class Lt{constructor(U){this.container=U,this._heartbeatsCache=null;const de=this.container.getProvider("app").getImmediate();this._storage=new Pr(de),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var U=this;return(0,u.Z)(function*(){const ke=U.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),We=fo();if(null===U._heartbeatsCache&&(U._heartbeatsCache=yield U._heartbeatsCachePromise),U._heartbeatsCache.lastSentHeartbeatDate!==We&&!U._heartbeatsCache.heartbeats.some(Xe=>Xe.date===We))return U._heartbeatsCache.heartbeats.push({date:We,agent:ke}),U._heartbeatsCache.heartbeats=U._heartbeatsCache.heartbeats.filter(Xe=>{const Qt=new Date(Xe.date).valueOf();return Date.now()-Qt<=2592e6}),U._storage.overwrite(U._heartbeatsCache)})()}getHeartbeatsHeader(){var U=this;return(0,u.Z)(function*(){if(null===U._heartbeatsCache&&(yield U._heartbeatsCachePromise),null===U._heartbeatsCache||0===U._heartbeatsCache.heartbeats.length)return"";const de=fo(),{heartbeatsToSend:ke,unsentEntries:We}=function Ri(ue,U=1024){const de=[];let ke=ue.slice();for(const We of ue){const Xe=de.find(Qt=>Qt.agent===We.agent);if(Xe){if(Xe.dates.push(We.date),An(de)>U){Xe.dates.pop();break}}else if(de.push({agent:We.agent,dates:[We.date]}),An(de)>U){de.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:de,unsentEntries:ke}}(U._heartbeatsCache.heartbeats),Xe=(0,G.L)(JSON.stringify({version:2,heartbeats:ke}));return U._heartbeatsCache.lastSentHeartbeatDate=de,We.length>0?(U._heartbeatsCache.heartbeats=We,yield U._storage.overwrite(U._heartbeatsCache)):(U._heartbeatsCache.heartbeats=[],U._storage.overwrite(U._heartbeatsCache)),Xe})()}}function fo(){return(new Date).toISOString().substring(0,10)}class Pr{constructor(U){this.app=U,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var U=this;return(0,u.Z)(function*(){return(yield U._canUseIndexedDBPromise)&&(yield function et(ue){return pn.apply(this,arguments)}(U.app))||{heartbeats:[]}})()}overwrite(U){var de=this;return(0,u.Z)(function*(){var ke;if(yield de._canUseIndexedDBPromise){const Xe=yield de.read();return yi(de.app,{lastSentHeartbeatDate:null!==(ke=U.lastSentHeartbeatDate)&&void 0!==ke?ke:Xe.lastSentHeartbeatDate,heartbeats:U.heartbeats})}})()}add(U){var de=this;return(0,u.Z)(function*(){var ke;if(yield de._canUseIndexedDBPromise){const Xe=yield de.read();return yi(de.app,{lastSentHeartbeatDate:null!==(ke=U.lastSentHeartbeatDate)&&void 0!==ke?ke:Xe.lastSentHeartbeatDate,heartbeats:[...Xe.heartbeats,...U.heartbeats]})}})()}}function An(ue){return(0,G.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function Qi(ue){$e(new z.wA("platform-logger",U=>new se(U),"PRIVATE")),$e(new z.wA("heartbeat",U=>new Lt(U),"PRIVATE")),Vn(_e,"0.9.20",ue),Vn(_e,"0.9.20","esm2017"),Vn("fire-js","")}("")},4537:(qe,pe,T)=>{T.d(pe,{H0:()=>_e,wA:()=>B});var u=T(5861),z=T(9058);class B{constructor(N,k,ee){this.name=N,this.instanceFactory=k,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const G="[DEFAULT]";class Y{constructor(N,k){this.name=N,this.container=k,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const k=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(k)){const ee=new z.BH;if(this.instancesDeferred.set(k,ee),this.isInitialized(k)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:k});Ae&&ee.resolve(Ae)}catch{}}return this.instancesDeferred.get(k).promise}getImmediate(N){var k;const ee=this.normalizeInstanceIdentifier(N?.identifier),Ae=null!==(k=N?.optional)&&void 0!==k&&k;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ie){if(Ae)return null;throw ie}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if(function ce(oe){return"EAGER"===oe.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:G})}catch{}for(const[k,ee]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(k);try{const ie=this.getOrInitializeService({instanceIdentifier:Ae});ee.resolve(ie)}catch{}}}}clearInstance(N=G){this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}delete(){var N=this;return(0,u.Z)(function*(){const k=Array.from(N.instances.values());yield Promise.all([...k.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...k.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(N=G){return this.instances.has(N)}getOptions(N=G){return this.instancesOptions.get(N)||{}}initialize(N={}){const{options:k={}}=N,ee=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:ee,options:k});for(const[ie,Ne]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(ie)&&Ne.resolve(Ae);return Ae}onInit(N,k){var ee;const Ae=this.normalizeInstanceIdentifier(k),ie=null!==(ee=this.onInitCallbacks.get(Ae))&&void 0!==ee?ee:new Set;ie.add(N),this.onInitCallbacks.set(Ae,ie);const Ne=this.instances.get(Ae);return Ne&&N(Ne,Ae),()=>{ie.delete(N)}}invokeOnInitCallbacks(N,k){const ee=this.onInitCallbacks.get(k);if(ee)for(const Ae of ee)try{Ae(N,k)}catch{}}getOrInitializeService({instanceIdentifier:N,options:k={}}){let ee=this.instances.get(N);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=N,oe===G?void 0:oe),options:k}),this.instances.set(N,ee),this.instancesOptions.set(N,k),this.invokeOnInitCallbacks(ee,N),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,N,ee)}catch{}var oe;return ee||null}normalizeInstanceIdentifier(N=G){return this.component?this.component.multipleInstances?N:G:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(N){this.name=N,this.providers=new Map}addComponent(N){const k=this.getProvider(N.name);if(k.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);k.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.addComponent(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const k=new Y(N,this);return this.providers.set(N,k),k}getProviders(){return Array.from(this.providers.values())}}},7879:(qe,pe,T)=>{T.d(pe,{Am:()=>oe,Ub:()=>_e,Yd:()=>ce,in:()=>z});const u=[];var z=function(N){return N[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT",N}(z||{});const B={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},G=z.INFO,Y={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},se=(N,k,...ee)=>{if(k<N.logLevel)return;const Ae=(new Date).toISOString(),ie=Y[k];if(!ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${k})`);console[ie](`[${Ae}]  ${N.name}:`,...ee)};class ce{constructor(k){this.name=k,this._logLevel=G,this._logHandler=se,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(k){if(!(k in z))throw new TypeError(`Invalid value "${k}" assigned to \`logLevel\``);this._logLevel=k}setLogLevel(k){this._logLevel="string"==typeof k?B[k]:k}get logHandler(){return this._logHandler}set logHandler(k){if("function"!=typeof k)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=k}get userLogHandler(){return this._userLogHandler}set userLogHandler(k){this._userLogHandler=k}debug(...k){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...k),this._logHandler(this,z.DEBUG,...k)}log(...k){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...k),this._logHandler(this,z.VERBOSE,...k)}info(...k){this._userLogHandler&&this._userLogHandler(this,z.INFO,...k),this._logHandler(this,z.INFO,...k)}warn(...k){this._userLogHandler&&this._userLogHandler(this,z.WARN,...k),this._logHandler(this,z.WARN,...k)}error(...k){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...k),this._logHandler(this,z.ERROR,...k)}}function _e(N){u.forEach(k=>{k.setLogLevel(N)})}function oe(N,k){for(const ee of u){let Ae=null;k&&k.level&&(Ae=B[k.level]),ee.userLogHandler=null===N?null:(ie,Ne,...Le)=>{const Fe=Le.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Ne>=(Ae??ie.logLevel)&&N({level:z[Ne].toLowerCase(),message:Fe,args:Le,type:ie.name})}}}},1878:(qe,pe,T)=>{T.d(pe,{X3:()=>we});var u=T(5861);const z=(Q,J)=>J.some(Ce=>Q instanceof Ce);let B,G;const ce=new WeakMap,_e=new WeakMap,oe=new WeakMap,N=new WeakMap,k=new WeakMap;let ie={get(Q,J,Ce){if(Q instanceof IDBTransaction){if("done"===J)return _e.get(Q);if("objectStoreNames"===J)return Q.objectStoreNames||oe.get(Q);if("store"===J)return Ce.objectStoreNames[1]?void 0:Ce.objectStore(Ce.objectStoreNames[0])}return be(Q[J])},set:(Q,J,Ce)=>(Q[J]=Ce,!0),has:(Q,J)=>Q instanceof IDBTransaction&&("done"===J||"store"===J)||J in Q};function Fe(Q){return"function"==typeof Q?function Le(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...J){return Q.apply(Ge(this),J),be(ce.get(this))}:function(...J){return be(Q.apply(Ge(this),J))}:function(J,...Ce){const Ct=Q.call(Ge(this),J,...Ce);return oe.set(Ct,J.sort?J.sort():[J]),be(Ct)}}(Q):(Q instanceof IDBTransaction&&function Ae(Q){if(_e.has(Q))return;const J=new Promise((Ce,Ct)=>{const Ht=()=>{Q.removeEventListener("complete",nn),Q.removeEventListener("error",$t),Q.removeEventListener("abort",$t)},nn=()=>{Ce(),Ht()},$t=()=>{Ct(Q.error||new DOMException("AbortError","AbortError")),Ht()};Q.addEventListener("complete",nn),Q.addEventListener("error",$t),Q.addEventListener("abort",$t)});_e.set(Q,J)}(Q),z(Q,function Y(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,ie):Q)}function be(Q){if(Q instanceof IDBRequest)return function ee(Q){const J=new Promise((Ce,Ct)=>{const Ht=()=>{Q.removeEventListener("success",nn),Q.removeEventListener("error",$t)},nn=()=>{Ce(be(Q.result)),Ht()},$t=()=>{Ct(Q.error),Ht()};Q.addEventListener("success",nn),Q.addEventListener("error",$t)});return J.then(Ce=>{Ce instanceof IDBCursor&&ce.set(Ce,Q)}).catch(()=>{}),k.set(J,Q),J}(Q);if(N.has(Q))return N.get(Q);const J=Fe(Q);return J!==Q&&(N.set(Q,J),k.set(J,Q)),J}const Ge=Q=>k.get(Q);function we(Q,J,{blocked:Ce,upgrade:Ct,blocking:Ht,terminated:nn}={}){const $t=indexedDB.open(Q,J),zt=be($t);return Ct&&$t.addEventListener("upgradeneeded",rn=>{Ct(be($t.result),rn.oldVersion,rn.newVersion,be($t.transaction),rn)}),Ce&&$t.addEventListener("blocked",rn=>Ce(rn.oldVersion,rn.newVersion,rn)),zt.then(rn=>{nn&&rn.addEventListener("close",()=>nn()),Ht&&rn.addEventListener("versionchange",oi=>Ht(oi.oldVersion,oi.newVersion,oi))}).catch(()=>{}),zt}const Ee=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],Se=new Map;function q(Q,J){if(!(Q instanceof IDBDatabase)||J in Q||"string"!=typeof J)return;if(Se.get(J))return Se.get(J);const Ce=J.replace(/FromIndex$/,""),Ct=J!==Ce,Ht=xe.includes(Ce);if(!(Ce in(Ct?IDBIndex:IDBObjectStore).prototype)||!Ht&&!Ee.includes(Ce))return;const nn=function(){var $t=(0,u.Z)(function*(zt,...rn){const oi=this.transaction(zt,Ht?"readwrite":"readonly");let K=oi.store;return Ct&&(K=K.index(rn.shift())),(yield Promise.all([K[Ce](...rn),Ht&&oi.done]))[0]});return function(rn){return $t.apply(this,arguments)}}();return Se.set(J,nn),nn}!function Ne(Q){ie=Q(ie)}(Q=>({...Q,get:(J,Ce,Ct)=>q(J,Ce)||Q.get(J,Ce,Ct),has:(J,Ce)=>!!q(J,Ce)||Q.has(J,Ce)}))},5861:(qe,pe,T)=>{function u(B,G,Y,se,ce,_e,oe){try{var N=B[_e](oe),k=N.value}catch(ee){return void Y(ee)}N.done?G(k):Promise.resolve(k).then(se,ce)}function z(B){return function(){var G=this,Y=arguments;return new Promise(function(se,ce){var _e=B.apply(G,Y);function oe(k){u(_e,se,ce,oe,N,"next",k)}function N(k){u(_e,se,ce,oe,N,"throw",k)}oe(void 0)})}}T.d(pe,{Z:()=>z})},7582:(qe,pe,T)=>{function G(K,ne){var ae={};for(var le in K)Object.prototype.hasOwnProperty.call(K,le)&&ne.indexOf(le)<0&&(ae[le]=K[le]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(le=Object.getOwnPropertySymbols(K);Ie<le.length;Ie++)ne.indexOf(le[Ie])<0&&Object.prototype.propertyIsEnumerable.call(K,le[Ie])&&(ae[le[Ie]]=K[le[Ie]])}return ae}function ee(K,ne,ae,le){return new(ae||(ae=Promise))(function(Me,$e){function xt(ct){try{tt(le.next(ct))}catch(Re){$e(Re)}}function dn(ct){try{tt(le.throw(ct))}catch(Re){$e(Re)}}function tt(ct){ct.done?Me(ct.value):function Ie(Me){return Me instanceof ae?Me:new ae(function($e){$e(Me)})}(ct.value).then(xt,dn)}tt((le=le.apply(K,ne||[])).next())})}function Te(K){return this instanceof Te?(this.v=K,this):new Te(K)}function Ee(K,ne,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,le=ae.apply(K,ne||[]),Me=[];return Ie={},$e("next"),$e("throw"),$e("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function $e(Kt){le[Kt]&&(Ie[Kt]=function(Tn){return new Promise(function(Sn,rt){Me.push([Kt,Tn,Sn,rt])>1||xt(Kt,Tn)})})}function xt(Kt,Tn){try{!function dn(Kt){Kt.value instanceof Te?Promise.resolve(Kt.value.v).then(tt,ct):Re(Me[0][2],Kt)}(le[Kt](Tn))}catch(Sn){Re(Me[0][3],Sn)}}function tt(Kt){xt("next",Kt)}function ct(Kt){xt("throw",Kt)}function Re(Kt,Tn){Kt(Tn),Me.shift(),Me.length&&xt(Me[0][0],Me[0][1])}}function Se(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ne=K[Symbol.asyncIterator];return ne?ne.call(K):(K=function Le(K){var ne="function"==typeof Symbol&&Symbol.iterator,ae=ne&&K[ne],le=0;if(ae)return ae.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&le>=K.length&&(K=void 0),{value:K&&K[le++],done:!K}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ae={},le("next"),le("throw"),le("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function le(Me){ae[Me]=K[Me]&&function($e){return new Promise(function(xt,dn){!function Ie(Me,$e,xt,dn){Promise.resolve(dn).then(function(tt){Me({value:tt,done:xt})},$e)}(xt,dn,($e=K[Me]($e)).done,$e.value)})}}}T.d(pe,{FC:()=>Ee,KL:()=>Se,_T:()=>G,mG:()=>ee,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},qe=>{qe(qe.s=3830)}]);